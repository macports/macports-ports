# $Id$

PortSystem 1.0
name		links
version		2.1pre26
description	Lynx-like WWW browser that supports tables, menus, etc

long_description \
		Lynx-like WWW browser with text and graphics modes with many \
		features like displaying tables, menus, etc.

platforms	darwin freebsd sunos
categories	www
homepage	http://links.twibright.com/
master_sites	http://links.twibright.com/download/ \
				ftp://atrey.karlin.mff.cuni.cz/pub/local/clock/links/
checksums	md5 841af2540c789e254b8465e07e24c684 \
			sha1 b0e2095dc4013f9fae2837af998f91edc6a565a6 \
			rmd160 8e7bbe0f8bb7d71d341405f524ebfb1c144b442b
maintainers	nomaintainer@macports.org blb@macports.org
use_bzip2	yes

configure.args	--enable-javascript --without-ssl --without-svgalib \
				--mandir=${prefix}/share/man
configure.env	CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

patchfiles	patch-html_tbl.c

post-patch {
	reinplace s|/etc/|${prefix}/etc/| ${workpath}/${worksrcdir}/default.c
}

variant darwin {
	configure.env	CPPFLAGS="-I${prefix}/include -no-cpp-precomp" \
					LDFLAGS="-L${prefix}/lib"
}

variant ssl {
	depends_lib-append		lib:libssl:openssl
	configure.args-delete	--without-ssl
	configure.args-append	--with-ssl
}

variant x11 {
	depends_lib-append		lib:libpng.3:libpng lib:libjpeg.62:jpeg \
							lib:libX11:XFree86
	configure.args-append	--enable-graphics --with-x
}

