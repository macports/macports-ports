# $Id$

PortSystem 1.0

name				mod_fcgid
version				2.1

categories			www
platforms			darwin
maintainers			nomaintainer@macports.org

description			An alternative FastCGI module for Apache2
long_description	${description}

homepage			http://fastcgi.coremail.cn/
master_sites		sourceforge:mod-fcgid

distname			${name}.${version}
checksums			sha1 4d69edaadaed11753254bd8b37a355c1151d8225
patchfiles			patch-fcgid_conf.c

depends_lib			port:apache2

use_configure		no

post-patch {
	reinplace "s|/usr/local/apache2|${prefix}/apache2|g" \
		${worksrcpath}/Makefile
}

post-destroot {
	xinstall -m 755 -d ${destroot}${prefix}/apache2/modules \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} AUTHOR COPYING ChangeLog INSTALL.txt \
		${destroot}${prefix}/share/doc/${name}
}

post-install {
	ui_msg	"=========="
	ui_msg	"To enable mod_fcgid in Apache, add"
	ui_msg	"   LoadModule fcgid_module modules/mod_fcgid.so"
	ui_msg	"to ${prefix}/apache2/conf/httpd.conf"
	ui_msg	""
	ui_msg	"For further configuration information please visit"
	ui_msg	"   http://fastcgi.coremail.cn/doc.htm"
	ui_msg	"=========="
}
