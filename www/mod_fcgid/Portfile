# $Id: Portfile,v 1.3 2006/08/28 18:23:27 markd Exp $

PortSystem 1.0

name			mod_fcgid
version			1.09
categories		www
platforms		darwin
maintainers		nomaintainer@macports.org
description		An alternative FastCGI module for Apache2
long_description	${description}

homepage		http://fastcgi.coremail.cn/
master_sites	http://fastcgi.coremail.cn/
distname		${name}.${version}
checksums		sha1 7b7413ddf9fbac62b899832cd86aced186770bca
patchfiles		patch-fcgid_conf.c patch-Makefile

depends_lib		port:apache2

use_configure	no

build.args		prefix=${prefix} \
			CFLAGS="-I. -I/usr/include -I${prefix}/apache2/include -I${prefix}/include/apr-1"

destroot {
	xinstall -m 755 -d ${destroot}${prefix}/apache2/modules \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/.libs/mod_fcgid.so \
		${destroot}${prefix}/apache2/modules
	xinstall -m 644 -W ${worksrcpath} AUTHOR COPYING ChangeLog INSTALL.txt \
		${destroot}${prefix}/share/doc/${name}
}

post-install {
	ui_msg	"=========="
	ui_msg	"To enable mod_fcgid in Apache, add"
	ui_msg	"   LoadModule fcgid_module modules/mod_fcgid.so"
	ui_msg	"to ${prefix}/apache2/conf/httpd.conf"
	ui_msg	""
	ui_msg	"For further configuration information please visit"
	ui_msg	"   http://fastcgi.coremail.cn/doc.htm"
	ui_msg	"=========="
}
