# $Id$

PortSystem 1.0
PortGroup python27 1.0

name			linkchecker
version			7.0
set branch		[join [lrange [split ${version} .] 0 1] .]
categories		www python
maintainers		mww
platforms		darwin freebsd
license			GPL-2+

description		linkchecker for html pages
long_description	linkchecker for html pages with recursive checking, \
				multithreaded, output can be colored or normal text, HTML, \
				SQL, CSV or a sitemap graph in XML or GML format, additionally \
				reports download time for HTML pages HTTP/1.1 and 1.0, HTTPS, \
				FTP, mailto:, news:, nntp:, gopher, telnet and local file \
				links are supported, restrict link checking with regular \
				expression filters for URLs, proxy support, give \
				username/password for HTTP and FTP authorization, robots.txt \
				exclusion protocol support, i18n support, CGI web interface.

homepage		http://linkchecker.sourceforge.net/
master_sites	sourceforge:project/linkchecker/${branch}/
dist_subdir		${name}
distname		LinkChecker-${version}
use_bzip2		yes

checksums		sha1    4facd4b3834e224211654c2e782126c058b03e09 \
				rmd160  c80a9378ef5a5eaa34f4e3ff6883c2b29109bbd3

depends_lib-append	port:py27-pyqt4

pre-build {
	system "cd ${worksrcpath} && make -C doc/html"
}

post-destroot {
	set app LinkChecker
	xinstall -d ${destroot}${applications_dir}/${app}.app/Contents/MacOS
	ln -s ${prefix}/bin/linkchecker-gui ${destroot}${applications_dir}/${app}.app/Contents/MacOS/${app}
}

python.link_binaries_suffix

livecheck.type	freshmeat
