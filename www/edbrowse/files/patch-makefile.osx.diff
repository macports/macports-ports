--- makefile.osx.orig	2010-05-26 09:24:20.000000000 -0400
+++ makefile.osx	2010-05-26 09:25:31.000000000 -0400
@@ -3,7 +3,7 @@
 
 # Flags for gcc compilation.
 #  Performance is not vital here, and -O is buggy, so I leave it out.
-# The -I flags assume smjs is installed in /opt/local/include/js via macports
+# The -I flags assume smjs is installed in @@PREFIX@@/include/js via macports
 
 # Allow for symbolic debugging.
 DEBUGFLAGS=-g -ggdb
@@ -11,13 +11,13 @@
 DEBUGFLAGS=
 endif
 
-CFLAGS = -I/usr/include -I/opt/local/include -I/opt/local/include/js -DSYSBSD -DXP_UNIX -DX86_LINUX $(DEBUGFLAGS)
+CFLAGS = -I@@PREFIX@@/include -I@@PREFIX@@/include/js -DSYSBSD -DXP_UNIX -DX86_LINUX $(DEBUGFLAGS)
 
 # Normal load flags, plus flags for macports
-LFLAGS = -L/usr/lib -L/opt/local/lib
+LFLAGS = -L@@PREFIX@@/lib
 
 # Libraries for edbrowse.
-# I assume you have linked libjs.so into /opt/local/lib/libjs.a
+# I assume you have linked libjs.so into @@PREFIX@@/lib/libjs.a
 # so that -ljs will suffice.
 # -lcrypto is necessary on OS X to provide some ssl functions
 LIBS = -lpcre -lm -lssl -ljs -lcurl -lcrypto
@@ -37,7 +37,7 @@
 
 # You probably need to be root to do this.
 install:
-	install edbrowse /usr/local/bin
+	install edbrowse @@DESTROOT@@/bin
 
 #  odbc stuff
 dbodbc.o dbops.o : dbapi.h eb.h eb.p
