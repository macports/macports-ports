commit f1fd7215d2e031679b64f647744bab3da710716c
Author: Parag Nemade <pnemade@redhat.com>
Date:   2020-11-22T21:13:27+09:00

    Fix FTBFS due to redefinition of sys_errlist
    
    Origin: https://src.fedoraproject.org/rpms/w3m/c/99f30870caac12a3949b6736aa70b7233f4414d5?branch=master
    Bug-Fedora: https://bugzilla.redhat.com/show_bug.cgi?id=1038009
    Bug-MacPorts: https://trac.macports.org/ticket/61356

diff --git a/etc.c b/etc.c
index 16d1295..801b098 100644
--- a/etc.c
+++ b/etc.c
@@ -634,24 +634,6 @@ strerror(int errno)
 }
 #endif				/* not HAVE_STRERROR */
 
-#ifndef HAVE_SYS_ERRLIST
-char **sys_errlist;
-
-prepare_sys_errlist()
-{
-    int i, n;
-
-    i = 1;
-    while (strerror(i) != NULL)
-	i++;
-    n = i;
-    sys_errlist = New_N(char *, n);
-    sys_errlist[0] = "";
-    for (i = 1; i < n; i++)
-	sys_errlist[i] = strerror(i);
-}
-#endif				/* not HAVE_SYS_ERRLIST */
-
 int
 next_status(char c, int *status)
 {
diff --git a/main.c b/main.c
index 2d08762..7bcf898 100644
--- a/main.c
+++ b/main.c
@@ -435,10 +435,6 @@ main(int argc, char **argv, char **envp)
     textdomain(PACKAGE);
 #endif
 
-#ifndef HAVE_SYS_ERRLIST
-    prepare_sys_errlist();
-#endif				/* not HAVE_SYS_ERRLIST */
-
     NO_proxy_domains = newTextList();
     fileToDelete = newTextList();
 
