# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/claudiodangelis/qrcp 0.4.1
categories          sysutils net
maintainers         {cal @neverpanic} openmaintainer

license             MIT
homepage            https://claudiodangelis.com/qrcp/
description         Transfer files over wifi from your computer to your mobile device by scanning a QR code without leaving the terminal.
long_description    ${description}

checksums           ${distname}${extract.suffix} \
                        rmd160  5e70ce41db540d6751ae088376cdb5b923214151 \
                        sha256  89c7df202f7131661f67c64a9c5fc421794dc3403fb4324cf7cc55cdb0e6de2a \
                        size    13319764

go.vendors          github.com/asaskevich/govalidator \
                        lock    475eaeb16496 \
                        rmd160  c9563aa50a3bbf323b07a610062a8dd46dede1e2 \
                        sha256  b5b2683d6b0bb1e516dcba00393f10c198496309575d299a4a996a61207e839d \
                        size    57033 \
                    github.com/chzyer/readline \
                        lock    2972be24d48e \
                        rmd160  933f32b684d0af4b8970d964d610918a9f181df6 \
                        sha256  f5771c6a3d97166a9536f8a45e85e1c40aed9b02089e395d2f4131681cbf692f \
                        size    36826 \
                    github.com/glendc/go-external-ip \
                        lock    139229dcdddd \
                        rmd160  c0f7a7447c6025c8d2f4c14d9092cd1a4bb155fe \
                        sha256  9f0bf3945d0ff2e41278137ec7204f7b8a52c84d3eb876e12d4bd6f825cee724 \
                        size    5659 \
                    github.com/inconshreveable/mousetrap \
                        lock    v1.0.0 \
                        rmd160  5c617a09f1432fc543672a0e0c1e13d3752030c2 \
                        sha256  0e6bae2849f13d12fe361ecac087728e4e97f3482f4cec44f6e7a2c53bb9cd0c \
                        size    2291 \
                    github.com/jhoonb/archivex \
                        lock    0488e4ce1681 \
                        rmd160  f3f52a7b98d1623eb37c90e9137e27c3c7c8c461 \
                        sha256  cde011a4d4ff9312645893d8a0a49f3e0ff3fdea8a33fba6056afb3e23087a8d \
                        size    5178 \
                    github.com/juju/ansiterm \
                        lock    720a0952cc2a \
                        rmd160  c3c15da3b3d62f7caa467b66f45b251e2e868626 \
                        sha256  a0efc9542e6fe50c97cdd999685ddda6069ab44754a6b3c87c6b18b21899e05b \
                        size    15418 \
                    github.com/lunixbochs/vtclean \
                        lock    2d01aacdc34a \
                        rmd160  a378a8e18f9fc0f242d5d25bfe8f3a321f2cfd25 \
                        sha256  7dcc634f0e50b918bddfdd88f7cfa99e35e885c1e53cf61854e8f638a3a90727 \
                        size    4185 \
                    github.com/manifoldco/promptui \
                        lock    v0.7.0 \
                        rmd160  9dc391ee449f2d9c535ab79b19b2ae54c8340d23 \
                        sha256  fed2ddd7c8e15bb66c2679dba0b948cda9e752a4aed5149fb1e65fa9c5331445 \
                        size    26673 \
                    github.com/mattn/go-colorable \
                        lock    v0.1.6 \
                        rmd160  3c6531ff68909aacc83a16f92149722803b465a7 \
                        sha256  3f3b5a79ae9511dd610d288768d782faffa27bf92ad1d6c8be3f37aa9d3bc975 \
                        size    9477 \
                    github.com/mattn/go-isatty \
                        lock    v0.0.12 \
                        rmd160  4f55aecbddbee6089cbac8456d2932bce2cb57e7 \
                        sha256  d4d1912998d401389e06ee1dbed06e32a8db95350416f227fbe6a59ac84f0651 \
                        size    4549 \
                    github.com/mattn/go-runewidth \
                        lock    v0.0.9 \
                        rmd160  412c0e508e55f4fe437be0f71d7d22eca2b4366f \
                        sha256  4f0f4a22257ccecfb6beae88052d850380ecc0e806d6bcc92d3656ebcac3b638 \
                        size    16716 \
                    github.com/mdp/qrterminal \
                        lock    v1.0.1 \
                        rmd160  0c4bc1ee7b75b5a706ca63ab2d354e47f01e9894 \
                        sha256  74ca89ce4e349460fa554098eb65fd24dd0398d6cbadf268b05715746b3487aa \
                        size    2701 \
                    github.com/spf13/cobra \
                        lock    v1.0.0 \
                        rmd160  73602c4d37ad508ba8b35812c793e1df3eda7bb9 \
                        sha256  6cdf3f445559b8f41f5288366a4c26e8d1b1601dac6924af091a49f1f6b11396 \
                        size    128931 \
                    github.com/spf13/pflag \
                        lock    v1.0.5 \
                        rmd160  2ce81608a38c6f383a35bccd24d64361df5828c9 \
                        sha256  7f41acdcba65b1fab5b9b633947a139f9915b60f94bdab486cdbe9d90c54f61e \
                        size    50815 \
                    golang.org/x/sys \
                        lock    d5e6a3e2c0ae \
                        rmd160  013d8fa0f0a54aab5bcb8bc874d85f1566182189 \
                        sha256  bf780ede9ee43be95fc99f13c99c35f5fcb2702eb501c94fb3085b5c616e8d37 \
                        size    1539166 \
                    gopkg.in/cheggaaa/pb.v1 \
                        lock    v1.0.28 \
                        rmd160  d344c349278a6ba83ab17a1854523493632762a3 \
                        sha256  2a6cdb7d2c7984ad3f1d06cee4bef99453fe09720a79024083270b312845cdb0 \
                        size    11796 \
                    github.com/rsc/qr \
                        lock    v0.2.0 \
                        rmd160  f642fe01c13937615e5a975e6a1932f8dc25359a \
                        sha256  1d69d5a13366a84a1484abdec5affd7f5781016469f4b43b1a26f5fa5c93497b \
                        size    18816

post-extract {
    # golang-1.0.tcl doesn't support rsc.io, but those are mirrored at
    # github.com/rsc, so provide a symlink to hide this.
    file mkdir ${gopath}/src/rsc.io
    ln -s ../github.com/rsc/qr ${gopath}/src/rsc.io/qr
}

# Force-disable module support and disallow network access by setting
# GOPROXY=off to force go to use the vendored dependencies
build.env-append    GO111MODULE=off \
                    GOPROXY=off

destroot {
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/
}
