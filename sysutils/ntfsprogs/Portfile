# $Id$

PortSystem 1.0

name                ntfsprogs
version             1.13.1
categories          sysutils
platforms           darwin
maintainers         eridius@macports.org

description         a collection of utilities for doing stuff with NTFS volumes
long_description    $description

homepage            http://www.linux-ntfs.org/

master_sites        sourceforge:linux-ntfs

checksums           md5 23160eb8d34abe3d2a88cd6d054faa47 \
                    sha1 a4e50f6fc10fcc1e1f562ad64bcbf9a0d46ca72a

configure.args      --disable-gnome-vfs --disable-fuse-module --disable-crypto

configure.env       CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

depends_lib         bin:pkg-config:pkgconfig

variant crypto {
    configure.args-delete   --disable-crypto
    configure.args-append   --enable-crypto
    
    depends_lib-append  lib:libgcrypt:libgcrypt lib:libgnutls:gnutls
    # I don't know why but trace mode complained about the following libraries
    # though I can't find any references in the source tree. Lets quiet trace mode
    depends_lib-append port:gettext port:libgpg-error port:libiconv port:libtasn1 port:zlib
}

variant extra {
    build.target-append     extra
}

platform darwin {}

post-destroot {
    if {[variant_isset darwin]} {
        # /sbin/mkfs.ntfs is unnecessary since darwin doesn't have mkfs
        delete ${destroot}/sbin/mkfs.ntfs
    }
}