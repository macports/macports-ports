# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           cargo 1.0

github.setup        sharkdp fd 7.3.0 v
categories          sysutils
platforms           darwin
maintainers         {saagarjha.com:saagar @saagarjha} \
                    openmaintainer
license             {MIT Apache-2}

description         simple, fast and user-friendly alternative to find
long_description    fd is a simple, fast and user-friendly alternative to find. \
                    While it does not seek to mirror all of find's powerful \
                    functionality, it provides sensible (opinionated) defaults \
                    for 80% of the use cases.

checksums           fd-${version}.tar.gz \
                    rmd160  41c9af67dfb384d08216037d664e8aa2f48cfa7d \
                    sha256  5a37bd04cce61acd3f0cd8635eca9ae0fc621545d0cacf03acbcf4392d8d9bd5 \
                    size    57703

cargo.crates \
    aho-corasick                     0.6.9  1e9a933f4e58658d7b12defcf96dc5c720f20832deebe3e0a19efd3b6aaeeb9e \
    ansi_term                       0.11.0  ee49baf6cb617b853aa8d93bf420db2383fab46d314482ca2803b40d5fde979b \
    atty                            0.2.11  9a7d5b8723950951411ee34d271d99dddcc2035a16ab25310ea2c8cfd4369652 \
    bitflags                         1.0.4  228047a76f468627ca71776ecdebd732a3423081fcf5125585bcd7c49886ce12 \
    cc                              1.0.29  4390a3b5f4f6bce9c1d0c00128379df433e53777fdd30e92f16a529332baec4e \
    cfg-if                           0.1.6  082bb9b28e00d3c9d39cc03e64ce4cea0f1bb9b3fde493f0cbc008472d22bdf4 \
    clap                            2.32.0  b957d88f4b6a63b9d70d5f454ac8011819c6efa7727858f458ab71c756ce2d3e \
    crossbeam-channel                0.3.8  0f0ed1a4de2235cabda8558ff5840bffb97fcb64c97827f354a451307df5f72b \
    crossbeam-utils                  0.6.5  f8306fcef4a7b563b76b7dd949ca48f52bc1141aa067d2ea09565f3e2652aa5c \
    ctrlc                            3.1.1  630391922b1b893692c6334369ff528dcc3a9d8061ccf4c803aa8f83cb13db5e \
    diff                            0.1.11  3c2b69f912779fbb121ceb775d74d51e915af17aaebc38d28a592843a2dd0a3a \
    filetime                         0.2.4  a2df5c1a8c4be27e7707789dc42ae65976e60b394afd293d1419ab915833e646 \
    fnv                              1.0.6  2fad85553e09a6f881f739c29f0b00b0f01357c743266d478b68951ce23285f3 \
    fuchsia-cprng                    0.1.1  a06f77d526c1a601b7c4cdd98f54b5eaabffc14d5f2f0296febdc7f357c6d3ba \
    globset                          0.4.2  4743617a7464bbda3c8aec8558ff2f9429047e025771037df561d383337ff865 \
    humantime                        1.2.0  3ca7e5f2e110db35f93b837c81797f3714500b81d517bf20c431b16d3ca4f114 \
    ignore                           0.4.6  ad03ca67dc12474ecd91fdb94d758cbd20cb4e7a78ebe831df26a9b7511e1162 \
    kernel32-sys                     0.2.2  7507624b29483431c0ba2d82aece8ca6cdba9382bff4ddd0f7490560c056098d \
    lazy_static                      1.2.0  a374c89b9db55895453a74c1e38861d9deec0b01b405a82516e9d5de4820dea1 \
    libc                            0.2.48  e962c7641008ac010fa60a7dfdc1712449f29c44ef2d4702394aea943ee75047 \
    log                              0.4.6  c84ec4b527950aa83a329754b01dbe3f58361d1c5efacd1f6d68c494d08a17c6 \
    lscolors                         0.5.0  e9938fd8c379393454f73ec4c9c5b40f3d8332d80b25a29da05e41ee0ecbb559 \
    memchr                           2.2.0  2efc7bc57c883d4a4d6e3246905283d8dae951bb3bd32f49d6ef297f546e1c39 \
    nix                             0.11.0  d37e713a259ff641624b6cb20e3b12b2952313ba36b6823c0f16e6cfd9e5de17 \
    num_cpus                        1.10.0  1a23f0ed30a54abaa0c7e83b1d2d87ada7c3c23078d1d87815af3e3b6385fbba \
    quick-error                      1.2.2  9274b940887ce9addde99c4eee6b5c44cc494b182b97e73dc8ffdcb3397fd3f0 \
    rand                             0.4.6  552840b97013b1a26992c11eac34bdd778e464601a4c2054b5f0bff7c6761293 \
    rand_core                        0.3.1  7a6fdeb83b075e8266dcc8762c22776f6877a63111121f5f8c7411e5be7eed4b \
    rand_core                        0.4.0  d0e7a549d590831370895ab7ba4ea0c1b6b011d106b5ff2da6eee112615e6dc0 \
    rdrand                           0.4.0  678054eb77286b51581ba43620cc911abf02758c91f93f479767aed0f90458b2 \
    redox_syscall                   0.1.51  423e376fffca3dfa06c9e9790a9ccd282fafb3cc6e6397d01dbf64f9bacc6b85 \
    redox_termios                    0.1.1  7e891cfe48e9100a70a3b6eb652fef28920c117d366339687bd5576160db0f76 \
    regex                            1.1.0  37e7cbbd370869ce2e8dff25c7018702d10b21a20ef7135316f8daecd6c25b7f \
    regex-syntax                     0.6.5  8c2f35eedad5295fdf00a63d7d4b238135723f92b434ec06774dad15c7ab0861 \
    remove_dir_all                   0.5.1  3488ba1b9a2084d38645c4c08276a1752dcbf2c7130d74f1569681ad5d2799c5 \
    same-file                        1.0.4  8f20c4be53a8a1ff4c1f1b2bd14570d2f634628709752f0702ecdd2b3f9a5267 \
    smallvec                         0.6.8  88aea073965ab29f6edb5493faf96ad662fb18aa9eeb186a3b7057951605ed15 \
    strsim                           0.7.0  bb4f380125926a99e52bc279241539c018323fab05ad6368b56f93d9369ff550 \
    tempdir                          0.3.7  15f2b5fb00ccdf689e0149d1b1b3c03fead81c2b37735d812fa8bddbbf41b6d8 \
    term_size                        0.3.1  9e5b9a66db815dcfd2da92db471106457082577c3c278d4138ab3e3b4e189327 \
    termion                          1.5.1  689a3bdfaab439fd92bc87df5c4c78417d3cbe537487274e9b0b2dce76e92096 \
    textwrap                        0.10.0  307686869c93e71f94da64286f9a9524c0f308a9e1c87a583de8e9c9039ad3f6 \
    thread_local                     0.3.6  c6b53e329000edc2b34dbe8545fd20e55a333362d0a321909685a19bd28c3f1b \
    ucd-util                         0.1.3  535c204ee4d8434478593480b8f86ab45ec9aae0e83c568ca81abf0fd0e88f86 \
    unicode-width                    0.1.5  882386231c45df4700b275c7ff55b6f3698780a650026380e72dabe76fa46526 \
    unreachable                      1.0.0  382810877fe448991dfc7f0dd6e3ae5d58088fd0ea5e35189655f84e6814fa56 \
    utf8-ranges                      1.0.2  796f7e48bef87609f7ade7e06495a87d5cd06c7866e6a5cbfceffc558a243737 \
    vec_map                          0.8.1  05c78687fb1a80548ae3250346c3db86a80a7cdd77bda190189f2d0a0987c81a \
    version_check                    0.1.5  914b1a6776c4c929a602fafd8bc742e06365d4bcbe48c30f9cca5824f70dc9dd \
    void                             1.0.2  6a02e4885ed3bc0f2de90ea6dd45ebcbb66dacffe03547fadbb0eeae2770887d \
    walkdir                          2.2.7  9d9d7ed3431229a144296213105a390676cc49c9b6a72bd19f3176c98e129fa1 \
    winapi                           0.2.8  167dc9d6949a9b857f3451275e911c3f44255842c1f7a76f33c55103a909087a \
    winapi                           0.3.6  92c1eb33641e276cfa214a0522acad57be5c56b10cb348b3c5117db75f3ac4b0 \
    winapi-build                     0.1.1  2d315eee3b34aca4797b2da6b13ed88266e6d612562a0c46390af8299fc699bc \
    winapi-i686-pc-windows-gnu       0.4.0  ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6 \
    winapi-util                      0.1.2  7168bab6e1daee33b4557efd0e95d5ca70a03706d39fa5f3fe7a236f584b03c9 \
    winapi-x86_64-pc-windows-gnu     0.4.0  712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f


pre-build {
    file mkdir ${worksrcpath}/shell_completions
}

build.env-append    SHELL_COMPLETIONS_DIR=shell_completions

destroot {
    xinstall -m 755 ${worksrcpath}/target/[cargo.rust_platform]/release/${name} ${destroot}${prefix}/bin/
    xinstall -m 444 ${worksrcpath}/doc/${name}.1 ${destroot}${prefix}/share/man/man1/

    xinstall -d ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${worksrcpath} \
        README.md LICENSE-MIT LICENSE-APACHE \
        ${destroot}${prefix}/share/doc/${name}

    xinstall -d ${destroot}${prefix}/share/bash-completion/completions
	xinstall -m 644 ${worksrcpath}/shell_completions/fd.bash \
        ${destroot}${prefix}/share/bash-completion/completions/fd
    xinstall -d ${destroot}${prefix}/share/zsh/site-functions
	xinstall -m 644 ${worksrcpath}/shell_completions/_fd \
        ${destroot}${prefix}/share/zsh/site-functions/_fd
    xinstall -d ${destroot}${prefix}/share/fish/completions
    xinstall -m 644 ${worksrcpath}/shell_completions/fd.fish \
        ${destroot}${prefix}/share/fish/completions/fd.fish
}
