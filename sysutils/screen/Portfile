# $Id: Portfile,v 1.8 2003/04/28 11:12:25 fkr Exp $
PortSystem 1.0

name            screen
version         3.9.15
revision	1
homepage        http://www.gnu.org/software/screen/
description     Screen manager with VT100/ANSI terminal emulation
long_description	Screen is a full-screen window manager that multiplexes a physical \
			terminal between several processes (typically interactive shells). \
			Each virtual terminal provides the functions of a DEC VT100 terminal \
			and, in addition, several control functions from the ANSI X3.64 (ISO \
			6429) and ISO 2022 standards (e.g. insert/delete line and support for \
			multiple character sets). There is a scrollback history buffer for each \
			virtual terminal and a copy-and-paste mechanism that allows moving text \
			regions between windows.
categories      sysutils
platforms       darwin
maintainers     digdog@opendarwin.org
master_sites    http://ftp.gnu.org/pub/gnu/screen/ \
                http://www.cis.nctu.edu.tw/~is85005/dports/screen/:encoding

# The file '18' above is a fix for UTF8-to-Big5HKSCS encoding translation.
# Reference: http://freebsd.sinica.edu.tw/~statue/index.php?file=20020513

distfiles-append 18:encoding
checksums       ${distname}${extract.sufx} md5 0dff6fdc3fbbceabf25a43710fbfe75f \
                18 md5 e5c53546a5c4968bd7e807c88e6b2198
extract.only    ${distname}${extract.sufx}
post-extract	{system "cp ${distpath}/18 ${workpath}" }
configure.args  {--enable-pam --enable-locale --enable-telnet --enable-colors256 --enable-rxct_osc}
post-install    {system "cp ${workpath}/18 ${destroot}/${prefix}/share/utf8encodings"
                 system "cp ${workpath}/${distname}/etc/etcscreenrc ${destroot}/${prefix}/etc/screenrc"
                 system "cp ${workpath}/${distname}/terminfo/screencap ${destroot}/${prefix}/etc/termcap"
                 system "tic ${workpath}/${distname}/terminfo/screeninfo.src"}

variant darwin  { patchfiles    patch-osdef.h.in }
