# $Id$

PortSystem 1.0
name            file
version         4.19
revision        1
categories      sysutils
maintainers     toby@opendarwin.org
description     File - determine file type
long_description \
    File tests each argument in an attempt to classify it. There are    \
    three sets of tests, performed in this order: filesystem tests,     \
    magic number tests, and language tests. The first test that         \
    succeeds causes the file type to be printed.

homepage        ftp://ftp.astron.com/pub/file/
platforms       darwin
master_sites    ftp://ftp.gw.com/mirrors/pub/unix/file/ \
                  ftp://ftp.fu-berlin.de/unix/tools/file/ \
                  ftp://ftp.astron.com/pub/file/
checksums       sha1 035c2ddf46e1a80e8ddec8e74601d9d2ee4f6ce3
configure.args  --mandir=${prefix}/share/man \
                --enable-fsect-man5 \
                --program-prefix=g
configure.env   CPPFLAGS="-I${prefix}/include" \
                LDFLAGS="-L${prefix}/lib"
depends_lib     port:zlib

variant with_default_names {
    post-destroot {
        foreach d {bin share/man/man1 share/man/man3 share/man/man5} {
            cd ${destroot}${prefix}/$d
            foreach a [glob g*] {
                regexp g(.+) $a crap b
                file link -hard $b g$b
            }
        }
    }
}
