# $Id: Portfile,v 1.9 2004/02/03 00:30:08 waqar Exp $

PortSystem 1.0
name		osxutils
version		1.3
categories	devel
maintainers	waqar@opendarwin.org
description	Command line utilities for Finder commands
long_description	\
	osxutils is a package of potentially useful Mac-oriented command \
	line utilities for MacOS X version 10.0 or later. These tools \
	represent an effort in bringing command line control over certain \
	aspects of the MacOS, in particular file meta-data such as Finder \
	flags, heritage file Type and Creator codes, comments and \
	suffixes/file extensions.
homepage        http://sourceforge.net/projects/osxutils/
platforms	macosx
master_sites    sourceforge
extract.suffix	.tgz
distname	${name}-${version}-src
checksums	md5 03120e6f11133850c96ce9bbf7ffa3cd
use_configure   no
build.type	pbx
build.target	{}
set b_progs	"lsmac setfcomment setfctypes setfflags setlabel setsuffix"
set i_progs	"cpath google trash"
pre-build	{
	system "cd ${worksrcpath}/setfcomment && \
		mv setfcomment.c main.c"
	system "cd ${worksrcpath}/setlabel && \
		mv setlabel.c main.c"
}
build		{
	foreach prog ${b_progs} {
		cd ${worksrcpath}/${prog}
		system "${build.cmd}"
	}
}	
destroot.destdir
destroot	{
	foreach prog ${i_progs} {
		system "cd ${worksrcpath}/${prog} && install -m 555 \
		 	${prog} ${destroot}${prefix}/bin/" 
		system "cd ${worksrcpath}/${prog} && install -m 444 \
			${prog}.1 ${destroot}/${prefix}/share/man/man1/"
	}
	foreach prog ${b_progs} {
		system "cd ${worksrcpath}/${prog}/build && install -m 555 \
			${prog} ${destroot}${prefix}/bin/"
		system "cd ${worksrcpath}/${prog} && install -m 444 \
			${prog}.1 ${destroot}/${prefix}/share/man/man1/"
	}
}

