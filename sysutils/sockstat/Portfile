# $Id: Portfile,v 1.2 2005/05/07 08:34:34 toby Exp $

PortSystem 1.0
name		sockstat
version		1.6.2.6
categories	sysutils
maintainers	mjhsieh@yahoo.com
description	The sockstat utility lists current open sockets.
long_description	The sockstat command lists open Internet or UNIX \
			domain sockets. Current version of sockstat from \
			FreeBSD is written in C while this old version is \
			still in Perl. This program is from FreeBSD's source \
			tree.

homepage	http://www.freebsd.org/cgi/cvsweb.cgi/src/usr.bin/sockstat/?hideattic=0&only_with_tag=RELENG_4_9
master_sites	http://www.life.nthu.edu.tw/~mjhsieh/src
platforms	darwin
checksums	md5 3809544b007fd2467c82c199bb255a18

use_configure	no

platform darwin 8 {
	ui_error "==== ATTENTION!!!! ===="
	ui_error "Sockstat is not working under darwin 8 nor tiger. Please use"
	ui_error "lsof -i6/lsof -i4/lsof -U instead."
	ui_error "==== ATTENTION!!!! ===="
	ui_error "Please sudo port uninstall sockstat"
}

destroot	{ 
	xinstall -d -m 0755 ${destroot}${prefix}/bin
        xinstall -d -m 0755 ${destroot}${prefix}/share/man/man1
	xinstall -m 0755 ${worksrcpath}/sockstat.pl \
		${destroot}${prefix}/bin/sockstat
	xinstall -m 0644 ${worksrcpath}/sockstat.1 \
		${destroot}${prefix}/share/man/man1
}
