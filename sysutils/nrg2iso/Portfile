# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
PortGroup               makefile 1.0

name                    nrg2iso
version                 0.4.1
revision                0
categories              sysutils
license                 GPL-3+
maintainers             nomaintainer

description             Converts Nero Burning ROM images to ISO images
long_description        {*}${description}.

homepage                http://gregory.kokanosky.free.fr/v4/linux/nrg2iso.en.html
master_sites            http://gregory.kokanosky.free.fr/v4/linux/

checksums               rmd160  a0f8c58e2f40662ed431fa13a571e31aa1066ab2 \
                        sha256  3be36a416758fc1910473b49a8dadf2a2aa3d51f1976197336bc174bc1e306e5 \
                        size    14949

patch.pre_args-replace  -p0 -p1
patchfiles              c-compiler.patch

post-patch {
    reinplace "s|VERSION \"0.4\"|VERSION \"${version}\"|" ${worksrcpath}/${name}.c
}

destroot {
    xinstall -m 755 ${worksrcpath}/${name} ${destroot}${prefix}/bin
    xinstall -d ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${worksrcpath} CHANGELOG COPYING \
        ${destroot}${prefix}/share/doc/${name}
}
