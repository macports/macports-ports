# $Id$

PortSystem 1.0
PortGroup xcode 1.0

name            burn-app
version         1.721
categories      sysutils
platforms       macosx
maintainers     raimue

description     Burn.app is a burning application for Mac OS X
long_description \
                Burn.app is an open source frontend for Apple's DiscBurning \
                Framework

homepage        http://burn-osx.sourceforge.net/
master_sites    sourceforge:burn-osx
distname        Burn[strsed ${version} {s/\.//}]src

checksums       md5     5755e3541ea8f2cf3733fcd25760a534 \
                sha1    f55e622d3de9da49d3879a01e2e116a2be737ccc \
                rmd160  00b40fa70b2a4b2be1fe50fc2e2a876c9948abed

use_zip         yes

post-extract {
    ln -sf ${prefix}/lib/libiconv.2.dylib ${worksrcpath}/Frameworks/libiconv.2.dylib
}

patch {
	reinplace -E "/(MACOSX_DEPLOYMENT_TARGET|SDKROOT) =/d" \
		${worksrcpath}/Burn.xcodeproj/project.pbxproj
}

xcode.configuration     Release

variant universal {
    xcode.target        "Burn Universal"
}

platform i386 {
    if {![variant_isset universal]} {
        xcode.target        "Burn Intel"
    }
}

platform x86_64 {
    if {![variant_isset universal]} {
        xcode.target        "Burn Intel"
    }
}

platform ppc {
    if {![variant_isset universal]} {
        xcode.target        "Burn PowerPC"
    }
}

platform ppc64 {
    if {![variant_isset universal]} {
        xcode.target        "Burn PowerPC"
    }
}

livecheck.regex {<title>Burn (.*)u released.*</title>}
