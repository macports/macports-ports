# $Id$

PortSystem 1.0
name            socat
version         1.4.2.0
categories      sysutils net
maintainers     md@hudora.de
platforms       darwin
description     netcat on steroids
long_description        \
 socat is a relay for bidirectional data transfer between two independent data \
 channels. Each of these data channels may be a file, pipe, device (serial line \
 etc. or a pseudo terminal), a socket (UNIX, IP4, IP6 - raw, UDP, TCP), an \
 SSL socket, proxy CONNECT connection, a file descriptor (stdin etc.), the \
 GNU line editor (readline), a program, or a combination of two of these. 
master_sites    http://www.dest-unreach.org/socat/download/
checksums       md5 17694e6390f3488c5318a2cb18ec9919
worksrcdir      socat-1.4
depends_lib		port:readline
configure.cflags-append	"-L${prefix}/lib -lreadline"
post-configure {
    reinplace "s|\$(INSTALL) -m 644 socat.1 \$(DESTDIR)\$(MANDEST)/man1/|\$(INSTALL) -d -m 755 \$(DESTDIR)\$(MANDEST)/man1/\\\n\\\t\$(INSTALL) -m 644 socat.1 \$(DESTDIR)\$(MANDEST)/man1/|g" \
              ${worksrcpath}/Makefile
}
post-destroot {
	file rename ${destroot}${prefix}/man/man1/socat.1 ${destroot}${prefix}/share/man/man1/socat.1
}

platform darwin 9 {
    configure.args-append --disable-termios
}
