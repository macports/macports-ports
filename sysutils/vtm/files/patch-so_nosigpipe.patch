--- src/netxs/os/system.hpp
+++ src/netxs/os/system.hpp
@@ -1287,7 +1287,7 @@ namespace netxs::os
             #else
 
                 auto count = IS_TTY ? ::write(fd, buff, size)
-                                    : ::send (fd, buff, size, MSG_NOSIGNAL); // not work with open_pty
+                                    : ::send (fd, buff, size, SO_NOSIGPIPE); // not work with open_pty
                                                                              // recursive connection causes sigpipe on destroy when using write(2) despite using ::signal(SIGPIPE, SIG_IGN)
                 //  send(2) does not work with file descriptors, only sockets.
                 // write(2) works with fds as well as sockets.
