# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/coreos/butane 0.26.0 v
github.tarball_from archive
revision            0
categories          sysutils
maintainers         nomaintainer
license             Apache-2
homepage            https://coreos.github.io/butane/

description         Butane translates Butane Configs into Ignition Configs.

long_description    Butane translates human-readable Butane Configs into \
                    machine-readable Ignition Configs for provisioning \
                    operating systems that use Ignition, such as Fedora CoreOS.

checksums           ${distname}${extract.suffix} \
                        rmd160  d532fcee52fa27096317b61a4707e6af4c0d426a \
                        sha256  4294b92ab18cecfad3758100017d4fa3af6da131b3ae1ce1074c5c0e836fa9bd \
                        size    692637

go.vendors          gopkg.in/yaml.v3 \
                        lock    v3.0.1 \
                        rmd160  e85ac1368fb7f9ef945b7fd7bd608a1f0d261c12 \
                        sha256  f3ea6be3f405ec25f8799773355aba54f8831d11f5315a01155bdc69b92eca7b \
                        size    91208 \
                    gopkg.in/check.v1 \
                        lock    41f04d3bba15 \
                        rmd160  1e5543a8e6a3159296ee63e28cbde9931a04f6b3 \
                        sha256  c41575a73d10809f89b05ef9e783f2d53facdc6573697770d30efb05a9d2dc28 \
                        size    31612 \
                    github.com/vincent-petithory/dataurl \
                        lock    v1.0.0 \
                        rmd160  7ca9265612cfb9e6dde563d74e06fca9b188a3e2 \
                        sha256  4aae6cb73f46068289c415beaf5529c0212cf12b8cd7d3776548733eccb35f6a \
                        size    11594 \
                    github.com/stretchr/testify \
                        lock    v1.11.1 \
                        rmd160  d6dec631a506398b8b731a0476b9e44c206243ac \
                        sha256  759279b90772bfc79db1620874f45eb008aceab35b14f007cb4ab8316a2398db \
                        size    116867 \
                    github.com/spf13/pflag \
                        lock    v1.0.10 \
                        rmd160  eb2e68c61d88ce1e22cf4b75b31de9815ee375b5 \
                        sha256  8e29e9893c782030a639e4e1ff4442cef352fa54b64aaa11c35163d550ce10dd \
                        size    63166 \
                    github.com/rogpeppe/go-internal \
                        lock    v1.9.0 \
                        rmd160  acb8f644e5634bdae632cdb61ea736422aeb88f0 \
                        sha256  65b0852e5c78fa920fef2176fa17180bf1f7f32a1163baacb44c2aa480845a16 \
                        size    133682 \
                    github.com/pmezard/go-difflib \
                        lock    5d4384ee4fb2 \
                        rmd160  18b381fb63f46047dcc373a07a40e026b1ce1732 \
                        sha256  64935467335b4dff1a510bc726473b9f97124ca6be3fe74c9c2382b0ff6675aa \
                        size    11401 \
                    github.com/mitchellh/reflectwalk \
                        lock    v1.0.2 \
                        rmd160  0371e346bfe14926662afff3eeda22ce6dc6d2a4 \
                        sha256  472ea8302bfe36cd5ea5a66cb9ee996d6984ce74bfc9b7c15e763f21687b3eff \
                        size    6863 \
                    github.com/mitchellh/copystructure \
                        lock    v1.2.0 \
                        rmd160  401559c8d2db7a6becabf583dca6843e5cd3c5ac \
                        sha256  e6cbd00eca63c91837cd094e89bda52d067163dc5b5db12758b8995c75fd3377 \
                        size    9936 \
                    github.com/kr/text \
                        lock    v0.2.0 \
                        rmd160  48558c7e8ff67d510f83c66883907e95f4783163 \
                        sha256  2f2e21ac8a9d523e88cbba4039441defc4a66bfaa78811c900a88fcf28729c4c \
                        size    8702 \
                    github.com/kr/pretty \
                        lock    v0.3.1 \
                        rmd160  8c08579b4c56cdc958794e77afe3413e80aa67c3 \
                        sha256  7fcea475d6280976cf4a838e75d2b3a4105827316e588a80e49e8063d950c999 \
                        size    10232 \
                    github.com/davecgh/go-spew \
                        lock    d8f796af33cc \
                        rmd160  412da847dd485c586e0557e0e511bbdab6c7e929 \
                        sha256  989c527fb1568e2bfd9d4bec811d67ababa346d20fa2ffcc0760fad258241c26 \
                        size    42174 \
                    github.com/coreos/vcontext \
                        lock    d72178a18687 \
                        rmd160  ce50f5a16806c19ec5ce7e58695a445952099ba0 \
                        sha256  4e2946623d69565882a1c64186c555ddb7fe8069ed02df551921180131d4a1b4 \
                        size    15983 \
                    github.com/coreos/ignition \
                        lock    v2.25.0 \
                        rmd160  67f3f3f93dcc1668bef9c5139b73286262238e41 \
                        sha256  190e724512fa84b300d94cada187a413596f20e415d19f7142d0fee6f0b9bff4 \
                        size    8478151 \
                    github.com/coreos/go-systemd \
                        lock    v22.6.0 \
                        rmd160  fd75e74feab84fc7936013921d93d53e19a2522d \
                        sha256  6152c7044505009ef79156aa19b44613ef60412c0becbfdd8ab61fbc2ee91e5d \
                        size    77945 \
                    github.com/coreos/go-semver \
                        lock    v0.3.1 \
                        rmd160  b88448b88ac26286ebac14c2145a520d414ff6bb \
                        sha256  8e38d96d094d1f75002da4f981697f7bfd27e3e08a540c1badcba5843935a904 \
                        size    11237 \
                    github.com/coreos/go-json \
                        lock    18775e0fb4fb \
                        rmd160  6ffec6be15c86cfcc07c0ad362a8587e853b3164 \
                        sha256  253f011d6e5e348a053271fce785e0a939b7f902649e9d014440a368d26d938e \
                        size    191026 \
                    github.com/clarketm/json \
                        lock    v1.17.1 \
                        rmd160  a1e2b36354bae649c63f52320bb97dd10aa23a67 \
                        sha256  2ac6fe410345d7c3dc01a8680e44064c36e9742938f419e1aad78915a4f9953f \
                        size    188635 \
                    github.com/aws/aws-sdk-go-v2 \
                        lock    v1.40.1 \
                        rmd160  00baa7e60c2ab1f16f5fa66691b2845322aa0f36 \
                        sha256  89c6f6a4f40931aa0e06afb4356ad7daf08961af771bfa9494cbc7c2e0e450f4 \
                        size    57406314

build.args          -o ${name} \
                    -ldflags -X\\ github.com/coreos/butane/internal/version.Raw=${version} \
                    internal/main.go

destroot {
    set docdir ${prefix}/share/doc/${subport}
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin
    xinstall -d ${destroot}${docdir}
    xinstall -m 0644 \
        ${worksrcpath}/LICENSE \
        ${worksrcpath}/README.md \
        ${destroot}${docdir}
    xinstall -d ${destroot}${docdir}/docs
    xinstall -m 0644 \
        {*}[glob ${worksrcpath}/docs/*.md] \
        ${destroot}${docdir}/docs
}
