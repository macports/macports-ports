# $Id$

PortSystem 1.0
name		cmake-devel
version		2.4.1
categories	devel
maintainers	css@macports.org
description	Cross-platform make (bleeding edge version)
homepage	http://www.cmake.org/
platforms	darwin
long_description	\
	An extensible, open-source system that manages the build 	\
	process in an operating system and compiler independent manner. \
	Unlike many cross-platform systems, CMake is designed to be 	\
	used in conjunction with the native build environment.

# Tarball development releases are sometimes available from Kitware.
master_sites	http://www.cmake.org/files/v2.4/
distname	cmake-${version}
checksums	md5 b3a4588015af8157d9161da771cc5814

# Otherwise, fetch the latest source directly from CVS.
#fetch.type	cvs
#cvs.root	:pserver:anonymous@www.cmake.org:/cvsroot/CMake
#cvs.module	CMake
#cvs.password	cmake
#cvs.date	2006/03/02
#worksrcdir	CMake

configure.args	--mandir=/share/man --docdir=/share/doc/CMake

post-destroot {
	xinstall -d -m 0755 ${destroot}${prefix}/share/emacs/site-lisp
	xinstall -m 0644 ${worksrcpath}/Docs/cmake-mode.el \
		${destroot}${prefix}/share/emacs/site-lisp
	xinstall -m 0644 -W ${worksrcpath}/Docs cmake-indent.vim \
		cmake-syntax.vim ${destroot}${prefix}/share/doc/CMake
	xinstall -m 0644 ${worksrcpath}/CMake.rtf \
		${destroot}${prefix}/share/doc/CMake
}

platform darwin 8 {
	configure.env CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}
