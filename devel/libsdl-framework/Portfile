# $Id$

PortSystem      1.0
PortGroup       xcode 1.0

name            libsdl-framework
version         1.2.12
categories      devel multimedia
maintainers     nox openmaintainer
description     Cross-platform multi-media development API

long_description \
                Simple DirectMedia Layer is a cross-platform \
                multimedia library designed to provide fast access \
                to the graphics framebuffer and audio device. It is \
                used by MPEG playback software, emulators, and many \
                popular games, including the award winning Linux \
                port of \"Civilization: Call To Power.\" Simple \
                DirectMedia Layer supports Linux, Win32, BeOS, \
                MacOS, Solaris, IRIX, and FreeBSD.

# Dummy configure to enable the universal variant.
use_configure	yes
configure		{}

homepage        http://www.libsdl.org/
master_sites    ${homepage}release/
distname        SDL-${version}
dist_subdir     libsdl

checksums       md5 544b4554986e51eed6d34435cf9c5f3f \
                sha1 2c37ff1683368369c0f555d4a742f0544153610d \
                rmd160 3871023c63ea056eba43ce4f55ee8d3a73ff3022

platforms       macosx

xcode.project			Xcode/SDL/SDL.xcodeproj
xcode.target        	"Framework Without X11 Stuff (for those who didn't install the X11 headers with Xcode)"
xcode.destroot.settings	${xcode.build.settings}
xcode.destroot.type 	framework

post-extract {
    system "cd ${srcworkpath} && tar -xvzf Xcode.tar.gz"
}

variant x11 {
    xcode.target Framework
}

platform darwin 7 {
	xcode.build.settings	MACOSX_DEPLOYMENT_TARGET_ppc=10.3 \
							SDKROOT_ppc=/Developer/SDKs/MacOSX10.3.9.sdk
	xcode.destroot.settings	${xcode.build.settings}
}

platform darwin 8 {
	xcode.build.settings	MACOSX_DEPLOYMENT_TARGET_ppc=10.4 \
							SDKROOT_ppc=/Developer/SDKs/MacOSX10.4u.sdk
	xcode.destroot.settings	${xcode.build.settings}
}

platform darwin i386 {
    if {! [variant_isset universal]} {
        xcode.build.settings-append		ARCHS=i386
		xcode.destroot.settings-append	ARCHS=i386
    }
}

platform darwin powerpc {
    if {! [variant_isset universal]} {
        xcode.build.settings-append		ARCHS=ppc
		xcode.destroot.settings-append	ARCHS=ppc
    }
}

