# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        oven-sh bun 1.2.22 v
git.branch          ${github.project}-${github.tag_prefix}${github.version}

# name                bun
# version             1.2.21
maintainers         {johnlindop.com:git @JLindop} openmaintainer
# revision            0
# epoch               0

description         Bun is an all-in-one toolkit for JavaScript and TypeScript apps.

long_description    Bun is a fast JavaScript runtime designed as a drop-in replacement for Node.js. \
                    It's written in Zig and powered by JavaScriptCore under the hood, \
                    dramatically reducing startup times and memory usage.

categories          devel
homepage            https://bun.sh
license             MIT

checksums           rmd160  541a474d99af1b37c2e0905f2f41082b7d3ed9fe \
                    sha256  eb8c7e09cbea572414a0a367848e1acbf05294a946a594405a014b1fb3b3fc76 \
                    size    22178114

if {${os.arch} eq "arm"} {
    set os.arch "aarch64"
}

distname            ${name}-${os.platform}-${os.arch}
use_zip             yes
use_configure       no
build {}
destroot {
    xinstall -m 755 ${worksrcpath}/bun ${destroot}${prefix}/bin/bun
    file link -symbolic ${destroot}${prefix}/bin/bunx bun
}
