# $Id$

PortSystem 1.0

name			libsockets
version			2.3.9.5
categories		devel net
platforms		darwin
maintainers		mww
description		C++ Sockets is a C++ wrapper for BSD-style sockets.
long_description	${description}

homepage		http://www.alhem.net/Sockets/
master_sites	${homepage}

checksums		sha1    44ada63bdae7d58fab4904a73b9caaaadbb06912 \
				rmd160  5d05997c0560568a7105838f9d9de62b76695672

patchfiles		patch-HttpRequest.cpp.diff \
				patch-Makefile.diff \
				patch-Makefile.Defines.macosx.diff \
				patch-TcpSocket.diff \
				patch-create-dylib.sh.diff

depends_lib		port:openssl

distname		Sockets-${version}

post-extract {
	xinstall -m 755 ${filespath}/configure ${worksrcpath}
	xinstall -m 755 ${filespath}/create-dylib.sh ${worksrcpath}
}

configure.env-append	PLATFORM="macosx" PREFIX="${prefix}"
build.target-append	libSockets.dylib

post-destroot {
	xinstall -m 755 -W ${worksrcpath} \
		libSockets.1.0.0.dylib libSockets.dylib ${destroot}${prefix}/lib
}

livecheck.type	freshmeat
livecheck.name	csockets

