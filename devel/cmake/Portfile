# $Id$

PortSystem 1.0

name		cmake
version		2.6.0
revision	1
categories	devel
maintainers	css@macports.org
description	Cross-platform make
long_description	\
	An extensible, open-source system that manages the build 	\
	process in an operating system and compiler independent manner. \
	Unlike many cross-platform systems, CMake is designed to be 	\
	used in conjunction with the native build environment.
homepage	http://www.cmake.org/
platforms	darwin freebsd
master_sites	http://www.cmake.org/files/v2.6/
checksums	md5 e95ae003672dfc6c8151a1ee49a0d4a6 \
		sha1 e99ee84f413bd1c728fe6def1eb5e27d0471bd27 \
		rmd160 491aa0f7eedd3c43364bcfe675ba5526e5140361
configure.args	--mandir=/share/man --docdir=/share/doc/cmake
# Apply bugfix http://www.cmake.org/Bug/view.php?id=7011
patchfiles	patch-cmake_bug_7011_fix.diff

post-destroot {
	xinstall -d -m 0755 ${destroot}${prefix}/share/emacs/site-lisp
	xinstall -m 0644 ${worksrcpath}/Docs/cmake-mode.el \
		${destroot}${prefix}/share/emacs/site-lisp
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/cmake
	xinstall -m 0644 -W ${worksrcpath}/Docs cmake-indent.vim \
		cmake-syntax.vim ${destroot}${prefix}/share/doc/cmake
}
