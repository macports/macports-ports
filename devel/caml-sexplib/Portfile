# $Id$

PortSystem          1.0

name                caml-sexplib
version             7.0.2
distname            sexplib-${version}
categories          devel ml
maintainers         erickt openmaintainer
license             LGPL-2
description         Automated code generation for converting OCaml-values to S-expressions
long_description    ${description}
homepage            http://www.janestreet.com/ocaml/
platforms           darwin
master_sites        http://www.janestreet.com/ocaml/
checksums           md5     baaeca46c492de731954d66722441fe5 \
                    sha1    2f06b9d23d8afe14dd7eff22827bb13a607746ab \
                    rmd160  dc6cfef8f6439fc97aa35c43d9837ff62f562e51

livecheck.type      regex
livecheck.url       ${homepage}
livecheck.regex     "sexplib-(\\d+(?:\\.\\d+)*).tar.gz"

depends_lib         port:ocaml port:caml-findlib port:caml-type-conv

use_configure       no

build.env           PREFIX=${prefix}
use_parallel_build  no

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_DESTDIR="$ocamlfind_destdir"

pre-destroot {
    file mkdir $ocamlfind_destdir
}
