# $Id$

PortSystem          1.0

name                caml-core
version             0.6.0
categories          devel ml
platforms           darwin
maintainers         mww openmaintainer
description         Jane Street's alternative to the standard OCaml library
license             LGPLv2.1
long_description    ${description}
homepage            http://www.janestreet.com/ocaml/
master_sites        ${homepage}
checksums           md5     75f83ec1f905617b5b86c207d0278e32 \
                    sha1    eb18d710414ed712599719bd90304e0b08daba8e \
                    rmd160  7fe705aa2c92bbd2be51b82b271617fefa4ab526

distname            core-${version}

extract.suffix      .tgz

depends_lib         port:ocaml port:caml-findlib port:caml-sexplib port:caml-res port:caml-bin-prot port:caml-fieldslib

use_configure       no

build.env           PREFIX=${prefix}
use_parallel_build  no

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_INSTFLAGS="-destdir $ocamlfind_destdir"

pre-destroot {
    xinstall -m 755 -d $ocamlfind_destdir/stublibs
}
