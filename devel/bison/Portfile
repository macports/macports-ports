# $Id$

PortSystem 1.0
name            bison
version         2.3
revision	1
categories      devel
maintainers     mww
description     general-purpose parser generator
long_description \
    Bison is a general-purpose parser generator that converts a grammar \
    description for an LALR context-free grammar into a C program to    \
    parse that grammar. Once you are proficient with Bison, you can use \
    it to develop a wide range of language parsers, from those used in  \
    simple desk calculators to complex programming languages.

homepage        http://www.gnu.org/software/bison/
platforms       darwin
master_sites    gnu
checksums       md5 c18640c6ec31a169d351e3117ecce3ec \
                sha1 7e489f35c6d8171f0cb0cad3dda0fb39f2cb0b62 \
                rmd160 c6a116d6b763fad3f4df6e303943e09ed080cb26
use_bzip2       yes

depends_lib     port:gettext port:m4 port:libiconv

configure.args  --infodir=${prefix}/share/info \
                --mandir=${prefix}/share/man \
                --disable-yacc

test.run        yes
test.target     check

post-destroot {
	set docdir ${prefix}/share/doc/${name}
	xinstall -d -m 0555 ${destroot}${docdir}
	xinstall -m 0444 -W ${worksrcpath} AUTHORS COPYING ChangeLog NEWS \
		THANKS TODO ${destroot}${docdir}
}

livecheck.check regex
livecheck.url   http://ftp.gnu.org/gnu/bison/?C=M&O=D
livecheck.regex ${name}-(\\d+(?:\\.\\d+)*)

variant yacc {
    configure.args-delete   --disable-yacc
}


