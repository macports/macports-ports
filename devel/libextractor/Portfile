# $Id: Portfile,v 1.2 2005/01/04 06:41:27 olegb Exp $
PortSystem 1.0
name		libextractor
version		0.4.0
categories	devel
maintainers	olegb@opendarwin.org
description	A library for extraction af meta-data.
long_description	libextractor is a library used to extract \
			meta-data from files of arbitrary type. It is \
			designed to use helper-libraries to perform the \
			actual extraction, and to be trivially \
			extendable by linking against external extractors \
			for additional file types.
homepage	http://ovmj.org/libextractor/
master_sites	http://ovmj.org/libextractor/download/
platforms	darwin
use_bzip2	yes
checksums	md5 f2f1d7f99ca37a091ecfa9459cea6408
configure.args  --mandir=${prefix}/share/man
configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress -L${prefix}/lib -lintl"
pre-configure {
	reinplace "s|'-Bstatic'|''|g" ${worksrcpath}/configure
	reinplace "s|-Bstatic||g" ${worksrcpath}/src/plugins/ole2/Makefile.in
	reinplace "s|-Bdynamic||g" ${worksrcpath}/src/plugins/ole2/Makefile.in
	reinplace "s|-Bsymbolic||g" ${worksrcpath}/src/plugins/ole2/Makefile.in
}
