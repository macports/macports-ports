# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           meson 1.0

name                libdvdcss
version             1.5.0
categories          devel multimedia
platforms           darwin freebsd
maintainers         nomaintainer
license             GPL-2+

description         portable abstraction library for DVD decryption

long_description    libdvdcss is a simple library designed for accessing \
                    DVDs like a block device without having to bother \
                    about the decryption.

homepage            https://www.videolan.org/developers/libdvdcss.html
master_sites        https://download.videolan.org/pub/${name}/${version}/
use_xz              yes
checksums           rmd160  9b9c651690b538f4e77fb8f735189fecc293f62f \
                    sha256  529463e4d1befef82e5c6e470db7661a2db0343e092a2fb0d6c037cab8a5c399 \
                    size    81192

compiler.c_standard 2017

post-destroot {
    set docdir ${prefix}/share/doc/${name}
    xinstall -d ${destroot}${docdir}
    xinstall -m 0644 -W ${worksrcpath} AUTHORS COPYING NEWS README.md \
        ${destroot}${docdir}
}

variant docs description {Include API documentation} {
    depends_build-append        path:bin/doxygen:doxygen
    configure.args-append       -Denable_docs=true
}

livecheck.type      regex
livecheck.url       https://download.videolan.org/pub/${name}/
livecheck.regex     {>([0-9.]+)/<}
