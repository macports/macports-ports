--- libs/mpi/src/python/datatypes.cpp.orig
+++ libs/mpi/src/python/datatypes.cpp
@@ -13,6 +13,10 @@
 #include <boost/mpi/python/serialize.hpp>
 #include <boost/mpi.hpp>

+#if PY_MAJOR_VERSION >= 3
+#define PyInt_Type PyLong_Type
+#endif
+
 namespace boost { namespace mpi { namespace python {

 void export_datatypes()
--- libs/python/src/converter/builtin_converters.cpp.orig	2017-12-13 17:56:47.000000000 -0600
+++ libs/python/src/converter/builtin_converters.cpp	2018-07-05 22:46:05.000000000 -0500
@@ -48,7 +48,7 @@
 #else
   void* convert_to_cstring(PyObject* obj)
   {
-      return PyUnicode_Check(obj) ? _PyUnicode_AsString(obj) : 0;
+      return (void*)(PyUnicode_Check(obj) ? _PyUnicode_AsString(obj) : 0);
   }
 #endif

--- libs/mpi/build/__init__.py.orig
+++ libs/mpi/build/__init__.py
@@ -6,5 +6,5 @@
     import mpi
     sys.setdlopenflags(flags)
 else:
-    import mpi
+    from . import mpi
