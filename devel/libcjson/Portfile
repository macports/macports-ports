# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
PortGroup               github  1.0
PortGroup               cmake   1.1

github.setup            DaveGamble cJSON 1.7.19 v
github.tarball_from     archive
name                    libcjson
revision                0

checksums               rmd160  f97be9fc42f575089ee017fc7b11fa5840a5028d \
                        sha256  7fa616e3046edfa7a28a32d5f9eacfd23f92900fe1f8ccd988c1662f30454562 \
                        size    356247

license                 MIT
categories              devel
maintainers             nomaintainer

description             ultralightweight JSON parser in ANSI C

long_description        ${name} is an {*}${description}.

patchfiles              AppleClang.patch \
                        disable-werror.diff

configure.args-append   -DBUILD_SHARED_AND_STATIC_LIBS=ON

variant tests description "Enable testing" {
    test.run            yes
    configure.pre_args-replace  -DCMAKE_BUILD_WITH_INSTALL_RPATH:BOOL=ON \
                                -DCMAKE_BUILD_WITH_INSTALL_RPATH:BOOL=OFF
}
