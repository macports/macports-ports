# $Id$

PortSystem 1.0
name		alex
version		2.2
categories	devel
maintainers	gwright@macports.org
platforms	darwin
description	A Lexical Analyzer Generator for Haskell
long_description	\
		Alex is a tool for generating lexical analysers		\
		in Haskell, given a description of the tokens to be	\
		recognised in the form of regular expressions.		\
		It is similar to the tools lex or flex for C/C++.       

homepage	http://www.haskell.org/alex/
master_sites	http://www.haskell.org/alex/dist/${version}

checksums	md5     7ef62b2dd2ee7ed7b2a5ca3bfb568347		\
		sha1    a08670e4c749850714205f425cb460ed5a0a56b2	\
		rmd160  d93c28ce0121073be1ee4893114b36faa2396b1b

depends_build	port:ghc

configure       {
                  system "cd ${worksrcpath} && runhaskell Setup configure --ghc --prefix=${prefix}"
                }

build           {
                  system "cd ${worksrcpath} && runhaskell Setup build -v"
                }

destroot        {
                  system "cd ${worksrcpath} && runhaskell Setup copy --copy-prefix=${destroot}${prefix}"
                }

livecheck.check regex
livecheck.regex "version (.+) released"
