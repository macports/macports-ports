# $Id: Portfile,v 1.2 2004/12/03 03:12:07 gwright Exp $

PortSystem 1.0
name		alex
version		2.0
categories	devel
maintainers	gwright@opendarwin.org
platforms	darwin
description	A Lexical Analyzer Generator for Haskell
long_description	\
		Alex is a tool for generating lexical analysers		\
		in Haskell, given a description of the tokens to be	\
		recognised in the form of regular expressions.		\
		It is similar to the tools lex or flex for C/C++.       

homepage	http://www.haskell.org/alex/
master_sites	http://www.haskell.org/alex/dist/

use_bzip2	yes

distfiles	${name}-${version}-src.tar.bz2

checksums	md5 14ff6abf21d81763b15afe151add9091

depends_build	bin:ghc:ghc

pre-configure	{ set cfg [open "${worksrcpath}/mk/build.mk" w]
		  puts $cfg "#"
		  puts $cfg "# Local configuration overrides for DarwinPorts"
		  puts $cfg "#"
		  puts $cfg "SRC_HC_OPTS += -I${prefix}/include -L${prefix}/lib"
		  close $cfg
		}

configure.args	--prefix=${destroot}/${prefix}

post-destroot	{ reinplace s|${destroot}||g ${destroot}/${prefix}/bin/${name} }

