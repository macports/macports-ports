# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4

PortSystem                  1.0
PortGroup                   github 1.0
PortGroup                   cargo  1.0

github.setup                lu-zero cargo-c 0.7.3 v
revision                    1

license                     MIT
categories                  devel
platforms                   darwin
maintainers                 {mcalhoun @MarcusCalhoun-Lopez} openmaintainer

description                 cargo applet to build and install C-ABI compatibile dynamic and static libraries
long_description            ${description}

checksums                   ${name}-${version}${extract.suffix} \
                            rmd160  f9e9eac75ae0b8d306b425ba6a207389ea5e12bc \
                            sha256  8a3a8d59c671b4b5d4746ad1ea99ce43f20a66d8a1678336b3a8b350c321b6e0 \
                            size    22063

depends_lib-append          port:libiconv \
                            path:lib/libssl.dylib:openssl \
                            port:zlib

# mimic Rust dependency
supported_archs             x86_64 arm64
universal_variant           no

pre-build {
    # Cargo.lock does not exist
    system -W ${worksrcpath} "${prefix}/bin/cargo update"
}

destroot {
    foreach bin {capi cbuild cinstall ctest} {
        xinstall -m 0755 ${worksrcpath}/target/[cargo.rust_platform]/release/cargo-${bin} ${destroot}${prefix}/bin/
    }
}

cargo.crates \
    adler \
    1.0.2 \
    f26201604c87b1e01bd3d98f8d5d9a8fcbb815e8cedb41ffccbeb4bf593a35fe \
    aho-corasick \
    0.7.15 \
    7404febffaa47dac81aa44dba71523c9d069b1bdc50a77db41195149e17f68e5 \
    ansi_term \
    0.11.0 \
    ee49baf6cb617b853aa8d93bf420db2383fab46d314482ca2803b40d5fde979b \
    anyhow \
    1.0.40 \
    28b2cd92db5cbd74e8e5028f7e27dd7aa3090e89e4f2a197cc7c8dfb69c7063b \
    atty \
    0.2.14 \
    d9b39be18770d11421cdb1b9947a45dd3f37e93092cbf377614828a319d5fee8 \
    autocfg \
    1.0.1 \
    cdb031dd78e28731d87d56cc8ffef4a8f36ca26c38fe2de700543e627f8a464a \
    bitflags \
    1.2.1 \
    cf1de2fe8c75bc145a2f577add951f8134889b4795d47466a54a5c846d691693 \
    bitmaps \
    2.1.0 \
    031043d04099746d8db04daf1fa424b2bc8bd69d92b25962dcde24da39ab64a2 \
    bstr \
    0.2.15 \
    a40b47ad93e1a5404e6c18dec46b628214fee441c70f4ab5d6942142cc268a3d \
    bytesize \
    1.0.1 \
    81a18687293a1546b67c246452202bbbf143d239cb43494cc163da14979082da \
    cargo \
    0.51.0 \
    bb7d89cbdcbeada632f64aa9f692e265852b0eb6ccdf3b1814716cc62101eeb6 \
    cargo-c \
    0.7.3+cargo-0.51 \
    f05b13d2d6d0f31c48a0ab28d1d63b0ac61d049e7fb1d9887fb883a29a251467 \
    cargo-platform \
    0.1.1 \
    0226944a63d1bf35a3b5f948dd7c59e263db83695c9e8bffc4037de02e30f1d7 \
    cbindgen \
    0.17.0 \
    744fcfb4c9f64d649756fd972afec5120641eaa8b2ff86a4ae981f68648780b8 \
    cc \
    1.0.67 \
    e3c69b077ad434294d3ce9f1f6143a2a4b89a8a2d54ef813d85003a4fd1137fd \
    cfg-if \
    1.0.0 \
    baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd \
    clap \
    2.33.3 \
    37e58ac78573c40708d45522f0d80fa2f01cc4f9b4e2bf749807255454312002 \
    commoncrypto \
    0.2.0 \
    d056a8586ba25a1e4d61cb090900e495952c7886786fc55f909ab2f819b69007 \
    commoncrypto-sys \
    0.2.0 \
    1fed34f46747aa73dfaa578069fd8279d2818ade2b55f38f22a9401c7f4083e2 \
    core-foundation \
    0.9.1 \
    0a89e2ae426ea83155dccf10c0fa6b1463ef6d5fcb44cee0b224a408fa640a62 \
    core-foundation-sys \
    0.8.2 \
    ea221b5284a47e40033bf9b66f35f984ec0ea2931eb03505246cd27a963f981b \
    crates-io \
    0.31.1 \
    09f977948a46e9edf93eb3dc2d7a8dd4ce3105d36de63300befed37cdf051d4a \
    crc32fast \
    1.2.1 \
    81156fece84ab6a9f2afdb109ce3ae577e42b1228441eded99bd77f627953b1a \
    crossbeam-utils \
    0.8.3 \
    e7e9d99fa91428effe99c5c6d4634cdeba32b8cf784fc428a2a687f61a952c49 \
    crypto-hash \
    0.3.4 \
    8a77162240fd97248d19a564a565eb563a3f592b386e4136fb300909e67dddca \
    curl \
    0.4.35 \
    5a872858e9cb9e3b96c80dd78774ad9e32e44d3b05dc31e142b858d14aebc82c \
    curl-sys \
    0.4.41+curl-7.75.0 \
    0ec466abd277c7cab2905948f3e94d10bc4963f1f5d47921c1cc4ffd2028fe65 \
    env_logger \
    0.8.3 \
    17392a012ea30ef05a610aa97dfb49496e71c9f676b27879922ea5bdf60d9d3f \
    filetime \
    0.2.14 \
    1d34cfa13a63ae058bfa601fe9e313bbdb3746427c1459185464ce0fcf62e1e8 \
    flate2 \
    1.0.20 \
    cd3aec53de10fe96d7d8c565eb17f2c687bb5518a2ec453b5b1252964526abe0 \
    fnv \
    1.0.7 \
    3f9eec918d3f24069decb9af1554cad7c880e2da24a9afd88aca000531ab82c1 \
    foreign-types \
    0.3.2 \
    f6f339eb8adc052cd2ca78910fda869aefa38d22d5cb648e6485e4d3fc06f3b1 \
    foreign-types-shared \
    0.1.1 \
    00b0228411908ca8685dba7fc2cdd70ec9990a6e753e89b6ac91a84c40fbaf4b \
    form_urlencoded \
    1.0.1 \
    5fc25a87fa4fd2094bffb06925852034d90a17f0d1e05197d4956d3555752191 \
    fwdansi \
    1.1.0 \
    08c1f5787fe85505d1f7777268db5103d80a7a374d2316a7ce262e57baf8f208 \
    getrandom \
    0.2.2 \
    c9495705279e7140bf035dde1f6e750c162df8b625267cd52cc44e0b156732c8 \
    git2 \
    0.13.17 \
    1d250f5f82326884bd39c2853577e70a121775db76818ffa452ed1e80de12986 \
    git2-curl \
    0.14.1 \
    883539cb0ea94bab3f8371a98cd8e937bbe9ee7c044499184aa4c17deb643a50 \
    glob \
    0.3.0 \
    9b919933a397b79c37e33b77bb2aa3dc8eb6e165ad809e58ff75bc7db2e34574 \
    globset \
    0.4.6 \
    c152169ef1e421390738366d2f796655fec62621dabbd0fd476f905934061e4a \
    hashbrown \
    0.9.1 \
    d7afe4a420e3fe79967a00898cc1f4db7c8a49a9333a29f8a4bd76a253d5cd04 \
    heck \
    0.3.2 \
    87cbf45460356b7deeb5e3415b5563308c0a9b057c85e12b06ad551f98d0a6ac \
    hermit-abi \
    0.1.18 \
    322f4de77956e22ed0e5032c359a0f1273f1f7f0d79bfa3b8ffbc730d7fbcc5c \
    hex \
    0.3.2 \
    805026a5d0141ffc30abb3be3173848ad46a1b1664fe632428479619a3644d77 \
    hex \
    0.4.3 \
    7f24254aa9a54b5c858eaee2f5bccdb46aaf0e486a595ed5fd8f86ba55232a70 \
    home \
    0.5.3 \
    2456aef2e6b6a9784192ae780c0f15bc57df0e918585282325e8c8ac27737654 \
    humantime \
    2.1.0 \
    9a3a5bfb195931eeb336b2a7b4d761daec841b97f947d34394601737a7bba5e4 \
    idna \
    0.2.2 \
    89829a5d69c23d348314a7ac337fe39173b61149a9864deabd260983aed48c21 \
    ignore \
    0.4.17 \
    b287fb45c60bb826a0dc68ff08742b9d88a2fea13d6e0c286b3172065aaf878c \
    im-rc \
    15.0.0 \
    3ca8957e71f04a205cb162508f9326aea04676c8dfd0711220190d6b83664f3f \
    indexmap \
    1.6.2 \
    824845a0bf897a9042383849b02c1bc219c2383772efcd5c6f9766fa4b81aef3 \
    itoa \
    0.4.7 \
    dd25036021b0de88a0aff6b850051563c6516d0bf53f8638938edbb9de732736 \
    jobserver \
    0.1.21 \
    5c71313ebb9439f74b00d9d2dcec36440beaf57a6aa0623068441dd7cd81a7f2 \
    lazy_static \
    1.4.0 \
    e2abad23fbc42b3700f2f279844dc832adb2b2eb069b2df918f455c4e18cc646 \
    lazycell \
    1.3.0 \
    830d08ce1d1d941e6b30645f1a0eb5643013d835ce3779a5fc208261dbe10f55 \
    libc \
    0.2.91 \
    8916b1f6ca17130ec6568feccee27c156ad12037880833a3b842a823236502e7 \
    libgit2-sys \
    0.12.18+1.1.0 \
    3da6a42da88fc37ee1ecda212ffa254c25713532980005d5f7c0b0fbe7e6e885 \
    libnghttp2-sys \
    0.1.6+1.43.0 \
    0af55541a8827e138d59ec9e5877fb6095ece63fb6f4da45e7491b4fbd262855 \
    libssh2-sys \
    0.2.21 \
    e0186af0d8f171ae6b9c4c90ec51898bad5d08a2d5e470903a50d9ad8959cbee \
    libz-sys \
    1.1.2 \
    602113192b08db8f38796c4e85c39e960c145965140e918018bcde1952429655 \
    log \
    0.4.14 \
    51b9bbe6c47d51fc3e1a9b945965946b4c44142ab8792c50835a980d362c2710 \
    matches \
    0.1.8 \
    7ffc5c5338469d4d3ea17d269fa8ea3512ad247247c30bd2df69e68309ed0a08 \
    memchr \
    2.3.4 \
    0ee1c47aaa256ecabcaea351eae4a9b01ef39ed810004e298d2511ed284b1525 \
    miniz_oxide \
    0.4.4 \
    a92518e98c078586bc6c934028adcca4c92a53d6a958196de835170a01d84e4b \
    miow \
    0.3.7 \
    b9f1c5b025cda876f66ef43a113f91ebc9f4ccef34843000e0adf6ebbab84e21 \
    num_cpus \
    1.13.0 \
    05499f3756671c15885fee9034446956fff3f243d6077b91e5767df161f766b3 \
    once_cell \
    1.7.2 \
    af8b08b04175473088b46763e51ee54da5f9a164bc162f615b91bc179dbf15a3 \
    opener \
    0.4.1 \
    13117407ca9d0caf3a0e74f97b490a7e64c0ae3aa90a8b7085544d0c37b6f3ae \
    openssl \
    0.10.33 \
    a61075b62a23fef5a29815de7536d940aa35ce96d18ce0cc5076272db678a577 \
    openssl-probe \
    0.1.2 \
    77af24da69f9d9341038eba93a073b1fdaaa1b788221b00a69bce9e762cb32de \
    openssl-src \
    111.15.0+1.1.1k \
    b1a5f6ae2ac04393b217ea9f700cd04fa9bf3d93fae2872069f3d15d908af70a \
    openssl-sys \
    0.9.61 \
    313752393519e876837e09e1fa183ddef0be7735868dced3196f4472d536277f \
    percent-encoding \
    2.1.0 \
    d4fd5641d01c8f18a23da7b6fe29298ff4b55afcccdf78973b24cf3175fee32e \
    pkg-config \
    0.3.19 \
    3831453b3449ceb48b6d9c7ad7c96d5ea673e9b470a1dc578c2ce6521230884c \
    ppv-lite86 \
    0.2.10 \
    ac74c624d6b2d21f425f752262f42188365d7b8ff1aff74c82e45136510a4857 \
    proc-macro-error \
    1.0.4 \
    da25490ff9892aab3fcf7c36f08cfb902dd3e71ca0f9f9517bea02a73a5ce38c \
    proc-macro-error-attr \
    1.0.4 \
    a1be40180e52ecc98ad80b184934baf3d0d29f979574e439af5a55274b35f869 \
    proc-macro2 \
    1.0.24 \
    1e0704ee1a7e00d7bb417d0770ea303c1bccbabf0ef1667dae92b5967f5f8a71 \
    quote \
    1.0.9 \
    c3d0b9745dc2debf507c8422de05d7226cc1f0644216dfdfead988f9b1ab32a7 \
    rand \
    0.8.3 \
    0ef9e7e66b4468674bfcb0c81af8b7fa0bb154fa9f28eb840da5c447baeb8d7e \
    rand_chacha \
    0.3.0 \
    e12735cf05c9e10bf21534da50a147b924d555dc7a547c42e6bb2d5b6017ae0d \
    rand_core \
    0.5.1 \
    90bde5296fc891b0cef12a6d03ddccc162ce7b2aff54160af9338f8d40df6d19 \
    rand_core \
    0.6.2 \
    34cf66eb183df1c5876e2dcf6b13d57340741e8dc255b48e40a26de954d06ae7 \
    rand_hc \
    0.3.0 \
    3190ef7066a446f2e7f42e239d161e905420ccab01eb967c9eb27d21b2322a73 \
    rand_xoshiro \
    0.4.0 \
    a9fcdd2e881d02f1d9390ae47ad8e5696a9e4be7b547a1da2afbc61973217004 \
    redox_syscall \
    0.2.5 \
    94341e4e44e24f6b591b59e47a8a027df12e008d73fd5672dbea9cc22f4507d9 \
    regex \
    1.4.5 \
    957056ecddbeba1b26965114e191d2e8589ce74db242b6ea25fc4062427a5c19 \
    regex-syntax \
    0.6.23 \
    24d5f089152e60f62d28b835fbff2cd2e8dc0baf1ac13343bef92ab7eed84548 \
    remove_dir_all \
    0.5.3 \
    3acd125665422973a33ac9d3dd2df85edad0f4ae9b00dafb1a05e43a9f5ef8e7 \
    rustc-workspace-hack \
    1.0.0 \
    fc71d2faa173b74b232dedc235e3ee1696581bb132fc116fa3626d6151a1a8fb \
    rustfix \
    0.5.1 \
    f2c50b74badcddeb8f7652fa8323ce440b95286f8e4b64ebfd871c609672704e \
    ryu \
    1.0.5 \
    71d301d4193d031abdd79ff7e3dd721168a9572ef3fe51a1517aba235bd8f86e \
    same-file \
    1.0.6 \
    93fc1dc3aaa9bfed95e02e6eadabb4baf7e3078b0bd1b4d7b6b0b68378900502 \
    schannel \
    0.1.19 \
    8f05ba609c234e60bee0d547fe94a4c7e9da733d1c962cf6e59efa4cd9c8bc75 \
    semver \
    0.10.0 \
    394cec28fa623e00903caf7ba4fa6fb9a0e260280bb8cdbbba029611108a0190 \
    semver-parser \
    0.7.0 \
    388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3 \
    serde \
    1.0.125 \
    558dc50e1a5a5fa7112ca2ce4effcb321b0300c0d4ccf0776a9f60cd89031171 \
    serde_derive \
    1.0.125 \
    b093b7a2bb58203b5da3056c05b4ec1fed827dcfdb37347a8841695263b3d06d \
    serde_ignored \
    0.1.2 \
    1c2c7d39d14f2f2ea82239de71594782f186fd03501ac81f0ce08e674819ff2f \
    serde_json \
    1.0.64 \
    799e97dc9fdae36a5c8b8f2cae9ce2ee9fdce2058c57a93e6099d919fd982f79 \
    shell-escape \
    0.1.5 \
    45bb67a18fa91266cc7807181f62f9178a6873bfad7dc788c42e6430db40184f \
    sized-chunks \
    0.6.4 \
    65e65d6a9f13cd78f361ea5a2cf53a45d67cdda421ba0316b9be101560f3d207 \
    socket2 \
    0.3.19 \
    122e570113d28d773067fab24266b66753f6ea915758651696b6e35e49f88d6e \
    strip-ansi-escapes \
    0.1.0 \
    9d63676e2abafa709460982ddc02a3bb586b6d15a49b75c212e06edd3933acee \
    strsim \
    0.8.0 \
    8ea5119cdb4c55b55d432abb513a0429384878c15dde60cc77b1c99de1a95a6a \
    structopt \
    0.3.21 \
    5277acd7ee46e63e5168a80734c9f6ee81b1367a7d8772a2d765df2a3705d28c \
    structopt-derive \
    0.4.14 \
    5ba9cdfda491b814720b6b06e0cac513d922fc407582032e8706e9f137976f90 \
    syn \
    1.0.67 \
    6498a9efc342871f91cc2d0d694c674368b4ceb40f62b65a7a08c3792935e702 \
    tar \
    0.4.33 \
    c0bcfbd6a598361fda270d82469fff3d65089dc33e175c9a131f7b4cd395f228 \
    tempfile \
    3.2.0 \
    dac1c663cfc93810f88aed9b8941d48cabf856a1b111c29a40439018d870eb22 \
    termcolor \
    1.1.2 \
    2dfed899f0eb03f32ee8c6a0aabdb8a7949659e3466561fc0adf54e26d88c5f4 \
    textwrap \
    0.11.0 \
    d326610f408c7a4eb6f51c37c330e496b08506c9457c9d34287ecc38809fb060 \
    thread_local \
    1.1.3 \
    8018d24e04c95ac8790716a5987d0fec4f8b27249ffa0f7d33f1369bdfb88cbd \
    tinyvec \
    1.1.1 \
    317cca572a0e89c3ce0ca1f1bdc9369547fe318a683418e42ac8f59d14701023 \
    tinyvec_macros \
    0.1.0 \
    cda74da7e1a664f795bb1f8a87ec406fb89a02522cf6e50620d016add6dbbf5c \
    toml \
    0.5.8 \
    a31142970826733df8241ef35dc040ef98c679ab14d7c3e54d827099b3acecaa \
    typenum \
    1.13.0 \
    879f6906492a7cd215bfa4cf595b600146ccfac0c79bcbd1f3000162af5e8b06 \
    unicode-bidi \
    0.3.4 \
    49f2bd0c6468a8230e1db229cff8029217cf623c767ea5d60bfbd42729ea54d5 \
    unicode-normalization \
    0.1.17 \
    07fbfce1c8a97d547e8b5334978438d9d6ec8c20e38f56d4a4374d181493eaef \
    unicode-segmentation \
    1.7.1 \
    bb0d2e7be6ae3a5fa87eed5fb451aff96f2573d2694942e40543ae0bbe19c796 \
    unicode-width \
    0.1.8 \
    9337591893a19b88d8d87f2cec1e73fad5cdfd10e5a6f349f498ad6ea2ffb1e3 \
    unicode-xid \
    0.2.1 \
    f7fe0bb3479651439c9112f72b6c505038574c9fbb575ed1bf3b797fa39dd564 \
    url \
    2.2.1 \
    9ccd964113622c8e9322cfac19eb1004a07e636c545f325da085d5cdde6f1f8b \
    utf8parse \
    0.1.1 \
    8772a4ccbb4e89959023bc5b7cb8623a795caa7092d99f3aa9501b9484d4557d \
    vcpkg \
    0.2.11 \
    b00bca6106a5e23f3eee943593759b7fcddb00554332e856d990c893966879fb \
    vec_map \
    0.8.2 \
    f1bddf1187be692e79c5ffeab891132dfb0f236ed36a43c7ed39f1165ee20191 \
    version_check \
    0.9.3 \
    5fecdca9a5291cc2b8dcf7dc02453fee791a280f3743cb0905f8822ae463b3fe \
    vte \
    0.3.3 \
    4f42f536e22f7fcbb407639765c8fd78707a33109301f834a594758bedd6e8cf \
    walkdir \
    2.3.2 \
    808cf2735cd4b6866113f648b791c6adc5714537bc222d9347bb203386ffda56 \
    wasi \
    0.10.2+wasi-snapshot-preview1 \
    fd6fbd9a79829dd1ad0cc20627bf1ed606756a7f77edff7b66b7064f9cb327c6 \
    winapi \
    0.3.9 \
    5c839a674fcd7a98952e593242ea400abe93992746761e38641405d28b00f419 \
    winapi-i686-pc-windows-gnu \
    0.4.0 \
    ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6 \
    winapi-util \
    0.1.5 \
    70ec6ce85bb158151cae5e5c87f95a8e97d2c0c4b001223f33a334e3ce5de178 \
    winapi-x86_64-pc-windows-gnu \
    0.4.0 \
    712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f
