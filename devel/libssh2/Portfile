# $Id$

PortSystem 1.0
PortGroup  muniversal 1.0

name		  libssh2
version		  1.2.2
categories	  devel net
platforms	  darwin
maintainers	  pmq openmaintainer

description	  libssh2 is a library implementing the SSH2 protocol
long_description  libssh2 is a library implementing the SSH2 protocol as \
		  defined by Internet Drafts: SECSH-TRANS(22), \
		  SECSH-USERAUTH(25), SECSH-CONNECTION(23), SECSH-ARCH(20), \
		  SECSH-FILEXFER(06), SECSH-DHGEX(04), and SECSH-NUMBERS(10).

license		  BSD

homepage	  http://www.libssh2.org/
master_sites	  ${homepage}download/ sourceforge
checksums	  md5     fa8d9cd425bdd62f57244fc61fb54da7 \
		  sha1    d1a52cd4949efc7befcd61052de7fce4ae3e7415 \
		  rmd160  21e90f957019c11d0447352c5ac19c9dc3f8dd5c

depends_lib	  port:openssl port:zlib

configure.env-append	NM="/usr/bin/nm -p"

post-build {
    if {[variant_isset universal]} {
        foreach arch ${universal_archs_to_use} {
            reinplace "s|[muniversal_get_arch_flag ${arch}]||" \
                ${worksrcpath}-${arch}/libssh2.pc
        }
    }
}
