# $Id$

PortSystem          1.0

name                kcachegrind
version             0.4.6
revision            1
categories          devel
platforms           darwin
maintainers         simon
description         KCachegrind - Profiling Visualization
long_description    KCachegrind visualizes traces generated by profiling, \
                    including a tree map and a call graph visualization of \
                    the calls happening. It's designed to be fast for very \
                    large programs like KDE applications.

homepage            http://kcachegrind.sourceforge.net/
master_sites        ${homepage}
distname            kcachegrind-${version}
checksums           md5 4ed60028dcefd6bf626635d5f2f50273 \
                    sha1 7c1e3268b0c98660f35bc92bf01f1b52733508fb \
                    rmd160 b64f88377fb0bf1d0e21fc70dcb9b812f46ae93b

depends_lib         port:kdelibs3

configure.args      --with-extra-includes=${prefix}/include \
                    --with-extra-libs=${prefix}/lib \
                    --with-qt-dir=${prefix}/lib/qt3 \
                    --without-arts

platform darwin 9 {
    # http://developer.apple.com/qa/qa2007/qa1567.html
    configure.ldflags-append -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
}

livecheck.check     regex
livecheck.url       ${homepage}cgi-bin/show.cgi/KcacheGrindDownload
livecheck.regex     "KCachegrind (\\d+(?:\\.\\d+)*)"
