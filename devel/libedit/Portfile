# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name             libedit
version          20080712-2.11
epoch		 20081110
categories       devel
maintainers      nomaintainer
description      command line editing and history library
long_description \
	libedit is a command line editing and history library. \
	It is designed to be used by interactive programs that \
	allow the user to type commands at a terminal prompt.
platforms        darwin
homepage         http://www.thrysoee.dk/editline/
master_sites     ${homepage}

checksums        md5     140c56efbc68d7255b7045eb604e8a45		\
                 sha1    5d53aa79b73a160436ffd4eda5df08bcd347b6ab	\
                 rmd160  fa45ed93c5f345fac82df39d23b0118082a515ce

depends_lib      port:ncurses

variant universal {
    # The libtool used by libedit does not use "-arch xxx" when linking.
    # The workaround is to set CC (which is used as the linker) as
    #     ${CC} -arch xxx -arch yyy ...
    configure.cmd env CC=\"\${CC}
    foreach arch ${universal_archs} {
        configure.cmd-append -arch ${arch}
    }
    configure.cmd-append \" ./configure
}

livecheck.check regex
livecheck.url   ${master_sites}
livecheck.regex "${name}-(\\d+-\\d+(?:\\.\\d+)*)${extract.suffix}"
