# $Id: Portfile,v 1.5 2003/11/17 21:19:55 jkh Exp $

PortSystem 1.0
name          	pccts
version       	1.33
revision	1
categories    	devel
maintainers   	waqar@opendarwin.org
description   	Purdue Compiler-Construction Tool Set (parser-generator)
long_description \
  	PCCTS, the Purdue Compiler Construction Tool Set, is a set of \
       	public-domain software tools designed to facilitate the construction \
       	of compilers and other translation systems. Although originally \
       	developed primarily for internal use within Purdue University.
homepage      	http://www.polhode.com/pccts.html
platforms     	darwin
master_sites  	http://www.polhode.com/
extract.suffix  	.zip
use_zip       	yes
distname      	${name}133mr
checksums     	md5 fd70972b0a6aa2d3cf8b5c66d26d229d
worksrcdir    	${name}
patch		{
		   reinplace "s|#COPT=-O2|COPT=-DPCCTS_USE_STDARG|g" \
			"${workpath}/${worksrcdir}/makefile"
		}
use_configure  	no
build.target
destroot {    	file mkdir ${destroot}${prefix}/bin
	      	file mkdir ${destroot}${prefix}/man/man1
              	system "cd ${worksrcpath}/bin && install -m 555 antlr \
	        	${destroot}${prefix}/bin"
              	system "cd ${worksrcpath}/bin && install -m 555 dlg \
		        ${destroot}${prefix}/bin"
              	system "cd ${worksrcpath}/bin && install -m 555 genmk \
		        ${destroot}${prefix}/bin"
              	system "cd ${worksrcpath}/bin && install -m 555 sor \
		        ${destroot}${prefix}/bin"
              	system "cd ${worksrcpath}/dlg && install -m 444 dlg.1 \
		        ${destroot}${prefix}/man/man1"
              	system "cd ${worksrcpath}/antlr && install -m 444 antlr.1 \
		        ${destroot}${prefix}/man/man1" }
