# $Id$

PortSystem              1.0

name                    poll-emulator
version                 1.5.1
categories              devel
license                 BSD
maintainers             nomaintainer
platforms               darwin freebsd
homepage                http://software.clapper.org/poll/
master_sites            https://github.com/bmc/poll/tarball/release-${version}?dummy=

description             Library to provide poll(2) functionality

long_description        This package implements the System V poll(2) system \
                        call for Unix-like systems that do not support poll.

checksums               rmd160 7a093fb4043d3dd10ea3ac823ae0a7cc7a5bb647 \
                        sha256 ea8a3607c2c652dadae7b25fda430fb4360bf27f855876bb1db447bdc727da75

worksrcdir              bmc-poll-dc153bb

platform darwin {
    patchfiles          patch-Makefile.diff
}

use_configure           no

build.pre_args          PREFIX=${prefix}
build.args              CC=${configure.cc} \
                        CFLAGS="${configure.cflags} ${configure.cc_archflags}" \
                        LDFLAGS="${configure.ld_archflags}"

destroot.destdir        PREFIX=${destroot}${prefix}
