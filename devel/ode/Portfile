# $Id$

PortSystem 1.0

name		ode
version		0.9
categories	devel
platforms	darwin
maintainers	nomaintainer
description	library for simulating articulated rigid body dynamics
long_description	ODE is a free, industrial quality library for \
			simulating articulated rigid body dynamics - for \
			example ground vehicles, legged creatures, and moving \
			objects in VR environments. It is fast, flexible, \
			robust and platform independent, with advanced joints, \
			contact with friction, and built-in collision detection.

homepage	http://www.ode.org/
master_sites	sourceforge:opende
distname	${name}-src-${version}
checksums	md5 4c03759b76a0649a6d5108c8e172e1e4 \
		sha1 3b39ce085c2dc77c3fad7abaa382ffc20d3780e5 \
		rmd160 e999fef770d664a57ffb2f71bf5351fbd84d5b17
use_zip		yes
patchfiles	patch-configure.diff

depends_lib	lib:libGL:XFree86

worksrcdir	${name}-${version}
configure.args	--with-trimesh=opcode --enable-double-precision \
		--enable-release --enable-debug
		
platform darwin 9 {
	patchfiles-append	patch-include-ode-config.h.in.diff
	configure.ldflags-append 	-dylib_file \
			/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:\
			/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
}

build.type	gnu

post-destroot	{
	system "ranlib ${destroot}${prefix}/lib/libode.a"
}

livecheck.check	sourceforge
livecheck.name	opende
livecheck.regex	ode-src-(\[0-9\\\.]+)\\.
