# $Id$

PortSystem 1.0
PortGroup           ocaml 1.0

name                ocaml-bolt
version             1.2
revision            1
categories          devel ml
license             LGPL-3
platforms           darwin
maintainers         mww openmaintainer
description         Bolt is a logging tool for the Objective Caml language.
long_description    ${description}
homepage            http://bolt.x9c.fr/
master_sites        http://bolt.x9c.fr/distrib/

distname            bolt-${version}
checksums           rmd160  152964e7e0c20eb1a453f993dbc5e28dda0e27cc \
                    sha256  1df6260c999ad701f6ec65aab2e766dec413353bc2593251886a94a63fef0359

depends_lib         port:ocaml port:ocaml-findlib

patchfiles          patch-Makefile.diff patch-myocamlbuild.ml.diff

post-extract {
    system "chmod +x ${worksrcpath}/configure"
}

configure.pre_args  -ocaml-prefix ${prefix} -ocamlfind ${ocamlfind_wrapper}

post-destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/doc
    file copy ${worksrcpath}/doc ${destroot}${prefix}/share/doc/${name}
}

livecheck.type      regex
livecheck.url       http://bolt.x9c.fr/downloads.html
livecheck.regex     bolt-(\[0-9.\]+)${extract.suffix}

