# -*- coding: utf-8; mode: tcl; indent-tabs-mode: nil -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           cmake 1.1

github.setup        warmcat libwebsockets 2.4-stable v
name                libwebsockets
categories          devel net
platforms           darwin
license             LPGL-2.1

maintainers         nomaintainer

description         Canonical libwebsockets.org websocket library

long_description    \
    Libwebsockets is a lightweight pure C library built to use minimal \
    CPU and memory resources, and provide fast throughput in both directions \
    as client or server.


checksums           md5 1aab65b93c8c94d4a6e476dc086b6619 \
                    sha256 d08caba4486789ac994ebef125c47c67d8874eeb7e79d1daafa14a76fd52ff25

homepage            https://github.com/warmcat/libwebsockets

post-destroot {

    # Remove tests from distribution.
    delete ${destroot}/${prefix}/share/${name}-test-server
    foreach f [glob ${destroot}/${prefix}/bin/${name}-test-*] {
        delete ${f}
    }
}

livecheck.type  none
