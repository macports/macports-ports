# $Id$

PortSystem 1.0
name            darcs
version         1.0.8
revision        1
categories      devel
maintainers     gwright@macports.org
description     David's Advanced Revision Control System
long_description \
                David's Advanced Revision Control System is yet \
                another replacement for CVS. It is written in Haskell, \
                and has been tested on Linux and MacOS X. Darcs \
                includes a cgi script, which can be used to view the \
                contents of your repository.

homepage        http://darcs.net/
platforms       darwin
master_sites    ${homepage}

checksums       md5 a7a26d1a98c5675dcab4c2cc30eba59d

patchfiles      patch-GNUmakefile \
                patch-Lcs.lhs \
                patch-configure.ac

depends_build   port:ghc
depends_lib     port:readline \
                port:curl \
                port:gmp

use_autoconf    yes

configure.args  --mandir=${prefix}/share/man \
                --without-docs
configure.env   CPPFLAGS="-I${prefix}/include" \
                LDFLAGS="-L${prefix}/lib"

build.env       PREFIX=${prefix}
destroot.env    PREFIX=${prefix}

variant docs {
    depends_build-append    port:latex2html
    
    configure.args-delete   --without-docs
    configure.args-append   --with-docs
}

