# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=portfile:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        xcpretty xcpretty 0.4.1 v
github.tarball_from archive
revision            0
categories          devel
platforms           any
license             MIT
maintainers         nomaintainer
supported_archs     noarch

description         Flexible and fast xcodebuild formatter
long_description    {*}${description}

checksums           rmd160  fda8c3cb2159c325d2435fe97a0b48b0d50cb90b \
                    sha256  7540870419147a3a9b6f90bd63992a8b6c945161274e570889edcdaa28095adc \
                    size    440739

patchfiles-append   patch-libpath.diff

# This should use MacPorts ruby and not the system ruby.
# rouge is a dependency but it appears to work OK w/o it
# https://github.com/rouge-ruby/rouge
use_configure       no
build {}

destroot {
    set dpath ${destroot}${prefix}/libexec/${name}
    xinstall -d -m 755 $dpath

    copy ${worksrcpath}/lib $dpath/lib
    copy ${worksrcpath}/assets $dpath/assets

    copy ${worksrcpath}/bin/${name} ${destroot}${prefix}/bin
}
