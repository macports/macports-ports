# $Id: Portfile,v 1.19 2005/09/29 00:07:01 toby Exp $

PortSystem 1.0
name			openssl
version			0.9.8
revision		2
platforms		darwin freebsd
categories		devel security
maintainers		mww@opendarwin.org
homepage		http://www.openssl.org/
description		OpenSSL SSL/TLS cryptography library

long_description \
	The OpenSSL Project is a collaborative effort to develop a robust, \
	commercial-grade, full-featured, and Open Source toolkit implementing \
	the Secure Sockets Layer (SSL v2/v3) and Transport Layer Security \
	(TLS v1) protocols as well as a full-strength general purpose \
	cryptography library.

master_sites	http://www.openssl.org/source/
checksums		md5 9da21071596a124acde6080552deac16

depends_lib		port:zlib

variant darwin {
	patchfiles	patch-Makefile.shared \
				patch-Makefile.org \
				patch-engines-Makefile \
				patch-Configure-darwin-x86 \
				patch-crypto-Makefile
}

configure.cmd	./config
configure.args	-L${prefix}/lib --openssldir=${prefix}/etc/openssl zlib no-asm no-krb5 shared

destroot.destdir	INSTALL_PREFIX=${destroot}
destroot.args		MANDIR=${prefix}/share/man

test.run		yes
