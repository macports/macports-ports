# $Id$

PortSystem 1.0

name			autogen
version			5.9.2
categories		devel
platforms		darwin
maintainers		mww@macports.org
description		tool to simplify the creation and maintenance of programs
long_description	AutoGen is a tool designed to simplify the creation \
				and maintenance of programs that contain large amounts \
				of repetitious text. It is especially valuable in \
				programs that have several blocks of text that must \
				be kept synchronized.

homepage		http://autogen.sourceforge.net/
master_sites		sourceforge gnu:autogen:rel5.9 
checksums		md5 1dd70554d351a3a4d517f2d507dece8e \
				sha1 eac774d2fa22f9b6f528f6ecabab03fce6a5cf1f \
				rmd160 040ba74410606c58c02227aa432e0a1589ad401c
use_bzip2		yes

depends_lib		port:guile port:libiconv port:libxml2 port:zlib

configure.args	--mandir=${prefix}/share/man \
				--infodir=${prefix}/share/info

test.run		yes
test.target		check

platform darwin 8 {
	configure.env	CC=/usr/bin/gcc-4.0 CXX=/usr/bin/g++-4.0
	configure.cppflags-append	"-D_WINT_T"
}

platform darwin 6 {
	pre-build {
		reinplace "s|define HAVE_SYS_SIGLIST 1|undef HAVE_SYS_SIGLIST|g" \
			${worksrcpath}/config.h
	}
}

livecheck.check regex
livecheck.url   http://ftp.gnu.org/gnu/${name}/?C=M&O=D
livecheck.regex	rel(\[0-9\]+.\[0-9\]+.\[0-9\]+)
