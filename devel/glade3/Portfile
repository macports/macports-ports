# $Id$
PortSystem 1.0
name		glade3
version		3.4.3
description	Glade is a free user interface builder for GTK+ and GNOME.
long_description	Glade is a free user interface builder for GTK+ \
			and GNOME. It is released under the GNU General \
			Public License (GPL).
maintainers	nomaintainer
categories	gnome devel
platforms	darwin 
homepage	http://glade.gnome.org/
master_sites	gnome:sources/glade3/3.4/
use_bzip2	yes
checksums	md5 099b85a22c64e59983bcd6afda46149c \
		sha1 6f9fcdefefac2f1fe4a8d2c032dddd21d4b9a7f2 \
		rmd160 cda4fff3f311b97d012888b757e91d210a23a368
	
depends_lib \
	bin:automake-1.7:automake bin:autoconf:autoconf \
	lib:libiconv.2:libiconv lib:libgail-gnome:libgail-gnome \
	lib:libXft.2.1.2:Xft2 port:freetype lib:libaudiofile:audiofile \
	lib:libesd:esound port:fontconfig port:gnome-keyring lib:libpng:libpng \
        lib:libatk-1.0:atk bin:gconftool-2:gconf lib:libgettextlib:gettext \
        lib:libglib-2.0:glib2 lib:libgnomevfs-2:gnome-vfs lib:libgtk-x11-2.0:gtk2 \
        lib:libgnomecanvas-2:libgnomecanvas lib:libart_lgpl_2:libart_lgpl \
        lib:libbonobo-2:libbonobo lib:libbonoboui-2:libbonoboui \
        lib:libgnome-2:libgnome lib:libgnomeui-2:libgnomeui \
        bin:orbit-idl-2:orbit2 port:libxml2 bin:perl:perl5.8 port:tiff \
        lib:libpangoft2-1.0:pango bin:pkg-config:pkgconfig port:scrollkeeper \
	port:xrender port:zlib

depends_run port:hicolor-icon-theme

configure.args	\
	--disable-scrollkeeper

default_variants \
	+disable_gnomedb

post-install    {
	ui_msg "--------------------------------------------------------------------------"
	ui_msg "Remember to set ACLOCAL_FLAGS=\"-I ${prefix}/share/glade-2\""
	ui_msg "--------------------------------------------------------------------------" 
}

post-activate	{
	system "scrollkeeper-update"
}

variant enable_gnomedb {
	configure.args-append --enable-gnome-db
	depends_lib-append lib:libgnomedb:libgnomedb
}

variant disable_gnomedb {
	configure.args-append --disable-gnome-db
}
