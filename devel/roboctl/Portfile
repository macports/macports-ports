# $Id$

PortSystem	1.0

name		roboctl
version		0.3.5
categories	devel
maintainers	tds.net:jwbacon
description	Communication tools for Lego and VEX robots
long_description	Tools for communicating with and controlling Lego \
			Mindstorms and VEX robotics controllers.
homepage	http://personalpages.tds.net/~jwbacon/Ports
master_sites	http://personalpages.tds.net/~jwbacon/Ports/distfiles/ \
		http://jbacon.dyndns.org/~bacon/Ports/distfiles/
use_configure	no
platforms	darwin

depends_lib	port:libusb

destroot.destdir	PREFIX=${destroot}${prefix}
build.cmd	"make depend && make"
build.args	"LOCALBASE=/opt/local PREFIX=/opt/local MANPREFIX=/opt/local/share"
destroot.args	"MANPREFIX=/opt/local/share"
post-patch {
	reinplace "s|-lbluetooth||g" "${worksrcpath}/Commands/Legoctl/Makefile"
	if {${os.major} == 9} {
		reinplace "s|echo -e|echo|g" "${worksrcpath}/Commands/Legoctl/Makefile"
		reinplace "s|echo -e|echo|g" "${worksrcpath}/Commands/Vexctl/Makefile"
		reinplace "s|echo -e|echo|g" "${worksrcpath}/Libs/C/Makefile"
	}
}
checksums	 md5 60dcbaea81d06a632493ff0ddb2e0cdc
checksums	 sha1 7c6c84a6bc7328ca95c07f12702387d404d44db1
checksums	 rmd160 a188c924bf4ba01049cb2e0eadc91aeb31f47741
