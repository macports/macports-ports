# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                gmsl
version             1.0.0
revision            0
categories          devel
license             GPL-2+
maintainers         nomaintainer
description         GNU Make Standard Library
long_description    The GNU Make Standard Library (GMSL) is a collection of \
                    functions implemented using native GNU Make functionality \
                    that provide list and string manipulation, integer arithmetic, \
                    associative arrays, stacks and debugging facilities.
homepage            https://gmsl.sourceforge.net
master_sites        sourceforge
platforms           any
supported_archs     noarch
distname            ${name}
checksums           rmd160  7d764a3842d5af78ce7bd2dd25c6dd7421cbf910 \
                    sha256  807a632fdbc68fe0b6684dbec74fb124cb3cae8502c6d32cf7e6d08259dfb22a \
                    size    11996
patch {
    reinplace "s|include __${name}|include ${prefix}\/etc\/__${name}|g" \
        ${workpath}/${name}
}
use_configure       no
build               {}
destroot {
    xinstall -m 644 -c ${workpath}/${name} ${destroot}${prefix}/etc/
    xinstall -m 644 -c ${workpath}/__${name} ${destroot}${prefix}/etc/
}
post-install {
    ui_msg  "Add following to your Makefile(s):"
    ui_msg  ""
    ui_msg  "  if \[ -f ${prefix}/etc/${name} ]; then"
    ui_msg  "    include ${prefix}/etc/${name}"
    ui_msg  "  fi"
    ui_msg  ""
}
