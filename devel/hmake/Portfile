# $Id$

PortSystem              1.0

name                    hmake
version                 3.13
categories              devel
maintainers             nomaintainer
platforms               darwin
description             A Make Tool for Haskell Programs
long_description        hmake is a compilation manager for Haskell programs.

homepage                http://www.haskell.org/hmake/
master_sites            ${homepage}

checksums               md5 c87f79f1846f6b5eccbe5f0a00928b8b

depends_lib             lib:libreadline.5:readline

default_variants        ghc

configure.args          --mandir=${prefix}/share/man/man1

variant ghc {
    depends_build bin:ghc:ghc
}

variant nhc98 {
    depends_build bin:nhc98:nhc98
    configure.args-append --buildwith=nhc98
}

pre-configure {
    reinplace "s|-lreadline|-I${prefix}/include -L${prefix}/lib -lreadline|g" ${worksrcpath}/configure
}
