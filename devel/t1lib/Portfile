# $Id: Portfile,v 1.2 2004/12/28 10:18:53 toby Exp $

PortSystem			1.0
name				t1lib
version				5.0.0
categories			devel graphics fonts
maintainers			blb@pobox.com
description			Library for generating glyphs from Type 1 fonts
long_description \
	t1lib is a library distributed under the GNU General Public Library \
	License for generating character- and string-glyphs from Adobe Type 1 \
	fonts under UNIX. t1lib uses most of the code of the X11 rasterizer \
	donated by IBM to the X11-project. But some disadvantages of the \
	rasterizer being included in X11 have been eliminated.

platforms			darwin

master_sites		sunsite:libs/graphics opendarwin::lt

checksums			${name}-${portversion}${extract.suffix} md5 6b5d79840ec2be72b506c12abb040a60 \
				ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
				ltmain13 md5 e094ae92724c4015dbab97de151c2525

patchfiles			patch-doc_Makefile.in patch-type1afm_Makefile.in \
					patch-lib_Makefile.in patch-xglyph_Makefile.in

configure.args		--without-x

build.target		without_doc

variant x11 {
	depends_lib-append		lib:libX11:XFree86
	configure.args-delete	--without-x
	configure.args-append	--with-x
}

variant psdoc {
	depends_lib-append		bin:tex:teTeX
	build.target			all
}

variant darwin {
	distfiles-append	ltconfig13:lt ltmain13:lt
	extract.only		${distname}${extract.suffix}
	post-patch {
		xinstall -m 644 ${distpath}/ltconfig13 ${worksrcpath}/ac-tools/ltconfig
		xinstall -m 644 ${distpath}/ltmain13 ${worksrcpath}/ac-tools/ltmain.sh
	}
}

