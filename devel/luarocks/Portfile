# $Id$

PortSystem 1.0

name                    luarocks
version                 0.5.2
revision                3
categories              devel
platforms               darwin
maintainers             andrea.damore@macports.org
description             Manager for rocks, lua extensions.
long_description        LuaRocks is a deployment and management system for Lua modules. \
				LuaRocks allows you to install Lua modules as self-contained packages \
				called \"rocks\", which also contain version dependency information. This \
				information is used both at install time, so that when one rock is \
				requested all rocks it depends on are installed as well, and at run \
				time, so that when a module is required, the correct version is loaded. \
				LuaRocks supports both local and remote repositories, and multiple local \
				rocks trees.
homepage                http://www.luarocks.org/
master_sites            http://luaforge.net/frs/download.php/3359/
depends_run		port:lua
universal_variant	no

configure.args		--with-lua=${prefix} \
			--scripts-dir=${prefix}/lib/luarocks/bin

variant md5 conflicts openssl description { Use md5 as checker } {
	configure.args-append	--with-md5-checker=md5sum	
}
	
variant openssl conflicts md5 description { Use openssl as checker (default) } {
	configure.args-append	--with-md5-checker=openssl	
	depends_run-append	port:openssl
}

if {![variant_isset md5]} {
	default_variants +openssl
}

variant wget conflicts curl description { Use wget as downloader } {
	configure.args-append	--with-downloader=wget
	depends_run-append	port:wget
}

variant curl conflicts wget description { Use curl as downloader (default) } {
	configure.args-append	--with-downloader=curl
	depends_run-append	port:curl
}

if {![variant_isset wget]} {
	default_variants +curl
}

checksums	md5  e6edae6c667480d921f49ddda8cb63fc \
		sha1  494c96944a9f6ab8d515fe4d6c15f661fafbf242 \
		rmd160  6f0acf500998150042f22d55bed4c1f2eb23e9b0


