# $Id$

PortSystem              1.0
name                    cctools-headers
version                 822
categories              devel
platforms               darwin
maintainers             mfeiri openmaintainer
license                 APSL-2.0
description             Headers for compiler on Mac OS X and Darwin
long_description        A set of essential headers for compiler on Mac OS X \
                        and Darwin. Similar to binutils on other platforms.

homepage                http://opensource.apple.com/source/cctools/
master_sites            http://opensource.apple.com/tarballs/cctools/

distname                cctools-${version}

checksums               rmd160  1caf207acbf421cdc975926a392fc75dc1d2594c \
                        sha256  dfaa9bdbd023524d47429674f64d2d5ea393123dabf90868be0aa17f61f45289

if {${os.major} < 10} {
    version             698.1
    distname            cctools-${version}
    checksums           rmd160  898c7b46869d4989c115420912fdd8d96ae923d3 \
                        sha256  383f1c0c78a2b3efdfdf7ce01adb7e2f8ee9985164dba6ab1c0fae800a211cec
} elseif {${os.major} == 10} {
    version             809
    distname            cctools-${version}
    checksums           rmd160  f433124035ac0ef403bdc6edec087bdedd0b4375 \
                        sha256  03ba62749b843b131c7304a044a98c6ffacd65b1399b921d69add0375f79d8ad
}

supported_archs         noarch
universal_variant       no
use_configure           no
build {}

destroot.args           DSTROOT=${destroot}${prefix} RC_ProjectSourceVersion=${version}
destroot.target         installhdrs

post-destroot {
    file rename -force ${destroot}${prefix}/usr/include ${destroot}${prefix}/
    file delete -force ${destroot}${prefix}/usr
}

livecheck.type          regex
livecheck.regex         "cctools-(\[\\d.\]+)"
