# $Id: Portfile,v 1.2 2005/01/27 21:37:24 waqar Exp $

PortSystem 1.0
name		gpgme-objc
set rname	GPGME
version		1.0.2
revision	1
categories	devel security
maintainers	waqar@opendarwin.org
description	GnuPG Made Easy is an Objective-C framework wrapping libgpgme
long_description	\
	GnuPG Made Easy (GPGME) is an Objective-C framework wrapping 	\
	libgpgme, a C language library, that allows to add support 	\
	for cryptography to a program. It is designed to make access 	\
	to crypto engines like GnuPG or GpgSM easier for applications. 	\
	GPGME provides a high-level crypto API for encryption, 		\
	decryption, signing, signature verification and key management.
homepage	http://macgpg.sourceforge.net
platforms	macosx
master_sites	sourceforge:macgpg
extract.suffix	.tgz
distname	${rname}-${version}
dist_subdir	macgpg
checksums	md5 9f6fc9eb6d36c298c045178703041314			\
		sha1 ff02efeac01253c9df797ec314ef0e4fc537964e
depends_lib	lib:gpgme:gpgme
patch	{
	cd ${worksrcpath}
	reinplace "s|/usr/local|${prefix}|g" 	\
		${rname}.xcode/project.pbxproj	\
		${rname}.pbproj/project.pbxproj
}
use_configure	no
build.type 	pbx
build.target	${rname}

build		{
	cd ${worksrcpath}
	system "${build.cmd} build -target ${build.target} 	\
		-project ${build.target}.xcode"
}

destroot 	{
	cd ${worksrcpath}
	system "${build.cmd} install INSTALL_PATH=${prefix}/Library/Frameworks \
		INSTALL_MODE_FLAG=go-w,a+rX DSTROOT=${destroot} \
		-target ${build.target} -project ${build.target}.xcode"
}
