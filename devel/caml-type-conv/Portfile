# $Id$

PortSystem          1.0
name                caml-type-conv
version             1.6.10
distfiles           type-conv-${version}.tar.gz
worksrcdir          type-conv-${version}
categories          devel ml
maintainers         erickt openmaintainer
description         Mini library required for some other preprocessing libraries (OCaml 3.10 and newer)
homepage            http://www.ocaml.info/home/ocaml_sources.html
platforms           darwin
master_sites        http://www.ocaml.info/ocaml_sources
checksums           md5     ea0d731cbb0f0f5682f9e40e5045b37e \
                    sha1    dfe3b7c42ee2d5a06b5de5567f33d8d71c3737cb \
                    rmd160  f2ddd912901dd47d689a91e1089d1f4462fb6664

livecheck.type      regex
livecheck.regex     "type-conv-(.*?).tar.gz"

depends_lib         port:ocaml port:caml-findlib

use_configure       no

build.env           PREFIX=${prefix}

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_INSTFLAGS="-destdir $ocamlfind_destdir"

livecheck.type      regex
livecheck.url       http://ocaml.janestreet.com/?q=node/13
livecheck.regex     {type-conv-release-(.*)\.tar\.gz}

pre-destroot {
    file mkdir $ocamlfind_destdir
}
