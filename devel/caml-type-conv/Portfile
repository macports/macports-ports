# $Id$

PortSystem          1.0
name                caml-type-conv
version             2.0.2
distname            type-conv-${version}
categories          devel ml
maintainers         erickt openmaintainer
description         Mini library required for some other preprocessing libraries (OCaml 3.10 and newer)
long_description    ${description}
homepage            http://www.ocaml.info/home/ocaml_sources.html
platforms           darwin
master_sites        http://www.ocaml.info/ocaml_sources
checksums           md5     db46a097b81b0d4a95a4a72bef100527 \
                    sha1    d3fe8255dcb63ebb16414a137f6fe4ad986a13d9 \
                    rmd160  004a4bf74b57d80a6024890cc6f4aa8baafd81e1

livecheck.type      regex
livecheck.regex     {type-conv-release-(.*?)\.tar}

depends_lib         port:ocaml port:caml-findlib

use_configure       no
use_parallel_build  no

build.env           PREFIX=${prefix}

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_INSTFLAGS="-destdir $ocamlfind_destdir"

pre-destroot {
    xinstall -m 755 -d $ocamlfind_destdir
}
