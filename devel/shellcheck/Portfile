# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        koalaman shellcheck 0.11.0 v
github.tarball_from archive
revision            0
categories          devel haskell

license             GPL-3+
maintainers         nomaintainer

description         ShellCheck, a static analysis tool for shell scripts
long_description    The goals of ShellCheck are: \
                    \n - To point out and clarify typical beginner's \
                    syntax issues, that causes a shell to give cryptic \
                    error messages. \
                    \n - To point out and clarify typical intermediate \
                    level semantic problems, that causes a shell to \
                    behave strangely and counter-intuitively. \
                    \n - To point out subtle caveats, corner cases and\
                    pitfalls, that may cause an advanced user's \
                    otherwise working script to fail under future \
                    circumstances.

checksums           rmd160  e3f3e65cbf8ad9428bb34f8769165ef0e6edae71 \
                    sha256  8b07554f92e4fbfc33f1539a1f475f21c6503ceae8f806efcc518b1f529f7102 \
                    size    467540

livecheck.url       https://hackage.haskell.org/package/ShellCheck

installs_libs       no
depends_build-append \
                    port:pandoc

variant stack \
    description {Use stack to build.} {}

if { [variant_isset "stack"] } {
    PortGroup       haskell_stack 1.0
} else {
    PortGroup       haskell_cabal 1.0
}

post-build {
    system -W ${worksrcpath} "./manpage"
}

post-destroot {
    xinstall -m 0644 ${worksrcpath}/${name}.1 \
        ${destroot}${prefix}/share/man/man1/
}
