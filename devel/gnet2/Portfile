# $Id: Portfile,v 1.4 2004/06/08 01:39:19 mij Exp $

PortSystem 1.0
name		gnet2
version		2.0.4
revision	1
categories	devel
maintainers	mij@opendarwin.org
description	Simple network library
homepage	http://www.gnetlibrary.org/
platforms	darwin

long_description GNet is a simple network library written in C.  It is \
		 object-oriented, and built upon GLib.

master_sites	http://www.gnetlibrary.org/src/

distname	gnet-${portversion}
checksums	md5 b43e728391143214e2cfd0b835b6fd2a

depends_lib	lib:libglib.2:glib2

post-configure	{ reinplace "s|-pthread|-lpthread|g" \
		    ${workpath}/${distname}/src/Makefile
		  reinplace "s|-pthread|-lpthread|g" \
		    ${workpath}/${distname}/examples/Makefile
		  reinplace "s|-pthread|-lpthread|g" \
		    ${workpath}/${distname}/tests/Makefile }

post-destroot	{ system "ln -fs libgnet-2.0.0.0.4.dylib \
		    ${destroot}${prefix}/lib/libgnet.2.dylib" }
