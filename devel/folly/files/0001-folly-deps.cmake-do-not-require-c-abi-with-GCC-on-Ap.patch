From 0e59b7ecf2b0ba056b520053f9ad3802033ede52 Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Tue, 3 Jan 2023 04:23:03 +0700
Subject: [PATCH 1/3] folly-deps.cmake: do not require c++abi with GCC on Apple

---
 CMake/folly-deps.cmake | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/CMake/folly-deps.cmake b/CMake/folly-deps.cmake
index 989259a87..c04634b1f 100644
--- a/CMake/folly-deps.cmake
+++ b/CMake/folly-deps.cmake
@@ -247,7 +247,7 @@ check_cxx_source_compiles("
   FOLLY_STDLIB_LIBCPP
 )
 
-if (APPLE)
+if (APPLE AND NOT(CMAKE_CXX_COMPILER_ID STREQUAL "GNU"))
   list (APPEND CMAKE_REQUIRED_LIBRARIES c++abi)
   list (APPEND FOLLY_LINK_LIBRARIES c++abi)
 endif ()
-- 
2.39.0

