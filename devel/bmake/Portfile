# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                bmake
version             20220909
revision            0
checksums           rmd160  adc60a5fa6b539a4d8f485d2eab454ca8186ab2f \
                    sha256  34e9704a93fc183e3f1d87a81f9eabeba3200052f57fed4a751a5968d6b70225 \
                    size    819788

categories          devel
maintainers         {ryandesign @ryandesign} openmaintainer
license             BSD

homepage            http://www.crufty.net/help/sjg/bmake.html
master_sites        http://www.crufty.net/ftp/pub/sjg/

description         Portable NetBSD make
long_description    bmake is the portable version of NetBSD make.

worksrcdir          ${name}

configure.cmd       ./boot-strap
configure.args-append \
                    op=configure

configure.checks.implicit_function_declaration.whitelist-append strchr

build.cmd           ./boot-strap
build.target        op=build

destroot.target     op=install
destroot.args-append \
                    --prefix=${prefix}

livecheck.type      regex
livecheck.url       ${master_sites}
livecheck.regex     "${name}-(\[\\d\]+)${extract.suffix}"
