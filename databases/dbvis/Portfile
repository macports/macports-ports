# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem                  1.0
PortGroup                   java 1.0

name                        dbvis
version                     10.0.26
categories                  databases
platforms                   darwin
supported_archs             x86_64
license                     Restrictive
maintainers                 {@lhaeger} openmaintainer

description                 DbVisualizer is the universal database tool for developers, DBAs and analysts
long_description            DbVisualizer is a feature rich, intuitive multi-database tool for developers \
                            and database administrators, providing a single powerful interface across a \
                            wide variety of operating systems.

homepage                    https://www.dbvis.com

master_sites                ${homepage}/product_download/dbvis-${version}/media/
distname                    dbvis_macos_[strsed $version g/\\./_/]
extract.suffix              .tgz

checksums                   rmd160  a76ac42b44398d1dacc9200686f181a9d17e2d71 \
                            sha256  16b841d19f12afbd554aa98b99a22fd74b4600fc1b9b6d47cc58e4a706a4feb6 \
                            size    80414843

java.version                1.8+
java.fallback               openjdk11

extract.mkdir               yes

use_configure               no

build {}

destroot {
    copy ${worksrcpath}/DbVisualizer.app ${destroot}${applications_dir}
}

livecheck.type              regex
livecheck.url               ${homepage}/CheckForUpdate/?dbvisVersion=10.0.0&dbvisEdition=Free&channels=feature&channels=maintenance
livecheck.regex             "www.dbvis.com/download/(\[0-9.\]+)"
