# $Id$

PortSystem 1.0

name			postgis
version			1.2.1
revision		1
categories		databases
platforms		darwin
maintainers		nomaintainer@macports.org
description		adds support for geographic objects to the postgresql database
long_description	PostGIS adds support for geographic objects to the \
			PostgreSQL object-relational database. In effect, PostGIS \
			"spatially enables" the PostgreSQL server, allowing it to be used \
			as a backend spatial database for geographic information systems \
			(GIS), much like ESRI's SDE or Oracle's Spatial extension. PostGIS \
			follows the OpenGIS Simple Features Specification for SQL and \
			will be submitted for conformance testing at version 1.0.

homepage		http://postgis.refractions.net/
master_sites	http://postgis.refractions.net/download/
checksums		sha1 0a47bde414bf691fb624ead37cc119687aba14df
patchfiles		patch-extras-template_gis-postgis_env.sh.in

depends_lib		port:postgresql82 port:geos port:proj

configure.args	--libdir=${prefix}/lib/postgresql82/ \
				--datadir=${prefix}/share/${name} \
				--with-pgsql=${prefix}/lib/postgresql82/bin/pg_config \
				--with-geos=${prefix}/bin/geos-config \
				--with-proj=${prefix}

platform darwin 8 {
	configure.env CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

post-destroot {
	file rename ${destroot}/etc/default/postgis \
		${destroot}${prefix}/etc/postgis.default
}

