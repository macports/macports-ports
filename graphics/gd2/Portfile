# $Id $

PortSystem 1.0
name            gd2
revision        2
version         2.0.33
categories      graphics
maintainers     nomaintainer@macports.org
description     GD creates PNG and JPEG images, among other formats
long_description    gd is a graphics library. It allows your code to \
            quickly draw images complete with lines, arcs, text, \
            multiple colors, cut and paste from other images, and \
            flood fills, and write out the result as a .PNG file. \
            This is particularly useful in World Wide Web applications, \
            where .PNG is the format used for inline images. \
            gd is not a paint program. If you are looking for a paint \
            program, you are looking in the wrong place. \
            If you are not a programmer, you are looking in the wrong \
            place. 
homepage        http://www.boutell.com/gd/
platforms       darwin

master_sites    ${homepage}http/ 
distname        gd-${version}
checksums       md5 be0a6d326cd8567e736fbc75df0a5c45

depends_lib     port:libpng  \
                port:jpeg \
                port:freetype \
                lib:libX11.6:XFree86

configure.env   CPPFLAGS=-I${prefix}/include LDFLAGS=-L${prefix}/lib
patchfiles      gdft.c.diff

platform darwin 6 {
    depends_lib lib:libdl:dlcompat
}

platform darwin {
	post-configure {
		reinplace "s/^\\(hardcode_direct=\\)yes/\\1no/" ${worksrcpath}/libtool
	}
}
