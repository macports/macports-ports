# $Id: Portfile,v 1.8 2003/03/18 06:02:53 mij Exp $

PortSystem 1.0
name		imlib
version		1.9.10
categories	graphics
maintainers	eric@opendarwin.org
description	Graphics library related to the enlightenment window manager
homepage	http://www.enlightenment.org/pages/imlib.html
platforms	darwin

long_description Imlib is an advanced graphics library meant to replace \
		 existing libraries like libXpm, and provides many more \
		 features with much greater flexibility and speed.

master_sites	ftp://ftp.gnome.org/pub/gnome/sources/imlib/1.9/ \
		http://distfiles.opendarwin.org/:lt
distfiles-append ltconfig13:lt ltmain13:lt
extract.only	${distname}${extract.sufx}

checksums	imlib-1.9.10.tar.gz md5 47323fff0f9209abd2fc0f738d63424e \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525

depends_lib	lib:libgtk.1:gtk lib:libjpeg.62:jpeg lib:libtiff.3:tiff \
		lib:libungif.4:libungif lib:libpng.3:libpng

patchfiles	patch-config.guess patch-config.sub \
		patch-gdk_imlib-Makefile.am patch-gdk_imlib-Makefile.in

post-extract	{ system "cp ${distpath}/ltconfig13 ${worksrcpath}/ltconfig"
		  system "cp ${distpath}/ltmain13 ${worksrcpath}/ltmain.sh" }

configure.env	CPPFLAGS="-w" LDFLAGS="-L${prefix}/lib"
configure.args	--disable-shm
