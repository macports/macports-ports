PortSystem 1.0
name		libungif
version		4.1.0b1
categories	graphics
maintainers	eric@opendarwin.org
description	Tools and library routines for working with GIF images
homepage	http://prtr-13.ucsc.edu/~badger/software/libungif/
platforms	darwin

long_description GIF loading and saving shared library.  (Saving \
		 uses an uncompressed gif algorithm that does not use \
		 LZW compression.)

master_sites	ftp://prtr-13.ucsc.edu/pub/libungif/ \
		ftp://ftp.ayamura.org/pub/graphics/ \
		ftp://ftp.FreeBSD.org/pub/FreeBSD/distfiles/ \
		http://www.opendarwin.org/projects/darwinports/distfiles/:lt

set filename	${portname}-${portversion}${extract.sufx}
distfiles	${filename} ltconfig13:lt ltmain13:lt
extract.only	${filename}

checksums	${filename} md5 20d96eb90cf818a1da093614c44ad3e5 \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525

patchfiles	patch-config.guess patch-config.sub patch-qprintf.c \
		patch-gif_lib.h

post-patch	{ system "cp ${distpath}/ltconfig13 ${worksrcpath}/ltconfig"
		  system "cp ${distpath}/ltmain13 ${worksrcpath}/ltmain.sh" }

configure.args	--with-x=no
variant x11	{ configure.args {} }

post-install	{ system "rm ${destroot}${prefix}/lib/libungif.a"
		  system "rm ${destroot}${prefix}/lib/libungif.la" }
