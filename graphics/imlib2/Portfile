# $Id$

PortSystem      1.0
PortGroup       archcheck 1.0

name            imlib2
version         1.4.2
revision        2
categories      graphics devel
platforms       darwin
maintainers     nomaintainer
description     Image loading and rendering library

long_description \
   Imlib is a general Image loading and rendering library designed to make \
   the task of loading images, and obtaining X-Windows drawables a simple \
   task, as well as a quick one. It also aims to provide simple \
   manipulation routines that might be desired for common operations.


homepage        http://docs.enlightenment.org/api/imlib2/html/
master_sites    sourceforge:enlightenment

checksums       md5     0c866a7e696ad5ac58bc9312149f15f0 \
                sha1    769ea1da26774cd7531d1d66432cf8d7d7b30c2b \
                rmd160  9b1f40ee392c1e27c6a75bbf7e8c7fb379e74695

depends_build \
    port:pkgconfig

depends_lib \
    port:bzip2 \
    port:giflib \
    port:libid3tag \
    port:libpng \
    port:jpeg \
    port:freetype \
    port:tiff \
    port:xorg-libsm \
    port:xorg-libX11 \
    port:xorg-libXext \
    port:zlib

archcheck.files \
    lib/libX11.dylib \
    lib/libXext.dylib \
    lib/libbz2.dylib \
    lib/libfreetype.dylib \
    lib/libgif.dylib \
    lib/libid3tag.dylib \
    lib/libjpeg.dylib \
    lib/libpng.dylib \
    lib/libSM.dylib \
    lib/libtiff.dylib \
    lib/libz.dylib

use_autoreconf  yes
autoreconf.args -fv

configure.args \
    --disable-amd64

post-destroot {
    set docdir ${prefix}/share/doc/${name}
    xinstall -d ${destroot}${docdir}
    xinstall -m 644 -W ${worksrcpath} AUTHORS COPYING ChangeLog NEWS README \
        TODO ${destroot}${docdir}

    xinstall -d ${destroot}${docdir}/html
    eval xinstall -m 644 [glob -directory ${worksrcpath}/doc *.{html,gif}] \
        ${destroot}${docdir}/html
}

platform darwin 8 {
    configure.args-append --disable-mmx
}

livecheck.distname ${name}-src
