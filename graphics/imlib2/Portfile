# $Id$

PortSystem			1.0
name				imlib2
version				1.2.2
categories			graphics devel
maintainers			darwinports@opendarwin.org
description			Image loading and rendering library
long_description \
	Imlib is a general Image loading and rendering library designed to make \
	the task of loading images, and obtaining X-Windows drawables a simple \
	task, as well as a quick one. It also aims to provide simple \
	manipulation routines that might be desired for common operations.

platforms			darwin

homepage			http://www.enlightenment.org/pages/imlib2.html
master_sites		sourceforge:enlightenment

checksums			md5 07b2a7745ddd3c7c4480b50cb916174c \
					sha1 c358aed94f2faf0fb2afcae905c56e8a54c1d763 \
					rmd160 65f2277eb3754632dbfce235b5857c5d4894ebfc

depends_lib			port:jpeg port:libpng port:freetype port:zlib \
					lib:libX11:XFree86

configure.env		CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

post-destroot {
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	eval xinstall -m 644 -W ${worksrcpath}/doc \
		[glob ${worksrcpath}/doc/*.gif] index.html \
		${destroot}${prefix}/share/doc/${name}
}

platform i386 {
	configure.args-append	--disable-mmx --disable-amd64
}

