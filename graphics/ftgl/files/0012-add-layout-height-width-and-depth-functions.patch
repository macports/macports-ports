From e58a3f06ecc1bb3b4616f46b47f1b01a92f4ce68 Mon Sep 17 00:00:00 2001
From: hamzam3
Date: Thu, 11 May 2023 20:24:06 +0200
Subject: [PATCH 12/14] add layout height width and depth functions

---
 src/FTGL/FTLayout.h           | 24 ++++++++++++++++++++++++
 src/FTLayout/FTLayoutGlue.cpp | 21 +++++++++++++++++++++
 2 files changed, 45 insertions(+)

diff --git a/src/FTGL/FTLayout.h b/src/FTGL/FTLayout.h
index b2ce0a7ceb0a..cb3b1148502e 100644
--- a/src/FTGL/FTLayout.h
+++ b/src/FTGL/FTLayout.h
@@ -166,10 +166,37 @@ FTGL_EXPORT void ftglDestroyLayout(FTGLlayout* layout);
  *                left near and upper right far 3D coordinates will be stored.
  */
 FTGL_EXPORT void ftglGetLayoutBBox(FTGLlayout *layout, const char* string,
                                    float bounds[6]);

+/**
+ * Get the height box for a string.
+ *
+ * @param layout  An FTGLlayout* object.
+ * @param string  A char buffer
+ * @return  The height of the layout
+ */
+FTGL_EXPORT float ftglGetLayoutHeight(FTGLlayout *layout, const char* string);
+
+/**
+ * Get the width box for a string.
+ *
+ * @param layout  An FTGLlayout* object.
+ * @param string  A char buffer
+ * @return  The width of the layout
+ */
+FTGL_EXPORT float ftglGetLayoutWidth(FTGLlayout *layout, const char* string);
+
+/**
+ * Get the depth box for a string.
+ *
+ * @param laymout  An FTGLlayout* object.
+ * @param string  A char buffer
+ * @return  The depth of the layout
+ */
+FTGL_EXPORT float ftglGetLayoutDepth(FTGLlayout *layout, const char* string);
+
 /**
  * Render a string of characters.
  *
  * @param layout  An FTGLlayout* object.
  * @param string  Char string to be output.
diff --git a/src/FTLayout/FTLayoutGlue.cpp b/src/FTLayout/FTLayoutGlue.cpp
index 5295347edb06..95546b7855e7 100644
--- a/src/FTLayout/FTLayoutGlue.cpp
+++ b/src/FTLayout/FTLayoutGlue.cpp
@@ -86,10 +86,31 @@ void ftglGetLayoutBBox(FTGLlayout *l, const char * s, float c[6])
     FTPoint lower = ret.Lower(), upper = ret.Upper();
     c[0] = lower.Xf(); c[1] = lower.Yf(); c[2] = lower.Zf();
     c[3] = upper.Xf(); c[4] = upper.Yf(); c[5] = upper.Zf();
 }

+float ftglGetLayoutHeight(FTGLlayout *l, const char *s)
+{
+    FTBBox ret = _ftglGetLayoutBBox(l, s);
+    FTPoint lower = ret.Lower(), upper = ret.Upper();
+    return upper.Yf() - lower.Yf();
+}
+
+float ftglGetLayoutWidth(FTGLlayout *l, const char *s)
+{
+    FTBBox ret = _ftglGetLayoutBBox(l, s);
+    FTPoint lower = ret.Lower(), upper = ret.Upper();
+    return upper.Xf() - lower.Xf();
+}
+
+float ftglGetLayoutDepth(FTGLlayout *l, const char *s)
+{
+    FTBBox ret = _ftglGetLayoutBBox(l, s);
+    FTPoint lower = ret.Lower(), upper = ret.Upper();
+    return upper.Zf() - lower.Zf();
+}
+
 // virtual void FTLayout::Render(const char* string, int renderMode);
 C_FUN(void, ftglRenderLayout, (FTGLlayout *l, const char *s, int r),
       return, Render, (s, -1, FTPoint(), r));

 // FT_Error FTLayout::Error() const;
--
2.47.1

