# $Id$

PortSystem 1.0
name			enblend
version			3.0
categories		graphics
maintainers		brad.froehle@gmail.com openmaintainer
description		a tool to composite images
long_description	Enblend is a tool to composite overlapping images \
			with invisible (or very difficult to see) seams.
homepage		http://enblend.sourceforge.net/
master_sites		sourceforge:${name}
checksums		md5 f80a12ff91a6122c5ea0d102443929da \
			sha1 98f001a4eddb3fd1f9ab7def00d8655d4fb726ea \
			rmd160 fceaece3b39b1b8f93f34efa5273a18fc2da356d

depends_lib		port:tiff \
			port:boost \
			port:lcms \
			port:glew \
			port:libxmi \
			port:glut

configure.cppflags-append	-I${x11prefix}/include
configure.ldflags-append	-L${x11prefix}/lib
configure.args		--mandir=${prefix}/share/man

platform darwin 9 {
	configure.ldflags-append	"-dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib"
}

patchfiles		patch-src_gpu.cc.diff \
			patch-src_anneal.h.diff

post-destroot {
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} AUTHORS ChangeLog COPYING \
		INSTALL NEWS README TODO VIGRA_LICENSE \
		${destroot}${prefix}/share/doc/${name}
}
