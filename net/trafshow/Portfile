# $Id: Portfile,v 1.5 2004/04/27 18:36:08 matt Exp $

PortSystem 1.0
name			trafshow
version			3.1
revision		1
categories		net
maintainers		noses@noses.com
description		continuous network traffic display
long_description	TrafShow continuously displays the information regarding \
			packet traffic on the configured network interface that \
			matches the boolean  expression. It periodically sorts \
			and updates this information. It may be useful for locating \
			suspicious network traffic on the net. 
homepage		http://soft.risp.ru/trafshow/index_en.shtml
platforms		darwin
master_sites		ftp://ftp.sasknow.com/pub/trafshow/ \
			ftp://ftp.nsk.su/pub/RinetSoftware/
checksums               md5 085b99f160002a269b358aab1c5004f0
extract.suffix		.tgz
patchfiles		patch-configure patch-config.h.in patch-color.c patch-util.c
build.target            trafshow

configure.args		--host=ppc-apple-darwin6.2

pre-configure 		{	file copy -force /usr/share/libtool/config.guess ${worksrcpath}/config.guess
				file copy -force /usr/share/libtool/config.sub ${worksrcpath}/config.sub }

post-configure		{	reinplace "s;%%PREFIX%%;${prefix};g" ${worksrcpath}/color.c }

destroot		{ 	cd ${workpath}/${worksrcdir}
				system "install -o root -m 755 -s -c trafshow ${destroot}/${prefix}/bin"
				system "install -o root -m 755 -s -c trafshow.1 ${destroot}/${prefix}/share/man/man1"
				system "install -b -o root -m 755 -s -c trafshow ${destroot}/${prefix}/etc/trafshow.default" }
