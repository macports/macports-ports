# $Id: Portfile,v 1.9 2004/02/01 02:48:14 jkh Exp $

PortSystem 1.0
name		rsync
version		2.6.0
categories	net
maintainers	mww@opendarwin.org
description	tool that provides fast incremental file transfer
long_description	rsync is a file transfer program for Unix systems. \
		rsync uses the 'rsync algorithm' which provides a very fast \
		method for bringing remote files into sync. It does this by \
		sending just the differences in the files across the link, \
		without requiring that both sets of files are present at one \
		of the ends of the link beforehand. 

homepage	http://samba.org/rsync/
master_sites	http://samba.org/ftp/rsync/ \
		ftp://samba.anu.edu.au/pub/rsync/  \
		ftp://sunsite.auc.dk/pub/unix/rsync/  \
		ftp://ftp.sunet.se/pub/unix/admin/rsync/  \
		ftp://ftp.fu-berlin.de/pub/unix/network/rsync/
checksums	md5 3f24bf31aec0a657eb3b6844c3f09f21
platforms	darwin freebsd sunos
configure.args	--disable-ipv6 \
		--mandir=${prefix}/share/man

variant ipv6 	{
	configure.args	--enable-ipv6 \
			--mandir=${prefix}/share/man
}

variant sunos	{
	patchfiles-append	patch-lib_addrinfo.h.diff
}

variant darwin 	{
	patchfiles-append	patch-darwin6-configure.diff
}

build.type	gnu

post-destroot	{
	file mkdir ${destroot}${prefix}/share/doc/${name}
	file copy ${worksrcpath}/COPYING ${worksrcpath}/INSTALL \
		${worksrcpath}/NEWS ${worksrcpath}/OLDNEWS ${worksrcpath}/TODO \
		${worksrcpath}/README ${destroot}${prefix}/share/doc/${name}
}
