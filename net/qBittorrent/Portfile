# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4

PortSystem      1.0
PortGroup       github 1.0
PortGroup       qt5 1.0

github.setup    qbittorrent qBittorrent 4.1.9.1 release-
revision        1
categories      net
maintainers     {i0ntempest @i0ntempest} openmaintainer
categories      net
platforms       darwin
license         GPL-2

description     The qBittorrent project aims to provide an open-source software alternative to ÂµTorrent.
long_description \
                qBittorrent is a bittorrent client programmed in C++ / Qt that uses \
                libtorrent (sometimes called libtorrent-rasterbar) by Arvid Norberg. \
                It aims to be a good alternative to all other bittorrent clients out \
                there. qBittorrent is fast, stable and provides unicode support as well \
                as many features.

homepage        https://www.qbittorrent.org

checksums       rmd160  e1a79ed6fb7e014b8bc345f0e7be54274bd1994f \
                sha256  aa676a985044c88b1cfbeb7f45d4fab27e36de00343431e33ece6791463ee381 \
                size    7803738

depends_lib     port:zlib \
                port:qt5-qttools \
                port:libtorrent-rasterbar11

destroot {
                exec ${prefix}/libexec/qt5/bin/macdeployqt ${worksrcpath}/src/qBittorrent.app 2>&1 >/dev/null
                exec /usr/bin/codesign --force --deep --sign - ${worksrcpath}/src/qBittorrent.app
                copy ${worksrcpath}/src/qBittorrent.app ${destroot}/Applications/MacPorts/
}

variant search description {Enable search function} {
                depends_lib-append port:python37
}

default_variants \
               +search
