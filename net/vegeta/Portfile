# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/tsenart/vegeta 12.7.0 v
categories          net
maintainers         {amake @amake} openmaintainer
license             MIT

description         HTTP load testing tool and library

long_description    A versatile HTTP load testing tool built out of a \
                    need to drill HTTP services with a constant request rate.

checksums           ${distname}${extract.suffix} \
                        rmd160  9409bb2e0ccf98a57bdfa8cd71fcfd430a6e2aff \
                        sha256  314ae4043098eef428ea607297026907bd10d83894c3f920b5ccdbaac58903c7 \
                        size    492684

go.vendors          github.com/alecthomas/jsonschema \
                        lock    f2c93856175a7dd6abe88c5c3900b67ad054adcc \
                        rmd160  d6ce0c882b5ab9d6df244f3b593151eb1861aaff \
                        sha256  7fd3b953b13888e42fbd93bf2e1b11935420f860000fc4ac54cb99bb2fdc469c \
                        size    7347 \
                    github.com/bmizerany/perks \
                        lock    d9a9656a3a4b1c2864fdb44db2ef8619772d92aa \
                        rmd160  974e1829607028213f82fe3e7c3f1963ae570696 \
                        sha256  77fe90f472ac253bc32824066332c6118ffb3b6c7a79fb2e7c00cac220a13da7 \
                        size    9628 \
                    github.com/c2h5oh/datasize \
                        lock    4eba002a5eaea69cf8d235a388fc6b65ae68d2dd \
                        rmd160  a0c0a4d89682b1f137c90eb28e88e3c0d6b1045e \
                        sha256  6440d480edb77a9251fa0a2a1312c7f99f9cef8b571892a1e368955f47c98dc1 \
                        size    4125 \
                    github.com/dgryski/go-gk \
                        lock    201884a44051d8544b65e6b1c05ae71c0c45b9e0 \
                        rmd160  3b6acf2b96aa6c5ea6c8422bd519a0529d21c05c \
                        sha256  293b51ae281a6b737f43f51d3f1568789b98cacbe5dd40c18f148e0007a6e4ed \
                        size    2737 \
                    github.com/dgryski/go-lttb \
                        lock    318fcdf10a77c2df09d83777e41f5e18d236ec9d \
                        rmd160  d5f63e2d74724195157f27a7aa6d5049b62af14f \
                        sha256  e14c6fc02b5a899f2d61c05c906224612c145d9e27bef3b54c0fe532728ee6ab \
                        size    98342 \
                    github.com/google/go-cmp \
                        lock    3af367b6b30c263d47e8895973edcca9a49cf029 \
                        rmd160  4defcbaf9d26722120790d85670c8dc98df968b7 \
                        sha256  901195a78019fa669f6a56c48e0d03d86c1473b3e65b65fdb05ff0c389f03ac8 \
                        size    57880 \
                    github.com/influxdata/tdigest \
                        lock    a7d76c6f093a59b94a01c6c2b8429122d444a8cc \
                        rmd160  b1f711f505da04e8b6c2b0025ff168d31407dbed \
                        sha256  ca9e5ff1354fc3aaf9cee4768be65e245eed3f0cd796b5309cf56bcb7cec06da \
                        size    15723 \
                    github.com/mailru/easyjson \
                        lock    60711f1a8329503b04e1c88535f419d0bb440bff \
                        rmd160  1a84932973d3674c640c468e9a3474124e858598 \
                        sha256  011bcd6cce43477d3a316ad7749b793f11af69bcd3e54adceb2fe35c6898c481 \
                        size    74926 \
                    github.com/shurcooL/httpfs \
                        lock    809beceb23714880abc4a382a00c05f89d13b1cc \
                        rmd160  294397c5fd1257cf715987f2a993b90128a31a41 \
                        sha256  f3b750b361874db6c627b5cc5fdf4d089da7f840e77d1f90ff437fde0ff8a864 \
                        size    7933 \
                    github.com/shurcooL/vfsgen \
                        lock    62bca832be04bd2bcaabd3b68a6b19a7ec044411 \
                        rmd160  1653751f44770c6d57b92d4f4eb59e5f9938da67 \
                        sha256  422de1face78cb2de409b9412a2116fb2b7ef9a340c615104e2f146972e55807 \
                        size    12566 \
                    github.com/streadway/quantile \
                        lock    b0c588724d25ae13f5afb3d90efec0edc636432b \
                        rmd160  ce72c5a57475a08cea43e2ce7c507aad9f72f05e \
                        sha256  445e81f51f2a83f70391979b8768e26cddf275932e550c7f63e1d218ed56ccee \
                        size    4870 \
                    github.com/tsenart/go-tsz \
                        lock    cdeb9e1e981e85dafc95428f5da9cba59cbcc828 \
                        rmd160  0a4fead624fd5828e1c52eedf4fcf2a2f8373687 \
                        sha256  ded283d9108294a7165a8020643568efae98301a57cf92c458fe8c8bae96f8a6 \
                        size    260648 \
                    golang.org/x/net \
                        lock    c39426892332e1bb5ec0a434a079bf82f5d30c54 \
                        rmd160  60605033e6109b9da3d50554930c8b105fe1787c \
                        sha256  e4bf2c75e9bce88d71d65ff36f34bd868ee57230cf9203e34c83bad1cfbcfd4d \
                        size    968758 \
                    golang.org/x/text \
                        lock    f21a4dfb5e38f5895301dc265a8def02365cc3d0 \
                        rmd160  fecb60b88ea1fdd2ff097059183c1a4d555059a6 \
                        sha256  ec51c6c0bbc46fc17c603aac5eb887c517f9a75529789517ccc8bd5fd7e03d94 \
                        size    6102629

# Reproduce the "build" target from the upstream Makefile
set go_ldflags      "-s -w -extldflags -static \
    -X main.Version=${version} \
    -X main.Commit=unknown \
    -X main.Date=unknown"
build.env-append    CGO_ENABLED=0
build.args          -ldflags \"${go_ldflags}\" ${go.package}

destroot {
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/
}
