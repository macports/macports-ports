# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem      1.0

name            argus-clients
version         3.0.0
categories      net
maintainers     googlemail.com:usx303 \
                openmaintainer

homepage        http://www.qosient.com/argus/
description     Network Audit Record Generation and Utilization System
long_description\
    Argus is a real-time Flow Monitor that is designed to perform \
    comprehensive IP network traffic auditing.

platforms       darwin
depends_lib     path:bin/perl:perl5

master_sites    ftp://qosient.com/pub/argus/src/
checksums       md5 69220c898c0a3ad612292eaecdec70d2\
                sha1 d3055bed8050cc7e13f30c60ec17683e58d4e13c\
                rmd160 eda4bcaec5ec53528feb2336e311abe719b7b438

default_variants +graph

variant graph description {Build ragraph (depends on rrdtool)} {
    depends_lib-append port:rrdtool
}

post-destroot   {
    file rename "${destroot}${prefix}/argus" "${destroot}${prefix}/share/argus"
    file delete -force "${destroot}${prefix}/bin/argusbug"
    if {[variant_isset graph]} {
        reinplace "s|#! /usr/bin/perl|#! ${prefix}/bin/perl|" ${destroot}${prefix}/bin/ragraph
    } else {
        file delete -force "${destroot}${prefix}/bin/ragraph"
    }
}
