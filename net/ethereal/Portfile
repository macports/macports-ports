# $Id: Portfile,v 1.14 2003/06/23 16:21:00 fkr Exp $

PortSystem 1.0
name		ethereal
version		0.9.13
categories	net
maintainers	eric@opendarwin.org
description	Graphical network analyzer and capture tool
homepage	http://ethereal.com/
platforms	darwin

long_description A network analyzer that lets you capture and \
		 interactively browse the contents of Ethernet frames. \
		 Packet data can be read from a file, or live from a local \
		 network interface.

master_sites	ftp://ftp.ethereal.com/pub/ethereal/ \
		ftp://ftp.planetmirror.com/pub/ethereal/ \
		ftp://ftp.mirrors.wiretapped.net/pub/security/packet-capture/ethereal/ \
		ftp://gd.tuwien.ac.at/infosys/security/ethereal/ \
		ftp://ftp.sunet.se/pub/network/monitoring/ethereal/ \
		ftp://ftp.ayamura.org/pub/ethereal/ \
		ftp://ftp.azc.uam.mx/mirrors/ethereal/

checksums	md5 a533a13d175be1f8c2be188ac8f4c7ea

use_bzip2	yes

# Work around a toolchain (optimization?) bug
#patchfiles	patch-epan-to_str.c patch-configure

depends_lib	lib:libglib.1:glib

configure.args	--without-plugins --disable-ethereal

variant gtk1	{ depends_lib-append lib:libgtk.1:gtk
		  configure.args { --enable-ethereal } }

variant gtk2	{ depends_lib lib:libgtk.2:gtk2
		  configure.args { --enable-ethereal --enable-gtk2 } }
