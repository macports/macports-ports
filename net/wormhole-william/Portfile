# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/psanford/wormhole-william 1.0.8 v
categories          net
maintainers         @jasperweiss openmaintainer
license             MIT

description         Go implementation of magic wormhole.

long_description    wormhole-william is a go (golang) implementation of magic wormhole. \
                    It provides secure end-to-end encrypted file transfers between computers. \
                    The endpoints are connected using the same wormhole code. \
                    \n\nwormhole-william is compatible with the official python magic wormhole cli tool.


checksums           ${distname}${extract.suffix} \
                        rmd160  f4d82ea411155a4cb70d82a62832a3721e40a8ea \
                        sha256  42490f3c7e383d7d410e68a83fc18de1a5e9373934a9d71064e10948197759d1 \
                        size    42073

go.vendors          salsa.debian.org/vasudev/gospake2 \
                        lock    d91629950ad1 \
                        rmd160  67f9347e36c20a9f7ece02dc7bc36c204d88557c \
                        sha256  2f903d988292da6f02f6f3b9c583c2a7bc5ea30015ff2d15fe31970e83601994 \
                        size    44285 \
                    rsc.io/qr \
                        repo    github.com/rsc/qr \
                        lock    v0.2.0 \
                        rmd160  f642fe01c13937615e5a975e6a1932f8dc25359a \
                        sha256  1d69d5a13366a84a1484abdec5affd7f5781016469f4b43b1a26f5fa5c93497b \
                        size    18816 \
                    nhooyr.io/websocket \
                        repo    github.com/nhooyr/websocket-old \
                        lock    v1.8.17 \
                        rmd160  761c05b3242f870d7d8c2c454a768250f84a504b \
                        sha256  da77c7662f4eca2b9762d489444b2a0aa593377a48cb0a29086c176ae26f19d0 \
                        size    61351 \
                    golang.org/x/term \
                        lock    v0.27.0 \
                        rmd160  f060955e0b7cc9dc5e1018982660cc2743a2141d \
                        sha256  acb423ae00c889d7aa6b91be449ddf53e5e5026c9542fe3a1f0b1bb351b64e94 \
                        size    14696 \
                    golang.org/x/sys \
                        lock    v0.28.0 \
                        rmd160  6afc12ada3ca9173b9f8ba2c66caf3dbf0ac7929 \
                        sha256  aa8ba4cd13aa5d7f839d604e002d2c994e6dfc09c3746f532bf69fc64617869c \
                        size    1520294 \
                    golang.org/x/crypto \
                        lock    v0.31.0 \
                        rmd160  ccd79163c4c288444622b7e39560353ba8caef9a \
                        sha256  8c60e95193c8a72264fef36dc5f6a23e69c9a5948680829fcfbe9d28030f9dca \
                        size    1837747 \
                    github.com/spf13/pflag \
                        lock    v1.0.5 \
                        rmd160  2ce81608a38c6f383a35bccd24d64361df5828c9 \
                        sha256  7f41acdcba65b1fab5b9b633947a139f9915b60f94bdab486cdbe9d90c54f61e \
                        size    50815 \
                    github.com/spf13/cobra \
                        lock    v1.8.1 \
                        rmd160  a735ec73fa26b66076a971e066513fff3eb7e367 \
                        sha256  49ca05093e0452e1b56be8a0765e23fd74be819228f0e1870c759b2e2e8178da \
                        size    192387 \
                    github.com/rivo/uniseg \
                        lock    v0.2.0 \
                        rmd160  33577def583aa2db50b69ca601e5d29ab201ebc4 \
                        sha256  2832965221246272462a03ffc8e159c94d8f534827f660f1ac4fc77e5ccd644c \
                        size    44037 \
                    github.com/mdp/qrterminal \
                        lock    v3.2.0 \
                        rmd160  917d01b9883910ba4aad1831641033a986e8111e \
                        sha256  4539c8a911dfe9bb8fde74602ed2f960c5a1d78ad2c3d1dd718d12feb8f57d33 \
                        size    25366 \
                    github.com/mattn/go-runewidth \
                        lock    v0.0.15 \
                        rmd160  702d468077550681ac11c3c2f3f5c9f98a868798 \
                        sha256  a6b5f47ffe7329895a605c356ff806dfd50b536bbc87af77773e55ad6e52d2db \
                        size    18287 \
                    github.com/mattn/go-isatty \
                        lock    v0.0.20 \
                        rmd160  ef20ccdf87de8b704c0c7118625b2beb31d8f1b4 \
                        sha256  397549e98cf5d40df585f31dc7902f017c37be88c64311dd2b4aeccab4009949 \
                        size    4717 \
                    github.com/mattn/go-colorable \
                        lock    v0.1.13 \
                        rmd160  c9e8ab9d0773c0984f36235e3c9f8c033552ac1a \
                        sha256  0cd9a951799c1a9f999df56e4b020170fa887456049c274aae6262d9ae3f7424 \
                        size    9778 \
                    github.com/klauspost/compress \
                        lock    v1.17.11 \
                        rmd160  8394d566ca9c036e2f51f863b743715bb9ca24dc \
                        sha256  8043668925d0747f2e1f06ccffd1ca1729cfde780de153d7cfc734ca1bf208fd \
                        size    39082404 \
                    github.com/inconshreveable/mousetrap \
                        lock    v1.1.0 \
                        rmd160  88f9577df93ac0f8801d8960adc7f28e38867f3e \
                        sha256  f69af10ff08c0e87f92dac3ee5172d8ed02463725b74edfc8943ef018a1a632d \
                        size    5343 \
                    github.com/gorilla/websocket \
                        lock    v1.5.3 \
                        rmd160  3c38c85e08c20fe93c0100bf884feb8fe45fbaed \
                        sha256  bbdca57ccb9369617abde8372d36f0b2ef7cf6208debdbb9ade97808d2ce42a7 \
                        size    54891 \
                    github.com/fatih/color \
                        lock    v1.15.0 \
                        rmd160  b1be266641e03921cb4eaa88439d584e4e87f8c3 \
                        sha256  73a9a36be3feac229dfbdc5a29a7bb007a2c5a77721fcae3f753316f2d10382e \
                        size    11274 \
                    github.com/cheggaaa/pb \
                        lock    v3.1.5 \
                        rmd160  d46e546ede0869821f75187aa8e8ced54e1efdb6 \
                        sha256  361b837170fa26aefc421c39b5abe4ce1f336831714328f8a63e80aae359523f \
                        size    33511 \
                    github.com/VividCortex/ewma \
                        lock    v1.2.0 \
                        rmd160  1d2cef6a9d902902ce305b922b0e8e53a3527860 \
                        sha256  1b2d004974f53c07d0cf960cf663d8b1264750f6636cdd7288b6d3875bf50bc6 \
                        size    6693

destroot {
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/
    # All supported shells: bash, fish, powershell, zsh
    set comp_path(bash) ${destroot}${prefix}/share/bash-completion/completions/${name}
    set comp_path(fish) ${destroot}${prefix}/share/fish/completions/${name}.fish
    set comp_path(zsh)  ${destroot}${prefix}/share/zsh/site-functions/_${name}
    foreach shell {bash fish zsh} {
        xinstall -d [file dirname $comp_path(${shell})]
        system -W ${worksrcpath} "./${name} shell-completion ${shell} > $comp_path(${shell})"
    }
}
