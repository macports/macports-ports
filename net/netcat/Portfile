# $Id: Portfile,v 1.16 2003/08/07 01:52:12 fkr Exp $

PortSystem 1.0
name		netcat
version		1.10
categories	net
maintainers 	opendarwin.org@darkart.com	
description	Utility for managing network connections
long_description	Netcat is a simple Unix utility which reads and writes data across \
			network connections using TCP or UDP protocol.  It is designed to be a \
			reliable "back-end" tool that can be used directly or easily driven by \
			other programs and scripts.  At the same time it is a feature-rich \
			network debugging and exploration tool, since it can create almost any \
			kind of connection you would need and has several interesting built-in \
			capabilities.
platforms	darwin freebsd
master_sites	ftp://coast.cs.purdue.edu/pub/tools/unix/netutils/netcat/ \
		ftp://ftp.cuhk.edu.hk/pub/packages/security/purdue/netutils/netcat/ \
		http://www.planetmirror.com/pub/lprng/TOOLS/
regsub -all	"\\." ${portversion} "" num
distfiles	nc${num}.tgz
checksums	md5 402632f2fe01c169ff19a0ad6e9d608c
extract		{ cd ${workpath}
		  system "mkdir -p ${worksrcdir}"
		  cd ${worksrcdir}
		  system "tar xfz ${distpath}/${distfiles}" }
configure	{}
build.target	next

variant darwin {
	patchfiles	patch-Makefile
}

destroot	{ cd ${workpath}/${worksrcdir}
		  system "install -o root -m 755 -d ${destroot}/${prefix}/bin"
		  system "install -o root -m 755 -d ${destroot}/${prefix}/share/doc/netcat"
		  system "install -o root -m 755 -s -c nc ${destroot}/${prefix}/bin"
		  system "install -o root -m 644 -c README \
		  ${destroot}/${prefix}/share/doc/netcat" }
