# $Id$

PortSystem          1.0

name                bittwist
categories          net security
version             0.80
platforms	    darwin
maintainers	    pmq@macports.org

description         Simple yet powerful libpcap-based Ethernet packet generator.
long_description    \
    Bit-Twist is a simple yet powerful libpcap-based Ethernet packet generator. \
    It is designed to compliment tcpdump, which by itself has done a great job \
    in capturing network traffic. With Bit-Twist, you can now regenerate the \
    captured traffic onto a live network! Packets are generated from tcpdump \
    trace file (.pcap file). Bit-Twist also comes with a comprehensive trace \
    file editor to allow you to change the contents of a trace file.

homepage            http://bittwist.sourceforge.net
master_sites        sourceforge
distname	    ${name}-bsd-${version}
checksums           md5 d9269c8ead56d39a1eebdcdb1a8e03bd \
		    sha1 47dd2a69d141c07ec35459b1c03139b117517d59

depends_lib         port:libpcap
worksrcdir	    ${name}-${version}

livecheck.check	    regex
livecheck.url	    ${homepage}/download.html
livecheck.regex	    bittwist-bsd-(.*?)${extract.suffix}

configure {
    reinplace "s|/usr/local|${prefix}|g" ${worksrcpath}/Makefile
}

destroot {
    xinstall -m 755 -W ${worksrcpath}/src bittwist bittwistb bittwiste \
        ${destroot}${prefix}/bin
    xinstall -m 644 -W ${worksrcpath}/doc bittwist.1 bittwistb.1 bittwiste.1 \
        ${destroot}${prefix}/share/man/man1
}
