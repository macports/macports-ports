# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/nextdns/nextdns 1.32.3 v
revision            0
categories          net sysutils
maintainers         {@gpanders gpanders.com:greg} openmaintainer
license             MIT

homepage            https://nextdns.io

description         NextDNS CLI client

long_description    NextDNS protects you from all kinds of security threats, \
                    blocks ads and trackers on websites and in apps and provides \
                    a safe and supervised Internet for kids â€” on all devices and on \
                    all networks.

checksums           ${distname}${extract.suffix} \
                        rmd160  c2a42a31c7c8b40b3e5e7fb475f9f8049f90681b \
                        sha256  1d750de9d4666ef09ed654db8d43485d5bc0320b3a8ab51bc6b6f805c57eb3dd \
                        size    181449

go.vendors          gopkg.in/yaml.v2 \
                        lock    v2.3.0 \
                        rmd160  2f8fa56d8a413b6288132eeb7f0d7c64d27d877f \
                        sha256  a8d1a8bc88239d25507456380b47d59ae3683d4a5f4336da4892db1ce026615f \
                        size    72838 \
                    gopkg.in/tomb.v1 \
                        lock    dd632973f1e7 \
                        rmd160  ae07f5ddbbc6afc772d6dc5273bb72eaba50529a \
                        sha256  91c562a4e31c89d13e5391143ff653231fc2d80562743db89ce2172ad8f81008 \
                        size    3636 \
                    gopkg.in/check.v1 \
                        lock    788fd7840127 \
                        rmd160  b63165c8909a27edc15dda210df66a1b49efb49e \
                        sha256  7e5547c6471cc48da89a7c87f965b20ca5311f43fc4d883ca62f9fccf7551630 \
                        size    31597 \
                    google.golang.org/protobuf \
                        repo    github.com/protocolbuffers/protobuf-go \
                        lock    v1.23.0 \
                        rmd160  b9954ce9dc927216440d55f850073bbf47113143 \
                        sha256  41a885f3290ce459bcd4251a6df0787ead449c835a718f8f46342cad1dc26b85 \
                        size    1214926 \
                    golang.org/x/xerrors \
                        lock    9bdfabe68543 \
                        rmd160  eee9929ac1c0380402c45b388077c5c505f13311 \
                        sha256  dc1be1d7efb43643507e87352ae7161883c48cb5116a20a1739ab93ab558bccf \
                        size    13661 \
                    golang.org/x/text \
                        lock    v0.3.6 \
                        rmd160  e3da48fcc60d98e202458228188bf6dac408e309 \
                        sha256  6b2d69df22b5ba1634bc6730c3f03404db499536a96c48b8016da80ced804450 \
                        size    8356058 \
                    golang.org/x/sys \
                        lock    33663a62ff08 \
                        rmd160  5821a2f186cb644bcd2f96913bde08c8f2b6bfa2 \
                        sha256  918781decc2cdae484e4778fa8b8da75d801071a58edb556fb3fa03e6b72390f \
                        size    1231203 \
                    golang.org/x/net \
                        lock    4e50805a0758 \
                        rmd160  f15edefc49da2494b51a28f9be292c0d5f018a10 \
                        sha256  a1c127024e9802d30ff3b5f0f7c52b65f64679f56990147ca4e7eb8ff1a5efcd \
                        size    1247399 \
                    golang.org/x/crypto \
                        lock    83a5a9bb288b \
                        rmd160  c7750005747d7fada41ca0933f9937f0f26f9034 \
                        sha256  3ed5b0a92055b3010d0a40b71c331c6921e211ba6f03074308ab555a405e0d67 \
                        size    1726599 \
                    github.com/spaolacci/murmur3 \
                        lock    f09979ecbc72 \
                        rmd160  53215abb0d59b6c64e926e90fb33da1906a1a525 \
                        sha256  54d6a3300600dd2f5e444f6d19fe1f91e1174329cdfff1d50dae837689214a68 \
                        size    7396 \
                    github.com/onsi/gomega \
                        lock    v1.10.1 \
                        rmd160  fbdb25ab0da7cc358134327f3bf7390aae2a9e7f \
                        sha256  f5d901f5a7321a7ed7317d1ae305bb27b7c3febc3cede1c887e2d76a8e995da6 \
                        size    97315 \
                    github.com/onsi/ginkgo \
                        lock    v1.14.0 \
                        rmd160  a1ff8b445c4b593fc8c399993c90f8ff423260fa \
                        sha256  5aec86ace19613b3976cdadf587d42461d47b89b9b02c5dabafa05a86f704fb2 \
                        size    145828 \
                    github.com/nxadm/tail \
                        lock    v1.4.4 \
                        rmd160  33d7373bd1b164159b9032fc8595bb09b25598f6 \
                        sha256  16d8773e0be69469d3c296ee785bbef433c3442defb68760682cdbcf80ba40ee \
                        size    1238830 \
                    github.com/marten-seemann/qtls-go1-16 \
                        lock    v0.1.3 \
                        rmd160  caa1df0822fb664a6e022b087ec9f8b1ec599bb3 \
                        sha256  507a93b461f736af86e406b8ce6aa5c9d6321d5d6edebad68a3261f4268df92e \
                        size    415463 \
                    github.com/marten-seemann/qtls-go1-15 \
                        lock    v0.1.4 \
                        rmd160  370ab7801f30cbfdf823274dc0ad68c6b492b969 \
                        sha256  e0e690f3333659b7732af5ccab65044f09aa89dafa7158410c5f8ca5e451fe13 \
                        size    413757 \
                    github.com/marten-seemann/qpack \
                        lock    v0.2.1 \
                        rmd160  64b0f70c593a63c55ec82047643ab2a8bbebb26b \
                        sha256  d95f2637db0b9dcbb2fb8c8a284d138354b249a021b2e6e3e41824b7c1697e4e \
                        size    42753 \
                    github.com/lucas-clemente/quic-go \
                        lock    v0.20.1 \
                        rmd160  7a610f591780c6eed82efa285fff9f493a030633 \
                        sha256  23d75f5ac993b9a0a4602ab678bdcf1c1ad9f14c49687f2935ab747b1bb14842 \
                        size    502973 \
                    github.com/kr/text \
                        lock    v0.1.0 \
                        rmd160  0b3c78459e227170a3b80a0103d87a3eef77ed88 \
                        sha256  5ed970aad0da3cba3cffacdb4d154a162a8968655ee6d6f7b627e71b869efaf6 \
                        size    8691 \
                    github.com/kr/pretty \
                        lock    v0.1.0 \
                        rmd160  9aa7a5aad4c48840eecfd0f80186d1fb5ded0fd6 \
                        sha256  f6c3f89667c63e5b7f1fc6ee2c06b6a6bfdce88f3a965ccd395b64c6f95c9a47 \
                        size    8553 \
                    github.com/hashicorp/golang-lru \
                        lock    v0.5.4 \
                        rmd160  833d8d87b84f13bc545ecffff9358a19671d185a \
                        sha256  c358bb5050adae91e443f59ff70b7c0ad6906fc4abe1b30066bf0c408fdf9b5c \
                        size    13435 \
                    github.com/google/go-cmp \
                        lock    v0.4.0 \
                        rmd160  2d73ccb9863b49adb03196aff7c41a7048e646fb \
                        sha256  e7274fa6cc337c12123a02acc907524b7c3c234af59b2c924664300a57cb3ea0 \
                        size    81597 \
                    github.com/golang/protobuf \
                        lock    v1.4.2 \
                        rmd160  fbf4477bc008421fde463d79f7bc54a36de91db2 \
                        sha256  206d74f8fd066bb178135ee9c092e986f8a1e1104df242e148e99e5a839e4ef2 \
                        size    171802 \
                    github.com/golang/mock \
                        lock    v1.5.0 \
                        rmd160  d52e6bcf001864ba50f79333a8d5aa60aedb3d97 \
                        sha256  9ab3a093ccfb9d18118ebf969153ea1a350a530be7cf647bbc73ac7a4e018cf8 \
                        size    66435 \
                    github.com/fsnotify/fsnotify \
                        lock    v1.4.9 \
                        rmd160  4660b5721da8aea4c890786e49d7cec39c2e04d3 \
                        sha256  7920cf1e5ccf268962fcff0b501398ed6c28ed75b1e1281fb17b19a8b0e4db5c \
                        size    31910 \
                    github.com/denisbrodbeck/machineid \
                        lock    v1.0.1 \
                        rmd160  c782c29a666ff8e4ad93945389ca9c395754c2c4 \
                        sha256  98e4169e90ef7e087d47c2620f94aba71f2087f41f64d85509570c2161e85101 \
                        size    27812 \
                    github.com/cheekybits/genny \
                        lock    v1.0.0 \
                        rmd160  c8f3f5af635b83ade08f9f8e08e7f2018cb5879c \
                        sha256  528d149522e053aed14048608751da8ace5b44466038b1a8d47d04a050d81bdc \
                        size    15585 \
                    github.com/cespare/xxhash \
                        lock    v1.1.0 \
                        rmd160  881eb63e94fa02d315ee4b023a35832a3d67d672 \
                        sha256  509b8d4670440aa84dc4e902ed5ca2f9109bf65af830a062da91d23a007fe2e0 \
                        size    8208 \
                    github.com/OneOfOne/xxhash \
                        lock    v1.2.2 \
                        rmd160  35e2c7b623c069fc08aec00990ca5c82ad831a22 \
                        sha256  e6a73b9f6acc9b361ea77edcb6f29103e96ac0c623c6d2882909698180e54694 \
                        size    13444 \
                    github.com/microsoft/go-winio \
                        lock    v0.4.19 \
                        rmd160  5ac0531e3705276a94777e3e1809c5ba2fb93d86 \
                        sha256  2f1e56ad96bbc6e0dd360c6107943533e9b71a1ae484f47e637930bc92fe9adb \
                        size    87778

build.args          -ldflags="-X main.version=${version}"

destroot {
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/
}

notes "
Install the nextdns daemon with

    sudo nextdns install \
        -config <your config id> \
        -report-client-info \
        -auto-activate

Configure the daemon with

    sudo nextdns config
"
