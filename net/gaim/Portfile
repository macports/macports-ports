# $Id: Portfile,v 1.14 2003/10/31 06:37:17 mij Exp $

PortSystem 1.0
name		gaim
version		0.71
revision	1
categories	net
maintainers	mij@opendarwin.org
description	AIM message service client with a gtk2 interface
long_description Gaim is an Open Source clone of America OnLine's \
		 Instant Messenger client that uses GTK+ version 2.  It \
		 features multiple groups, group chat, user information \
		 fetching and registration, time stamping, and more.  It \
		 also supports other IM protocols, including Yahoo!, \
		 MSN, ICQ, Jabber, Napster, IRC, and Zephyr via included \
		 plugins.

master_sites	http://us.dl.sourceforge.net/gaim/ \
		http://eu.dl.sourceforge.net/gaim/ \
		ftp://us.dl.sourceforge.net/pub/sourceforge/gaim/ \
		ftp://ftp.kddlabs.co.jp/sourceforge/gaim/ \
		ftp://ftp.chg.ru/pub/sourceforge/gaim/

checksums	md5 89d1aeabdfcb16df479031b08ad5fb99

use_bzip2	yes

depends_lib	lib:libgtk.2:gtk2

patchfiles	patch-src-gaimrc.c patch-ltmain.sh

configure.env	CPPFLAGS="-I${prefix}/include -I${x11prefix}/include -no-cpp-precomp" \
		LDFLAGS="-L${prefix}/lib -L${x11prefix}/lib -bind_at_load" 
#		LIBS="-lX11"

configure.args	--disable-audio --disable-screensaver --disable-gtkspell

default_variants +msn

variant msn	{ depends_lib-append lib:libgnutls.8:gnutls }

variant audio	{ depends_lib-append lib:libao.2:libao \
				     lib:libaudiofile:audiofile
		  configure.args-delete --disable-audio
		  configure.args-append	--enable-audio }
