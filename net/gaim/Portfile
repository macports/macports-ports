# $Id: Portfile,v 1.25 2004/05/20 00:21:02 mij Exp $

PortSystem 1.0
name		gaim
version		0.77
revision	1
categories	net
maintainers	mij@opendarwin.org
description	AIM message service client with a gtk2 interface

long_description Gaim is an Open Source clone of America OnLine's \
		 Instant Messenger client that uses GTK+ version 2.  It \
		 features multiple groups, group chat, user information \
		 fetching and registration, time stamping, and more.  It \
		 also supports other IM protocols, including Yahoo!, \
		 MSN, ICQ, Jabber, Napster, IRC, and Zephyr via included \
		 plugins.

master_sites	sourceforge

checksums	md5 d2ac2eb75e5e27f7fddf2a7dc19eb045

use_bzip2	yes

depends_lib	lib:libgtk.2:gtk2

patchfiles	patch-src-gaimrc.c patch-ltmain.sh

configure.env	CPPFLAGS="-I${prefix}/include -I${x11prefix}/include -no-cpp-precomp" \
		LDFLAGS="-L${prefix}/lib -L${x11prefix}/lib -bind_at_load" 

configure.args	--disable-audio --disable-screensaver --disable-gtkspell \
		--mandir=${prefix}/share/man

platform darwin 6 { depends_lib-append lib:libdl:dlcompat }

default_variants +msn

variant msn	{ depends_lib-append lib:libgnutls.11:gnutls }

variant audio	{ depends_lib-append lib:libao.2:libao \
				     lib:libaudiofile:audiofile
		  configure.args-delete --disable-audio
		  configure.args-append	--enable-audio }
