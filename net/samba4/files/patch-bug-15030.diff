Upstream-Status: Submitted [https://bugzilla.samba.org/show_bug.cgi?id=15030]
--- ./lib/replace/wscript
+++ ./lib/replace/wscript
@@ -985,7 +985,10 @@ def build(bld):
                         target='stdbool.h',
                         enabled = not bld.CONFIG_SET('HAVE_STDBOOL_H'))
 
-    bld.SAMBA_SUBSYSTEM('samba_intl', source='', use_global_deps=False,deps=bld.env.intl_libs)
+    bld.SAMBA_SUBSYSTEM('samba_intl', source='',
+                        provide_builtin_linking=True,
+                        use_global_deps=False,
+                        deps=bld.env.intl_libs)
 
 def testonly(ctx):
     '''run talloc testsuite'''
--- ./third_party/heimdal_build/wscript_build
+++ ./third_party/heimdal_build/wscript_build
@@ -1113,7 +1113,7 @@
         includes='../heimdal/lib/asn1',
         group='hostcc_build_main',
         deps='ROKEN_HOSTCC HEIMBASE_HOSTCC LIBREPLACE_HOSTCC HEIMDAL_VERS_HOSTCC '
-             'HEIMDAL_ASN1_GEN_HOSTCC',
+             'HEIMDAL_ASN1_GEN_HOSTCC intl',
         install=False,
         cflags=' '.join(HEIMDAL_LEX_CFLAGS())
     )
