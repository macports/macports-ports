# $Id$

PortSystem 1.0

name			aria2
version			0.11.2
categories		net
platforms		darwin
maintainers		mww@macports.org
description		download utility with resuming and segmented downloading
long_description	aria2 is a download utility with resuming and segmented \
			downloading. Supported protocols are HTTP/HTTPS/FTP/BitTorrent.

homepage		http://aria2.sourceforge.net/
master_sites	sourceforge
checksums		sha1 d893c5d4b2e0cd08dd1f0443790097c7238b6301
use_bzip2		yes

depends_lib		port:gettext port:libiconv port:gnutls port:libxml2

configure.cxxflags-append	"-I${prefix}/include/libxml2"
configure.args	--with-gnutls --with-gnutls-prefix=${prefix} \
				--with-libiconv-prefix=${prefix} \
				--with-libintl-prefix=${prefix} \
				--with-xml-prefix=${prefix}

post-configure {
	# setmode is not used correctly - disable it manually (for 0.11.2)
	reinplace "s|.*HAVE_SETMODE.*||g" ${worksrcpath}/config.h
}

platform darwin 8 {
	configure.env-append CC=/usr/bin/gcc-4.0 CXX=/usr/bin/g++-4.0
}

livecheck.check	freshmeat
