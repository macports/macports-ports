# $Id$
PortSystem				1.0

name					transmission
version					1.03
categories				net aqua
maintainers				nomaintainer
description				Lightweight BitTorrent client
long_description	Transmission is a free, lightweight BitTorrent client. \
			It features a simple, intuitive interface on top of an \
			efficient, cross-platform back-end. Transmission is open \
			source (MIT license) and runs on Mac OS X (Cocoa interface), \
			Linux/NetBSD/FreeBSD/OpenBSD (GTK+ interface) and BeOS \
			(native interface).
homepage				http://www.transmissionbt.com/

master_sites			http://download.m0k.org/transmission/files/
checksums				md5 f9189da1352483aed9f6736498443de3
use_bzip2				yes

default_variants		+universal
variant					universal {}

worksrcdir				.

depends_lib				port:gettext

configure.args			--disable-gtk 

destroot				{
	# Install transmissioncli
	xinstall -m 0755 -c ${worksrcpath}/build/Debug/transmissioncli ${destroot}${prefix}/bin/
	xinstall -m 0644 -c ${worksrcpath}/cli/transmissioncli.1 ${destroot}${prefix}/share/man/man1/

	# Install transmission-daemon, -proxy and -remote
	xinstall -m 0755 -c ${worksrcpath}/build/Debug/transmission-daemon ${destroot}${prefix}/bin/
	xinstall -m 0755 -c ${worksrcpath}/build/Debug/transmission-proxy ${destroot}${prefix}/bin/
	xinstall -m 0755 -c ${worksrcpath}/build/Debug/transmission-remote ${destroot}${prefix}/bin/

	# Install Mac OS X app
	set appPath ${destroot}/Applications/MacPorts
	file mkdir ${appPath}
	file copy ${worksrcpath}/macosx/Transmission.app ${appPath}
}
