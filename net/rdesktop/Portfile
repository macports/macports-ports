# $Id$

PortSystem 1.0
name		rdesktop
version		1.5.0
categories	net
maintainers	cshbell@gmail.com noses@noses.com
description	Windows Terminal Server Client
long_description	\
	rdesktop is an RDP client to access Microsoft Terminal Server \
	based services. \
	\
	The variant called w2k-license-hack is a backported patch from \
	an rdesktop 1.1 patchset which wasn't integrated into the latest \
	version -- it will announce the client as Windows 2000 machine \
	causing the Terminal Server to provide a license for free. \
	Please argue over this with your own conscience.
	
platforms	darwin freebsd

homepage	http://rdesktop.sourceforge.net/
master_sites	sourceforge

depends_lib	lib:libX11.6:XFree86 \
		port:openssl \
		port:libiconv \
		port:libao
		
configure.args	--mandir=${prefix}/share/man \
		--with-libao=${prefix}
build.target	rdesktop

checksums   	md5 433546f60fc0f201e99307ba188369ed \
		sha1 e3086bf865191eed41631813125f482e279c7f3d \
		rmd160 350e08166d0b7620b4ed9c6594addae7ec53d15a

#worksrcdir	rdesktop

variant		w2k_license_hack {
			patchfiles patch-licence.c
		}		

variant		devel {
		        fetch.type       cvs
		        cvs.root         :pserver:anonymous@rdesktop.cvs.sourceforge.net:/cvsroot/rdesktop
		        cvs.module       rdesktop
		        cvs.tag          HEAD
		        version          HEAD
		        worksrcdir       ${cvs.module}
			post-patch {
			    cd ${worksrcpath}
			    system "autoconf"
			}
		}
