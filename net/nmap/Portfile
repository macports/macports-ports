# $Id: Portfile,v 1.34 2005/01/03 22:22:04 ricci Exp $

PortSystem 1.0
name		nmap
version		3.75
categories	net
maintainers	opendarwin.org@darkart.com	
description	Port scanning utility for large networks
homepage	http://nmap.org/
platforms	darwin freebsd

long_description Nmap is a utility for port scanning large networks, although \
		 it works fine for single hosts. The guiding philosophy for \
		 the creation of nmap was TMTOWTDI (There's More Than One Way \
		 To Do It). This is the Perl slogan, but it is equally \
		 applicable to scanners. Sometimes you need speed, other \
		 times you may need stealth. In some cases, bypassing \
		 firewalls may be required. Not to mention the fact that you \
		 may want to scan different protocols (UDP, TCP, ICMP, etc.). \
		 You just can't do all this with one scanning mode. And you \
		 don't want to have 10 different scanners around, all with \
		 different interfaces and capabilities.

master_sites	http://download.insecure.org/nmap/dist/ \
		ftp://nuxi.ucdavis.edu/pub/misc/

checksums	md5 1b54c0608b36f6b3ac92d7d1b910738f

use_bzip2	yes

configure.args	--without-nmapfe --mandir=\\\${prefix}/share/man --infodir=\\\${prefix}/share/info

variant gtk1 conflicts gtk2  { configure.args-delete --without-nmapfe
		  depends_lib-append lib:libgtk.1:gtk1
		}

variant gtk2 conflicts gtk1  { configure.args-delete --without-nmapfe
		  depends_lib-append lib:libgtk.2:gtk2
		  patchfiles-append	patch-configure \
					patch-nmapfe-Makefile.in \
					patch-nmapfe-configure \
					patch-nmapfe-nmapfe.c
		}

variant ssl	{ configure.args-append --with-openssl=${prefix}
		  depends_lib-append lib:libssl:openssl }

variant pcre	{ configure.args-append --with-pcre=${prefix}
		  depends_lib-append lib:libpcre:pcre }

destroot.destdir prefix=${destroot}${prefix}
