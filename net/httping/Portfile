# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                httping
version             2.5
categories          net www
license             {GPL-2 OpenSSLException}
maintainers         nomaintainer
platforms           darwin

description         Ping-like tool for http-requests

long_description    Give it an url, and it will show you how long it takes to \
                    connect, send a request and retrieve the reply (only the headers).

homepage            https://www.vanheusden.com/httping/
master_sites        ${homepage}

checksums           rmd160  f0154ece513637c3334dc2852a9435292996f00a \
                    sha256  3e895a0a6d7bd79de25a255a1376d4da88eb09c34efdd0476ab5a907e75bfaf8

depends_lib         port:fftw-3 \
                    port:gettext \
                    port:ncurses \
                    path:lib/libssl.dylib:openssl

extract.suffix      .tgz

patchfiles          patch-configure.diff

configure.pre_args
configure.universal_args
configure.args      --with-fftw3 \
                    --with-ncurses \
                    --with-openssl \
                    --with-tfo
configure.ldflags-append -lintl

destroot.args       PREFIX=${prefix}

livecheck.type      regex
livecheck.regex     ${name}-(\[0-9.\]+)${extract.suffix}
