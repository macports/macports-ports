# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.0
PortGroup           github 1.0

github.setup        zmap zmap 3.0.0-RC2 v

categories          net
license             apache-2
maintainers         {@artkiver gmail.com:artkiver} openmaintainer

description         ZMap is a fast network scanner
long_description    designed for Internet-wide network surveys capable of \
                    scanning the entire IPv4 address space in 5 minutes from \
                    a 10GbE connection.
homepage            https://zmap.io/

checksums           rmd160  9ef9b3293de156a76e9e13652cfc46b4321c9b85 \
                    sha256  0e256d3b62c4ec2f51367c6036aefd99eef6ce6b0b6bcda858223c5a29fda77a \
                    size    156242

depends_build-append port:byacc \
                    port:flex \
                    port:gengetopt \
                    port:pkgconfig \
                    port:cmake

depends_lib-append  port:gmp \
                    port:libdnet \
                    port:libpcap \
                    port:libunistring \

default_variants +release

variant redis description {Add Redis support} {
    depends_lib-append port:redis
    depends_lib-append port:hiredis
    configure.args-append -DWITH_REDIS=ON
}

variant json description {Add JSON support} {
    depends_lib-append port:json-c
    configure.args-append -DWITH_JSON=ON
}

variant release description {turns off debug symbols and performance impacting defaults } {
configure.args-append -DENABLE_DEVELOPMENT=OFF -DENABLE_LOG_TRACE=OF
}
