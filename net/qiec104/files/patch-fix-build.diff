From 804916a811e561e4a73b14d475a76c84bfb5b58d Mon Sep 17 00:00:00 2001
From: "Zayrullin A.Z" <a.zairulin@sdigital.ru>
Date: Fri, 17 Oct 2025 13:49:56 +0500
Subject: [PATCH] gcc support

---
 IEC104NA.pro      |   8 +-
 IEC104NA.pro.user | 268 ----------------------------------------------
 ctools.cpp        |   2 +-
 ctools.h          |   2 +-
 iec104driver.h    |   2 +-
 importdialog.cpp  | 191 ---------------------------------
 importdialog.h    |  73 -------------
 importdialog.ui   | 242 -----------------------------------------
 mainwindow.cpp    |  10 +-
 mainwindow.h      |   1 -
 mainwindow.ui     |   3 +-
 settingsdialog.ui | 167 +++++++++++++++--------------
 tablemodel.h      |   3 +-
 13 files changed, 99 insertions(+), 873 deletions(-)
 delete mode 100644 IEC104NA.pro.user
 delete mode 100644 importdialog.cpp
 delete mode 100644 importdialog.h
 delete mode 100644 importdialog.ui

diff --git a/IEC104NA.pro b/IEC104NA.pro
index 53fb791..07f3961 100644
--- a/IEC104NA.pro
+++ b/IEC104NA.pro
@@ -4,13 +4,11 @@
 #
 #-------------------------------------------------
 #define LINUXBUILD
-QT       += core gui sql
-greaterThan(QT_MAJOR_VERSION, 4): QT += widgets
+QT       += core gui sql widgets
 QT += network
 RC_FILE = icon.rc
 
 TRANSLATIONS += QtLanguage_ru.ts
-win32:QT += axcontainer
 
 TARGET = Q104
 TEMPLATE = app
@@ -25,7 +23,6 @@ DEFINES += QT_DEPRECATED_WARNINGS
 # In order to do so, uncomment the following line.
 # You can also select to disable deprecated APIs only up to a certain version of Qt.
 #DEFINES += QT_DISABLE_DEPRECATED_BEFORE=0x060000    # disables all the APIs deprecated before Qt 6.0.0
-//CONFIG  += axcontainer
 
 SOURCES += \
         main.cpp \
@@ -36,7 +33,6 @@ SOURCES += \
     tablemodel.cpp \
     cp56time.cpp \
     ciecsignal.cpp \
-    importdialog.cpp \
     addsignaldialog.cpp \
     connectiondialog.cpp \
     cmddialog.cpp \
@@ -53,7 +49,6 @@ HEADERS += \
     tablemodel.h \
     cp56time.h \
     ciecsignal.h \
-    importdialog.h \
     addsignaldialog.h \
     connectiondialog.h \
     cmddialog.h \
@@ -65,7 +60,6 @@ HEADERS += \
 FORMS += \
         mainwindow.ui \
     settingsdialog.ui \
-    importdialog.ui \
     addsignaldialog.ui \
     cmddialog.ui \
     aboutdialog.ui \
diff --git a/IEC104NA.pro.user b/IEC104NA.pro.user
deleted file mode 100644
index e36b25e..0000000
--- a/IEC104NA.pro.user
+++ /dev/null
@@ -1,268 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!DOCTYPE QtCreatorProject>
-<!-- Written by QtCreator 12.0.1, 2025-04-26T16:39:10. -->
-<qtcreator>
- <data>
-  <variable>EnvironmentId</variable>
-  <value type="QByteArray">{e3f2a0a8-4e14-435b-ae11-593a6ce652db}</value>
- </data>
- <data>
-  <variable>ProjectExplorer.Project.ActiveTarget</variable>
-  <value type="qlonglong">0</value>
- </data>
- <data>
-  <variable>ProjectExplorer.Project.EditorSettings</variable>
-  <valuemap type="QVariantMap">
-   <value type="bool" key="EditorConfiguration.AutoIndent">true</value>
-   <value type="bool" key="EditorConfiguration.AutoSpacesForTabs">false</value>
-   <value type="bool" key="EditorConfiguration.CamelCaseNavigation">true</value>
-   <valuemap type="QVariantMap" key="EditorConfiguration.CodeStyle.0">
-    <value type="QString" key="language">Cpp</value>
-    <valuemap type="QVariantMap" key="value">
-     <value type="QByteArray" key="CurrentPreferences">CppGlobal</value>
-    </valuemap>
-   </valuemap>
-   <valuemap type="QVariantMap" key="EditorConfiguration.CodeStyle.1">
-    <value type="QString" key="language">QmlJS</value>
-    <valuemap type="QVariantMap" key="value">
-     <value type="QByteArray" key="CurrentPreferences">QmlJSGlobal</value>
-    </valuemap>
-   </valuemap>
-   <value type="qlonglong" key="EditorConfiguration.CodeStyle.Count">2</value>
-   <value type="QByteArray" key="EditorConfiguration.Codec">UTF-8</value>
-   <value type="bool" key="EditorConfiguration.ConstrainTooltips">false</value>
-   <value type="int" key="EditorConfiguration.IndentSize">4</value>
-   <value type="bool" key="EditorConfiguration.KeyboardTooltips">false</value>
-   <value type="int" key="EditorConfiguration.MarginColumn">80</value>
-   <value type="bool" key="EditorConfiguration.MouseHiding">true</value>
-   <value type="bool" key="EditorConfiguration.MouseNavigation">true</value>
-   <value type="int" key="EditorConfiguration.PaddingMode">1</value>
-   <value type="int" key="EditorConfiguration.PreferAfterWhitespaceComments">0</value>
-   <value type="bool" key="EditorConfiguration.PreferSingleLineComments">false</value>
-   <value type="bool" key="EditorConfiguration.ScrollWheelZooming">true</value>
-   <value type="bool" key="EditorConfiguration.ShowMargin">false</value>
-   <value type="int" key="EditorConfiguration.SmartBackspaceBehavior">0</value>
-   <value type="bool" key="EditorConfiguration.SmartSelectionChanging">true</value>
-   <value type="bool" key="EditorConfiguration.SpacesForTabs">true</value>
-   <value type="int" key="EditorConfiguration.TabKeyBehavior">0</value>
-   <value type="int" key="EditorConfiguration.TabSize">8</value>
-   <value type="bool" key="EditorConfiguration.UseGlobal">true</value>
-   <value type="bool" key="EditorConfiguration.UseIndenter">false</value>
-   <value type="int" key="EditorConfiguration.Utf8BomBehavior">1</value>
-   <value type="bool" key="EditorConfiguration.addFinalNewLine">true</value>
-   <value type="bool" key="EditorConfiguration.cleanIndentation">true</value>
-   <value type="bool" key="EditorConfiguration.cleanWhitespace">true</value>
-   <value type="QString" key="EditorConfiguration.ignoreFileTypes">*.md, *.MD, Makefile</value>
-   <value type="bool" key="EditorConfiguration.inEntireDocument">false</value>
-   <value type="bool" key="EditorConfiguration.skipTrailingWhitespace">true</value>
-   <value type="bool" key="EditorConfiguration.tintMarginArea">true</value>
-  </valuemap>
- </data>
- <data>
-  <variable>ProjectExplorer.Project.PluginSettings</variable>
-  <valuemap type="QVariantMap">
-   <valuemap type="QVariantMap" key="AutoTest.ActiveFrameworks">
-    <value type="bool" key="AutoTest.Framework.Boost">true</value>
-    <value type="bool" key="AutoTest.Framework.CTest">false</value>
-    <value type="bool" key="AutoTest.Framework.Catch">true</value>
-    <value type="bool" key="AutoTest.Framework.GTest">true</value>
-    <value type="bool" key="AutoTest.Framework.QtQuickTest">true</value>
-    <value type="bool" key="AutoTest.Framework.QtTest">true</value>
-   </valuemap>
-   <valuemap type="QVariantMap" key="AutoTest.CheckStates"/>
-   <value type="int" key="AutoTest.RunAfterBuild">0</value>
-   <value type="bool" key="AutoTest.UseGlobal">true</value>
-   <valuemap type="QVariantMap" key="ClangTools">
-    <value type="bool" key="ClangTools.AnalyzeOpenFiles">true</value>
-    <value type="bool" key="ClangTools.BuildBeforeAnalysis">true</value>
-    <value type="QString" key="ClangTools.DiagnosticConfig">Builtin.DefaultTidyAndClazy</value>
-    <value type="int" key="ClangTools.ParallelJobs">8</value>
-    <value type="bool" key="ClangTools.PreferConfigFile">true</value>
-    <valuelist type="QVariantList" key="ClangTools.SelectedDirs"/>
-    <valuelist type="QVariantList" key="ClangTools.SelectedFiles"/>
-    <valuelist type="QVariantList" key="ClangTools.SuppressedDiagnostics"/>
-    <value type="bool" key="ClangTools.UseGlobalSettings">true</value>
-   </valuemap>
-  </valuemap>
- </data>
- <data>
-  <variable>ProjectExplorer.Project.Target.0</variable>
-  <valuemap type="QVariantMap">
-   <value type="QString" key="DeviceType">Desktop</value>
-   <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Замена для «Desktop (x86-windows-msvc2019-pe-64bit)»</value>
-   <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Замена для «Desktop (x86-windows-msvc2019-pe-64bit)»</value>
-   <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">{1931d4b8-ee48-468c-ad61-78fa90368976}</value>
-   <value type="qlonglong" key="ProjectExplorer.Target.ActiveBuildConfiguration">0</value>
-   <value type="qlonglong" key="ProjectExplorer.Target.ActiveDeployConfiguration">0</value>
-   <value type="qlonglong" key="ProjectExplorer.Target.ActiveRunConfiguration">0</value>
-   <valuemap type="QVariantMap" key="ProjectExplorer.Target.BuildConfiguration.0">
-    <value type="int" key="EnableQmlDebugging">0</value>
-    <value type="QString" key="ProjectExplorer.BuildConfiguration.BuildDirectory">C:\Work\build-IEC104NA-Desktop_x86_windows_msvc2019_pe_64bit-Debug</value>
-    <value type="QString" key="ProjectExplorer.BuildConfiguration.BuildDirectory.shadowDir">C:/Work/build-IEC104NA-Desktop_x86_windows_msvc2019_pe_64bit-Debug</value>
-    <valuemap type="QVariantMap" key="ProjectExplorer.BuildConfiguration.BuildStepList.0">
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.0">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">QtProjectManager.QMakeBuildStep</value>
-      <value type="bool" key="QtProjectManager.QMakeBuildStep.QMakeForced">false</value>
-      <valuelist type="QVariantList" key="QtProjectManager.QMakeBuildStep.SelectedAbis"/>
-     </valuemap>
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.1">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.MakeStep</value>
-     </valuemap>
-     <value type="qlonglong" key="ProjectExplorer.BuildStepList.StepsCount">2</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Build</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Build</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.BuildSteps.Build</value>
-    </valuemap>
-    <valuemap type="QVariantMap" key="ProjectExplorer.BuildConfiguration.BuildStepList.1">
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.0">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.MakeStep</value>
-      <value type="QString" key="Qt4ProjectManager.MakeStep.MakeArguments">clean</value>
-     </valuemap>
-     <value type="qlonglong" key="ProjectExplorer.BuildStepList.StepsCount">1</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Clean</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Clean</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.BuildSteps.Clean</value>
-    </valuemap>
-    <value type="int" key="ProjectExplorer.BuildConfiguration.BuildStepListCount">2</value>
-    <value type="bool" key="ProjectExplorer.BuildConfiguration.ClearSystemEnvironment">false</value>
-    <valuelist type="QVariantList" key="ProjectExplorer.BuildConfiguration.CustomParsers"/>
-    <value type="bool" key="ProjectExplorer.BuildConfiguration.ParseStandardOutput">false</value>
-    <valuelist type="QVariantList" key="ProjectExplorer.BuildConfiguration.UserEnvironmentChanges"/>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Debug</value>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.Qt4BuildConfiguration</value>
-    <value type="int" key="Qt4ProjectManager.Qt4BuildConfiguration.BuildConfiguration">2</value>
-   </valuemap>
-   <valuemap type="QVariantMap" key="ProjectExplorer.Target.BuildConfiguration.1">
-    <value type="QString" key="ProjectExplorer.BuildConfiguration.BuildDirectory">C:\Work\build-IEC104NA-Desktop_x86_windows_msvc2019_pe_64bit-Release</value>
-    <value type="QString" key="ProjectExplorer.BuildConfiguration.BuildDirectory.shadowDir">C:/Work/build-IEC104NA-Desktop_x86_windows_msvc2019_pe_64bit-Release</value>
-    <valuemap type="QVariantMap" key="ProjectExplorer.BuildConfiguration.BuildStepList.0">
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.0">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">QtProjectManager.QMakeBuildStep</value>
-      <value type="bool" key="QtProjectManager.QMakeBuildStep.QMakeForced">false</value>
-      <valuelist type="QVariantList" key="QtProjectManager.QMakeBuildStep.SelectedAbis"/>
-     </valuemap>
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.1">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.MakeStep</value>
-     </valuemap>
-     <value type="qlonglong" key="ProjectExplorer.BuildStepList.StepsCount">2</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Build</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Build</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.BuildSteps.Build</value>
-    </valuemap>
-    <valuemap type="QVariantMap" key="ProjectExplorer.BuildConfiguration.BuildStepList.1">
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.0">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.MakeStep</value>
-      <value type="QString" key="Qt4ProjectManager.MakeStep.MakeArguments">clean</value>
-     </valuemap>
-     <value type="qlonglong" key="ProjectExplorer.BuildStepList.StepsCount">1</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Clean</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Clean</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.BuildSteps.Clean</value>
-    </valuemap>
-    <value type="int" key="ProjectExplorer.BuildConfiguration.BuildStepListCount">2</value>
-    <value type="bool" key="ProjectExplorer.BuildConfiguration.ClearSystemEnvironment">false</value>
-    <valuelist type="QVariantList" key="ProjectExplorer.BuildConfiguration.CustomParsers"/>
-    <value type="bool" key="ProjectExplorer.BuildConfiguration.ParseStandardOutput">false</value>
-    <valuelist type="QVariantList" key="ProjectExplorer.BuildConfiguration.UserEnvironmentChanges"/>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Release</value>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.Qt4BuildConfiguration</value>
-    <value type="int" key="Qt4ProjectManager.Qt4BuildConfiguration.BuildConfiguration">0</value>
-    <value type="int" key="QtQuickCompiler">0</value>
-   </valuemap>
-   <valuemap type="QVariantMap" key="ProjectExplorer.Target.BuildConfiguration.2">
-    <value type="int" key="EnableQmlDebugging">0</value>
-    <value type="QString" key="ProjectExplorer.BuildConfiguration.BuildDirectory">C:\Work\build-IEC104NA-Desktop_x86_windows_msvc2019_pe_64bit-Profile</value>
-    <value type="QString" key="ProjectExplorer.BuildConfiguration.BuildDirectory.shadowDir">C:/Work/build-IEC104NA-Desktop_x86_windows_msvc2019_pe_64bit-Profile</value>
-    <valuemap type="QVariantMap" key="ProjectExplorer.BuildConfiguration.BuildStepList.0">
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.0">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">QtProjectManager.QMakeBuildStep</value>
-      <value type="bool" key="QtProjectManager.QMakeBuildStep.QMakeForced">false</value>
-      <valuelist type="QVariantList" key="QtProjectManager.QMakeBuildStep.SelectedAbis"/>
-     </valuemap>
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.1">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.MakeStep</value>
-     </valuemap>
-     <value type="qlonglong" key="ProjectExplorer.BuildStepList.StepsCount">2</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Build</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Build</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.BuildSteps.Build</value>
-    </valuemap>
-    <valuemap type="QVariantMap" key="ProjectExplorer.BuildConfiguration.BuildStepList.1">
-     <valuemap type="QVariantMap" key="ProjectExplorer.BuildStepList.Step.0">
-      <value type="bool" key="ProjectExplorer.BuildStep.Enabled">true</value>
-      <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.MakeStep</value>
-      <value type="QString" key="Qt4ProjectManager.MakeStep.MakeArguments">clean</value>
-     </valuemap>
-     <value type="qlonglong" key="ProjectExplorer.BuildStepList.StepsCount">1</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Clean</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Clean</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.BuildSteps.Clean</value>
-    </valuemap>
-    <value type="int" key="ProjectExplorer.BuildConfiguration.BuildStepListCount">2</value>
-    <value type="bool" key="ProjectExplorer.BuildConfiguration.ClearSystemEnvironment">false</value>
-    <valuelist type="QVariantList" key="ProjectExplorer.BuildConfiguration.CustomParsers"/>
-    <value type="bool" key="ProjectExplorer.BuildConfiguration.ParseStandardOutput">false</value>
-    <valuelist type="QVariantList" key="ProjectExplorer.BuildConfiguration.UserEnvironmentChanges"/>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Profile</value>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.Qt4BuildConfiguration</value>
-    <value type="int" key="Qt4ProjectManager.Qt4BuildConfiguration.BuildConfiguration">0</value>
-    <value type="int" key="QtQuickCompiler">0</value>
-    <value type="int" key="SeparateDebugInfo">0</value>
-   </valuemap>
-   <value type="qlonglong" key="ProjectExplorer.Target.BuildConfigurationCount">3</value>
-   <valuemap type="QVariantMap" key="ProjectExplorer.Target.DeployConfiguration.0">
-    <valuemap type="QVariantMap" key="ProjectExplorer.BuildConfiguration.BuildStepList.0">
-     <value type="qlonglong" key="ProjectExplorer.BuildStepList.StepsCount">0</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DefaultDisplayName">Deploy</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName">Deploy</value>
-     <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.BuildSteps.Deploy</value>
-    </valuemap>
-    <value type="int" key="ProjectExplorer.BuildConfiguration.BuildStepListCount">1</value>
-    <valuemap type="QVariantMap" key="ProjectExplorer.DeployConfiguration.CustomData"/>
-    <value type="bool" key="ProjectExplorer.DeployConfiguration.CustomDataEnabled">false</value>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">ProjectExplorer.DefaultDeployConfiguration</value>
-   </valuemap>
-   <value type="qlonglong" key="ProjectExplorer.Target.DeployConfigurationCount">1</value>
-   <valuemap type="QVariantMap" key="ProjectExplorer.Target.RunConfiguration.0">
-    <value type="bool" key="Analyzer.Perf.Settings.UseGlobalSettings">true</value>
-    <value type="bool" key="Analyzer.QmlProfiler.Settings.UseGlobalSettings">true</value>
-    <value type="int" key="Analyzer.Valgrind.Callgrind.CostFormat">0</value>
-    <value type="bool" key="Analyzer.Valgrind.Settings.UseGlobalSettings">true</value>
-    <value type="QString" key="Analyzer.Valgrind.ValgrindExecutable">C:\Program Files (x86)\Dr. Memory\bin64\drmemory.exe</value>
-    <valuelist type="QVariantList" key="CustomOutputParsers"/>
-    <value type="int" key="PE.EnvironmentAspect.Base">2</value>
-    <valuelist type="QVariantList" key="PE.EnvironmentAspect.Changes"/>
-    <value type="bool" key="PE.EnvironmentAspect.PrintOnRun">false</value>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.DisplayName"></value>
-    <value type="QString" key="ProjectExplorer.ProjectConfiguration.Id">Qt4ProjectManager.Qt4RunConfiguration:C:/Work/QIEC104/IEC104NA.pro</value>
-    <value type="QString" key="ProjectExplorer.RunConfiguration.BuildKey">C:/Work/QIEC104/IEC104NA.pro</value>
-    <value type="bool" key="ProjectExplorer.RunConfiguration.Customized">false</value>
-    <value type="bool" key="RunConfiguration.UseCppDebuggerAuto">true</value>
-    <value type="bool" key="RunConfiguration.UseLibrarySearchPath">true</value>
-    <value type="bool" key="RunConfiguration.UseQmlDebuggerAuto">true</value>
-    <value type="QString" key="RunConfiguration.WorkingDirectory.default">C:/Work/build-IEC104NA-Desktop_x86_windows_msvc2019_pe_64bit-Debug</value>
-   </valuemap>
-   <value type="qlonglong" key="ProjectExplorer.Target.RunConfigurationCount">1</value>
-  </valuemap>
- </data>
- <data>
-  <variable>ProjectExplorer.Project.TargetCount</variable>
-  <value type="qlonglong">1</value>
- </data>
- <data>
-  <variable>ProjectExplorer.Project.Updater.FileVersion</variable>
-  <value type="int">22</value>
- </data>
- <data>
-  <variable>Version</variable>
-  <value type="int">22</value>
- </data>
-</qtcreator>
diff --git a/ctools.cpp b/ctools.cpp
index f349177..e6bb654 100644
--- a/ctools.cpp
+++ b/ctools.cpp
@@ -1,5 +1,5 @@
 #include "ctools.h"
-#include "QDebug.h"
+#include "QDebug"
 IEC104Tools::IEC104Tools()
 {
 
diff --git a/ctools.h b/ctools.h
index b430d8c..db875f9 100644
--- a/ctools.h
+++ b/ctools.h
@@ -1,7 +1,7 @@
 #ifndef CTOOLS_H
 #define CTOOLS_H
 
-#include <QString.h>
+#include "qstring.h"
 #include "ciecsignal.h"
 #include "cp56time.h"
 
diff --git a/iec104driver.h b/iec104driver.h
index 5714731..9731608 100644
--- a/iec104driver.h
+++ b/iec104driver.h
@@ -2,11 +2,11 @@
 #define IEC104DRIVER_H
 #include <QObject>
 #include <QTcpSocket>
-#include <QTImer>
 #include <QDataStream>
 #include <csetting.h>
 #include <QSettings>
 #include <ctools.h>
+#include <QTimer>
 
 namespace IEC104
 {
diff --git a/importdialog.cpp b/importdialog.cpp
deleted file mode 100644
index 3b25b3c..0000000
--- a/importdialog.cpp
+++ /dev/null
@@ -1,191 +0,0 @@
-#include "importdialog.h"
-#include "ui_importdialog.h"
-#include <QFileDialog>
-#include <QMessageBox>
-#include "ciecsignal.h"
-#include <QAxObject>
-#include <QDebug>
-#include <QList>
-ImportDialog::ImportDialog() :
-    QDialog(0),
-    ui(new Ui::ImportDialog)
-{
-    ui->setupUi(this);
-}
-
-ImportDialog::ImportDialog(QSettings *settings=0):
-QDialog(0),
-ui(new Ui::ImportDialog)
-{
-    ui->setupUi(this);
-
-    connect(ui->pbOpenDialog, SIGNAL(pressed()),this,SLOT(On_OpenDialogPressed()));
-    connect(ui->buttonBox,SIGNAL(accepted()),this,SLOT(On_OkPressed()));
-    MeasuresTable = NULL;
-
-    sett = settings;
-    if (sett != 0)
-    {
-    sett->beginGroup("import");
-    ui->codSpinBox->setValue(sett->value("ColCode",5).toInt());
-    ui->descrSpinBox->setValue(sett->value("ColDescr",1).toInt());
-    ui->ioaSpinBox->setValue(sett->value("ColIOA",7).toInt());
-    ui->skipSpinBox->setValue(sett->value("SkipRows",7).toInt());
-    sett->endGroup();
-    }
-}
-
-
-void ImportDialog::SetModel(TableModel* table)
-{
-     this->MeasuresTable = dynamic_cast<TableModel*>(table);
-}
-ImportDialog::~ImportDialog()
-{
-    delete ui;
-}
-
-///
-/// \brief Подтверждение команды импорта
-///
-void ImportDialog::On_OkPressed()
-{
-    if (MeasuresTable != NULL &&importedItems!=0&& importedItems->count()>0)
-     {
-        qDebug() << "adding to table...";
-         ImportItem item;
-         foreach(item, *importedItems)
-             if (item.kod<45) //измерения
-                MeasuresTable->updateSignal(CIECSignal(item.ioa,item.kod, item.descr),true,true);
-            else
-                 emit AddCommand(CIECSignal(item.ioa,item.kod,item.descr));
-         qDebug() << "import complete";
-         delete importedItems;
-     }
-   // MeasuresTable->redraw();
-
-
-    if (sett != 0)
-    {
-        sett->beginGroup("import");
-        sett->setValue("ColCode",  QVariant(ui->codSpinBox->value()));
-        sett->setValue("ColDescr", QVariant(ui->descrSpinBox->value()));
-        sett->setValue("ColIOA",   QVariant(ui->ioaSpinBox->value()));
-        sett->setValue("SkipRows", QVariant(ui->skipSpinBox->value()));
-        sett->endGroup();
-    }
-}
-void ImportDialog::On_OpenDialogPressed()
-{
-    /*if (parent==NULL)
-    {
-        QMessageBox msgbox;
-        msgbox.setText("parent не задан!");
-        msgbox.show();
-        return;
-    }*/
-    importedItems = new QList<ImportItem>();
-
-    if (ui->selector_xls->isChecked())
-    {
-        QFileDialog *fileDialog = new QFileDialog();
-
-        QString filename = fileDialog->getOpenFileName(this,"Открытие файла",QString(),QString("*.xls *.xlsx"));
-        int iSkipRows = ui->skipSpinBox->value();
-       // parent->IECReceived();
-
-        delete fileDialog;
-
-        if (filename =="") return;
-
-        QAxObject* excel = new QAxObject("Excel.Application", 0);
-        QAxObject* workbooks = excel->querySubObject("Workbooks");
-        QAxObject* workbook = workbooks->querySubObject("Open(const QString&)", filename);
-
-        qDebug() << "opening file: " << filename;
-        QAxObject* sheets = workbook->querySubObject("Worksheets");
-        QAxObject* sheet = sheets->querySubObject("Item(int)", 1);
-
-        QAxObject* rows = sheet->querySubObject( "Rows" );
-        int rowCount = rows->dynamicCall( "Count()" ).toInt(); //unfortunately, always returns 255, so you have to check somehow validity of cell values
-        QAxObject* columns = sheet->querySubObject("Columns");
-        int columnCount = columns->dynamicCall("Count()").toInt();
-      qDebug() << rowCount << " rows in sheet";
-        if (columnCount>10)
-            columnCount=10;
-
-        int iEmptyRowsCount = 0;
-        int iMaxEmptyRows = 10; //максимальное количество пустых строк после которых прекращаем чтение
-        int row = iSkipRows;   //номер строки в файле источнике
-        int parsedRows=0;   //номер строки в итоговой таблице
-        //for (int row = 0; row<10; row++)
-        while (row<rowCount && iEmptyRowsCount<iMaxEmptyRows)
-        {
-            int ioa=0;
-            int kode=0;
-            QString descr;
-            for (int col=0;col<3; col++)
-            {
-                QAxObject* cell;
-                QVariant value;
-                switch (col)
-                {
-                    case 0: cell = sheet->querySubObject("Cells(int,int)", row+1, ui->ioaSpinBox->value());
-                            value = cell->property("Value");
-                            if (value.canConvert<int>())
-                                ioa = value.toInt();
-                            break;
-                    case 1: cell = sheet->querySubObject("Cells(int,int)", row+1, ui->codSpinBox->value());
-                            value = cell->property("Value");
-                            if (value.canConvert<int>())
-                                kode = value.toInt();
-                            break;
-                    case 2: cell = sheet->querySubObject("Cells(int,int)", row+1, ui->descrSpinBox->value());
-                            descr = QString (cell->property("Value").toString());
-                            break;
-               }
-                delete cell;
-
-            }//col
-            row++;
-            //если ioa и код прочитались то сбрасываем счетчик ошибок и добавляем в таблицу
-            if (ioa>0 && kode>0)
-            {
-                iEmptyRowsCount = 0;
-                qDebug() << ioa<< " " << kode << " " << descr;
-                QTableWidgetItem* item = new QTableWidgetItem(QString::number(ioa));
-
-
-                    ui->tableWidget->setItem(parsedRows,0,item);
-
-                    item = new QTableWidgetItem(QString::number(kode));
-                    ui->tableWidget->setItem(parsedRows,1,item);
-
-                    item = new QTableWidgetItem(descr);
-                    ui->tableWidget->setItem(parsedRows,2,item);
-
-                importedItems->append(ImportItem(ioa,kode,descr));
-
-                parsedRows++;
-            }else
-            {
-                iEmptyRowsCount++;
-            }
-        }//while
-        qDebug() << "rows parsed " << parsedRows;
-
-        workbook->dynamicCall("Close()");
-        excel->dynamicCall("Quit()");
-
-
-        QMessageBox msg;
-        msg.setText(tr("Tags read: ") + QString::number(parsedRows));
-        msg.show();
-
-
-    }//if xls
-
-
-}
-
-
diff --git a/importdialog.h b/importdialog.h
deleted file mode 100644
index e087698..0000000
--- a/importdialog.h
+++ /dev/null
@@ -1,73 +0,0 @@
-#ifndef IMPORTDIALOG_H
-#define IMPORTDIALOG_H
-
-#include <QDialog>
-#include "tablemodel.h"
-
-#include <QSettings>
-
-///
-/// \brief Элемент прочитанный из базы данных
-///
-class ImportItem
-{
-public:
-    ///
-    /// \brief ioa адрес сигнала
-    ///
-    int ioa = 0;
-    ///
-    /// \brief тип сигнала (код по стандарту МЭК)
-    ///
-    int kod = 0;
-    ///
-    /// \brief короткое описание
-    ///
-    QString descr = "";
-    ImportItem()
-    {}
-    ///
-    /// \brief ImportItem
-    /// \param ioa
-    /// \param kod
-    /// \param descr
-    ///
-    ImportItem(int ioa, int kod, QString descr)
-    {
-        this->ioa = ioa;
-        this->kod = kod;
-        this->descr = descr;
-    }
-};
-
-namespace Ui {
-class ImportDialog;
-}
-
-class ImportDialog : public QDialog
-{
-    Q_OBJECT
-
-public:
-    explicit ImportDialog();
-    ImportDialog(QSettings *settings);
-
-    /// прицепить таблицу с сигналами
-    void SetModel(TableModel*);
-    ~ImportDialog();
-
-private:
-    QSettings *sett;
-    Ui::ImportDialog *ui;
-    TableModel *MeasuresTable;//указатель на таблицу с сигналами
-    QList<ImportItem> *importedItems=0; // список импортированных данных
-signals:
-    void AddCommand(CIECSignal);
-public slots:
-    void On_OpenDialogPressed();
-    void On_OkPressed();
-  //  void FileDialogClosed();
-  //  void FileDialogAccepted(QString);
-};
-
-#endif // IMPORTDIALOG_H
diff --git a/importdialog.ui b/importdialog.ui
deleted file mode 100644
index cb29ab4..0000000
--- a/importdialog.ui
+++ /dev/null
@@ -1,242 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<ui version="4.0">
- <class>ImportDialog</class>
- <widget class="QDialog" name="ImportDialog">
-  <property name="geometry">
-   <rect>
-    <x>0</x>
-    <y>0</y>
-    <width>675</width>
-    <height>492</height>
-   </rect>
-  </property>
-  <property name="windowTitle">
-   <string>Import</string>
-  </property>
-  <layout class="QVBoxLayout" name="verticalLayout_2">
-   <item>
-    <layout class="QHBoxLayout" name="horizontalLayout">
-     <item>
-      <widget class="QGroupBox" name="groupBox">
-       <property name="title">
-        <string>Source</string>
-       </property>
-       <layout class="QVBoxLayout" name="verticalLayout">
-        <item>
-         <widget class="QRadioButton" name="selector_csv">
-          <property name="enabled">
-           <bool>false</bool>
-          </property>
-          <property name="text">
-           <string>CSV-file</string>
-          </property>
-         </widget>
-        </item>
-        <item>
-         <widget class="QRadioButton" name="selector_xls">
-          <property name="text">
-           <string>Excel</string>
-          </property>
-          <property name="checked">
-           <bool>true</bool>
-          </property>
-         </widget>
-        </item>
-       </layout>
-      </widget>
-     </item>
-     <item>
-      <widget class="QGroupBox" name="groupBox_2">
-       <property name="title">
-        <string>Setup columns</string>
-       </property>
-       <layout class="QHBoxLayout" name="horizontalLayout_2">
-        <item>
-         <layout class="QFormLayout" name="formLayout">
-          <item row="0" column="0">
-           <widget class="QLabel" name="iOALabel">
-            <property name="text">
-             <string>IOA</string>
-            </property>
-           </widget>
-          </item>
-          <item row="1" column="0">
-           <widget class="QLabel" name="functionLabel">
-            <property name="text">
-             <string>Types</string>
-            </property>
-           </widget>
-          </item>
-          <item row="2" column="0">
-           <widget class="QLabel" name="descrLabel">
-            <property name="text">
-             <string>Descriptions</string>
-            </property>
-           </widget>
-          </item>
-          <item row="0" column="1">
-           <widget class="QSpinBox" name="ioaSpinBox">
-            <property name="maximumSize">
-             <size>
-              <width>50</width>
-              <height>16777215</height>
-             </size>
-            </property>
-            <property name="minimum">
-             <number>1</number>
-            </property>
-            <property name="value">
-             <number>6</number>
-            </property>
-           </widget>
-          </item>
-          <item row="1" column="1">
-           <widget class="QSpinBox" name="codSpinBox">
-            <property name="maximumSize">
-             <size>
-              <width>50</width>
-              <height>16777215</height>
-             </size>
-            </property>
-            <property name="minimum">
-             <number>1</number>
-            </property>
-            <property name="value">
-             <number>4</number>
-            </property>
-           </widget>
-          </item>
-          <item row="2" column="1">
-           <widget class="QSpinBox" name="descrSpinBox">
-            <property name="maximumSize">
-             <size>
-              <width>50</width>
-              <height>16777215</height>
-             </size>
-            </property>
-            <property name="minimum">
-             <number>1</number>
-            </property>
-           </widget>
-          </item>
-          <item row="3" column="0">
-           <widget class="QLabel" name="descrLabel_2">
-            <property name="text">
-             <string>Skip rows</string>
-            </property>
-           </widget>
-          </item>
-          <item row="3" column="1">
-           <widget class="QSpinBox" name="skipSpinBox">
-            <property name="maximumSize">
-             <size>
-              <width>50</width>
-              <height>16777215</height>
-             </size>
-            </property>
-            <property name="minimum">
-             <number>1</number>
-            </property>
-            <property name="value">
-             <number>6</number>
-            </property>
-           </widget>
-          </item>
-         </layout>
-        </item>
-       </layout>
-      </widget>
-     </item>
-    </layout>
-   </item>
-   <item>
-    <widget class="QPushButton" name="pbOpenDialog">
-     <property name="text">
-      <string>Run import</string>
-     </property>
-    </widget>
-   </item>
-   <item>
-    <widget class="QTableWidget" name="tableWidget">
-     <property name="rowCount">
-      <number>11</number>
-     </property>
-     <property name="columnCount">
-      <number>3</number>
-     </property>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <row/>
-     <column>
-      <property name="text">
-       <string>IOA</string>
-      </property>
-     </column>
-     <column>
-      <property name="text">
-       <string>Type</string>
-      </property>
-     </column>
-     <column>
-      <property name="text">
-       <string>Description</string>
-      </property>
-     </column>
-    </widget>
-   </item>
-   <item>
-    <widget class="QDialogButtonBox" name="buttonBox">
-     <property name="orientation">
-      <enum>Qt::Horizontal</enum>
-     </property>
-     <property name="standardButtons">
-      <set>QDialogButtonBox::Cancel|QDialogButtonBox::Ok</set>
-     </property>
-    </widget>
-   </item>
-  </layout>
- </widget>
- <resources/>
- <connections>
-  <connection>
-   <sender>buttonBox</sender>
-   <signal>accepted()</signal>
-   <receiver>ImportDialog</receiver>
-   <slot>accept()</slot>
-   <hints>
-    <hint type="sourcelabel">
-     <x>248</x>
-     <y>254</y>
-    </hint>
-    <hint type="destinationlabel">
-     <x>157</x>
-     <y>274</y>
-    </hint>
-   </hints>
-  </connection>
-  <connection>
-   <sender>buttonBox</sender>
-   <signal>rejected()</signal>
-   <receiver>ImportDialog</receiver>
-   <slot>reject()</slot>
-   <hints>
-    <hint type="sourcelabel">
-     <x>316</x>
-     <y>260</y>
-    </hint>
-    <hint type="destinationlabel">
-     <x>286</x>
-     <y>274</y>
-    </hint>
-   </hints>
-  </connection>
- </connections>
-</ui>
diff --git a/mainwindow.cpp b/mainwindow.cpp
index 12fa807..f9a5f3e 100644
--- a/mainwindow.cpp
+++ b/mainwindow.cpp
@@ -69,7 +69,7 @@ MainWindow::MainWindow(QWidget *parent) :
     tabmodel->setHeaderData(2,Qt::Horizontal,QVariant(tr("Value")));
     tabmodel->setHeaderData(3,Qt::Horizontal,QVariant(tr("Type")));
     tabmodel->setHeaderData(4,Qt::Horizontal,QVariant(tr("Quality")));
-    tabmodel->setHeaderData(5,Qt::Horizontal,QVariant(tr("Time tag")));
+    tabmodel->setHeaderData(5,Qt::Horizontal,QVariant(tr("Timestamp")));
 
     emit tabmodel->headerDataChanged(Qt::Horizontal,0,5);
     connect(tabmodel,SIGNAL(rowsInserted(QModelIndex,int,int)),ui->MTable,SLOT(rowsInserted(QModelIndex,int,int)));
@@ -428,10 +428,10 @@ void MainWindow::OnLoadBaseTriggered(bool val)
   //  QMessageBox::warning(this,"load base","load base");
   // if (val)
   // {
-       ImportDialog *id = new ImportDialog(qsettings);
-       id->SetModel(this->tabmodel);
-       connect(id, SIGNAL(AddCommand(CIECSignal)),this,SLOT(AddCommand(CIECSignal)));
-       id->exec();
+      // ImportDialog *id = new ImportDialog(qsettings);
+       //id->SetModel(this->tabmodel);
+       //connect(id, SIGNAL(AddCommand(CIECSignal)),this,SLOT(AddCommand(CIECSignal)));
+       //id->exec();
   // }
 }
 
diff --git a/mainwindow.h b/mainwindow.h
index 8da0dbb..331e4f4 100644
--- a/mainwindow.h
+++ b/mainwindow.h
@@ -11,7 +11,6 @@
 #include <QLabel>
 #include <addsignaldialog.h>
 #include <connectiondialog.h>
-#include "importdialog.h"
 #include "cmddialog.h"
 #include "aboutdialog.h"
 #include <QFileDialog>
diff --git a/mainwindow.ui b/mainwindow.ui
index 15d5eef..dd57c3b 100644
--- a/mainwindow.ui
+++ b/mainwindow.ui
@@ -143,7 +143,7 @@
      <x>0</x>
      <y>0</y>
      <width>973</width>
-     <height>21</height>
+     <height>30</height>
     </rect>
    </property>
    <widget class="QMenu" name="menu_file">
@@ -152,7 +152,6 @@
     </property>
     <addaction name="action_SaveBase"/>
     <addaction name="action_LoadFile"/>
-    <addaction name="action_LoadBase"/>
    </widget>
    <widget class="QMenu" name="menu_about">
     <property name="title">
diff --git a/settingsdialog.ui b/settingsdialog.ui
index 10f736f..0069c6d 100644
--- a/settingsdialog.ui
+++ b/settingsdialog.ui
@@ -6,8 +6,8 @@
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>414</width>
-    <height>457</height>
+    <width>500</width>
+    <height>476</height>
    </rect>
   </property>
   <property name="sizePolicy">
@@ -51,125 +51,115 @@
       <item>
        <widget class="QLabel" name="label">
         <property name="text">
-         <string>IP</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QComboBox" name="comboBox_ip">
-        <property name="editable">
-         <bool>true</bool>
-        </property>
-        <property name="currentText">
-         <string/>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_2">
-        <property name="text">
-         <string>Port</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QComboBox" name="comboBox_port">
-        <property name="editable">
-         <bool>true</bool>
-        </property>
-        <property name="currentText">
-         <string/>
+         <string>IP/port</string>
         </property>
        </widget>
       </item>
       <item>
-       <layout class="QFormLayout" name="formLayout">
-        <item row="0" column="0">
-         <widget class="QLabel" name="label_4">
-          <property name="text">
-           <string notr="true">T1</string>
+       <layout class="QHBoxLayout" name="horizontalLayout">
+        <item>
+         <widget class="QComboBox" name="comboBox_ip">
+          <property name="editable">
+           <bool>true</bool>
+          </property>
+          <property name="currentText">
+           <string/>
           </property>
          </widget>
         </item>
-        <item row="0" column="1">
-         <widget class="QLineEdit" name="edit_t1">
-          <property name="enabled">
+        <item>
+         <widget class="QComboBox" name="comboBox_port">
+          <property name="editable">
            <bool>true</bool>
           </property>
-          <property name="inputMethodHints">
-           <set>Qt::ImhDigitsOnly</set>
+          <property name="currentText">
+           <string/>
           </property>
          </widget>
         </item>
-        <item row="1" column="0">
-         <widget class="QLabel" name="label_6">
-          <property name="text">
-           <string notr="true">T3</string>
+       </layout>
+      </item>
+      <item>
+       <layout class="QGridLayout" name="gridLayout">
+        <item row="0" column="1">
+         <widget class="QLineEdit" name="edit_t1">
+          <property name="enabled">
+           <bool>true</bool>
+          </property>
+          <property name="whatsThis">
+           <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;T1&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
           </property>
-         </widget>
-        </item>
-        <item row="1" column="1">
-         <widget class="QLineEdit" name="edit_t3">
           <property name="inputMethodHints">
            <set>Qt::ImhDigitsOnly</set>
           </property>
+          <property name="frame">
+           <bool>true</bool>
+          </property>
          </widget>
         </item>
-        <item row="3" column="0">
+        <item row="0" column="2">
          <widget class="QLabel" name="label_7">
           <property name="text">
            <string notr="true">k</string>
           </property>
          </widget>
         </item>
-        <item row="3" column="1">
-         <widget class="QLineEdit" name="edit_k"/>
+        <item row="0" column="0">
+         <widget class="QLabel" name="label_4">
+          <property name="text">
+           <string notr="true">T1</string>
+          </property>
+         </widget>
         </item>
-        <item row="4" column="0">
+        <item row="1" column="2">
          <widget class="QLabel" name="label_8">
           <property name="text">
            <string notr="true">w</string>
           </property>
          </widget>
         </item>
-        <item row="4" column="1">
-         <widget class="QLineEdit" name="edit_w"/>
-        </item>
-        <item row="5" column="0">
-         <widget class="QLabel" name="label_9">
+        <item row="1" column="0">
+         <widget class="QLabel" name="label_6">
           <property name="text">
-           <string notr="true">ASDU</string>
+           <string notr="true">T3</string>
           </property>
          </widget>
         </item>
-        <item row="5" column="1">
-         <widget class="QLineEdit" name="edit_asdu"/>
+        <item row="1" column="3">
+         <widget class="QLineEdit" name="edit_w"/>
         </item>
-        <item row="6" column="1">
-         <widget class="QCheckBox" name="AutoCreate_checkBox">
-          <property name="locale">
-           <locale language="English" country="UnitedStates"/>
-          </property>
-          <property name="text">
-           <string>Add new tags automatically</string>
+        <item row="0" column="3">
+         <widget class="QLineEdit" name="edit_k"/>
+        </item>
+        <item row="1" column="1">
+         <widget class="QLineEdit" name="edit_t3">
+          <property name="inputMethodHints">
+           <set>Qt::ImhDigitsOnly</set>
           </property>
          </widget>
         </item>
-        <item row="8" column="1">
-         <widget class="QCheckBox" name="checkBox_sendGI">
+        <item row="2" column="0">
+         <widget class="QLabel" name="label_9">
           <property name="text">
-           <string>General interrogation on connect</string>
+           <string notr="true">ASDU</string>
           </property>
          </widget>
         </item>
-        <item row="9" column="1">
+        <item row="2" column="1">
+         <widget class="QLineEdit" name="edit_asdu"/>
+        </item>
+       </layout>
+      </item>
+      <item>
+       <layout class="QGridLayout" name="gridLayout_2">
+        <item row="8" column="1">
          <widget class="QCheckBox" name="checkBox_sendTC">
           <property name="text">
            <string>Sync time on connect</string>
           </property>
          </widget>
         </item>
-        <item row="11" column="1">
+        <item row="10" column="1">
          <widget class="QCheckBox" name="checkBox_fullLog">
           <property name="text">
            <string>Extended log</string>
@@ -179,14 +169,31 @@
           </property>
          </widget>
         </item>
-        <item row="10" column="1">
+        <item row="12" column="1">
+         <widget class="QCheckBox" name="checkBox_autoReconnect">
+          <property name="text">
+           <string>Auto reconnect</string>
+          </property>
+          <property name="tristate">
+           <bool>false</bool>
+          </property>
+         </widget>
+        </item>
+        <item row="9" column="1">
          <widget class="QCheckBox" name="checkBox_newLog">
           <property name="text">
            <string>Write log</string>
           </property>
          </widget>
         </item>
-        <item row="12" column="1">
+        <item row="7" column="1">
+         <widget class="QCheckBox" name="checkBox_sendGI">
+          <property name="text">
+           <string>General interrogation on connect</string>
+          </property>
+         </widget>
+        </item>
+        <item row="11" column="1">
          <widget class="QCheckBox" name="checkBox_autoStart">
           <property name="text">
            <string>Autoconnect on start</string>
@@ -196,13 +203,13 @@
           </property>
          </widget>
         </item>
-        <item row="13" column="1">
-         <widget class="QCheckBox" name="checkBox_autoReconnect">
-          <property name="text">
-           <string>Auto reconnect</string>
+        <item row="6" column="1">
+         <widget class="QCheckBox" name="AutoCreate_checkBox">
+          <property name="locale">
+           <locale language="English" country="UnitedStates"/>
           </property>
-          <property name="tristate">
-           <bool>false</bool>
+          <property name="text">
+           <string>Add new tags automatically</string>
           </property>
          </widget>
         </item>
diff --git a/tablemodel.h b/tablemodel.h
index d010afa..a5ffc19 100644
--- a/tablemodel.h
+++ b/tablemodel.h
@@ -6,7 +6,8 @@
 #include <QVariant>
 #include "ciecsignal.h"
 #include <QItemSelectionModel>
-#include <QStringListModel.h>
+
+#include <qstringlistmodel.h>
 
 ///
 /// \brief Отображаемый элемент таблицы сигналов
