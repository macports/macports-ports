PortSystem 1.0
name		tcptrace
version		6.2.0
revision	0
categories	net
maintainers	jpm@opendarwin.org
description	A TCP dump file analysis tool
long_description	tcptrace a TCP dump file analysis tool written by \
	Shawn Ostermann at Ohio University. It is NOT a packet capture \
	program. It reads output dump files in the formats of several \
	popular packet capturing programs: tcpdump, snoop, etherpeek, and \
	netm.  It can also output (ie, convert thus converting to) tcpdump \
	format files.
platforms	darwin
master_sites	http://irg.cs.ohiou.edu/software/tcptrace/download/
checksums	md5 565c370620e5f058bc9a3607b8634a3d
depends_lib	lib:libpcap:libpcap
post-configure {
	set path "${worksrcpath}"
	reinplace "s|PCAP_INCS    = -I/usr/local/include -I. -I../pcap -I/usr/include/pcap| \
		PCAP_INCS    = -I/usr/include -I${prefix}/include|g" "${path}/Makefile"
	reinplace "s|PCAP_LDFLAGS = -L/usr/local/lib -Llib -Lpcap -L../pcap -L./cygwin-libs| \
		PCAP_LDFLAGS = -I/usr/lib -I${prefix}/lib|g" "${path}/Makefile"
}
install {
	system "install -o root -m 755 ${worksrcpath}/tcptrace ${prefix}/bin"
	system "install -o root -m 644 ${worksrcpath}/tcptrace.man ${prefix}/man/man1/tcptrace.1"
}
contents {
	bin/tcptrace
	man/man1/tcptrace.1
}
