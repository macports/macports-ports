# $Id$

PortSystem          1.0

name                ncid
version             0.68
categories          net
maintainers         ryandesign
homepage            http://ncid.sourceforge.net/
master_sites        sourceforge
platforms           darwin
worksrcdir          ${name}
use_configure       no
build.target        mac
destroot.target     install-mac
destroot.destdir    prefix=${destroot}${prefix}
universal_variant   no

description \
	Network Caller ID system

long_description \
	NCID is Caller ID (CID) distributed over a network to a variety of \
	devices and computers. It consists of a server that obtains the \
	Caller ID information and various clients that receive the \
	information from the server and act on it in various ways. \
	The NCID package consists of a server called ncidd, a universal \
	client called ncid and a CID client called ncidsip. \
	The server obtains the Caller ID information from a modem, a CID \
	device or one or more CID clients, and then sends the information \
	to each connected client.

checksums \
	md5 215de135571aa33132af1f02d80a4dc2 \
	sha1 d4d86eac9e3f78ca6fd35753ab2e328dd3be13ee \
	rmd160 ed11ff41763e238a8dd7e9de8c2f1e22f36aa10e

patchfiles \
	patch-Makefile.diff \
	patch-manpages.diff

post-patch {
	reinplace "s|@PREFIX@|${prefix}|g" \
		${worksrcpath}/Makefile \
		${worksrcpath}/man/ncid.1 \
		${worksrcpath}/man/ncidd.8 \
		${worksrcpath}/man/ncidscripts.1 \
		${worksrcpath}/man/ncidsip.8 \
		${worksrcpath}/man/ncidtools.1
}

# TODO: add a startup item / LaunchDaemon plist for the server process.

# TODO: install the conf files only as templates; see e.g. apache2 port.
