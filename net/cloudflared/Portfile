# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/cloudflare/cloudflared 2022.3.3
categories          net security
maintainers         {i0ntempest @i0ntempest} openmaintainer
license             Copyleft

description         Argo Tunnel client
long_description    Contains the command-line client and its libraries for Argo Tunnel, \
                    a tunneling daemon that proxies any local webserver through the \
                    Cloudflare network.

homepage            https://developers.cloudflare.com/argo-tunnel

checksums           ${distname}${extract.suffix} \
                        rmd160  9d097e82d4c67847f01c25790647c285bbec71d6 \
                        sha256  ff50466e0bbe1607e74b00f1267c02b0254de47e7a24f09a59d5760228f13fe6 \
                        size    8703712

go.vendors          zombiezen.com/go/capnproto2 \
                        repo    github.com/capnproto/go-capnproto2 \
                        lock    v2.18.0 \
                        rmd160  511675dc7a934a6fa5e46b36b00cd6df77280d28 \
                        sha256  39c32df43f8711b4d6dc15b1bf3641e06788933aff90fe5ba1dbcec932613e79 \
                        size    315666 \
                    gopkg.in/yaml.v3 \
                        lock    496545a6307b \
                        rmd160  16a43936d8ae6243895e23465132977d3a1193c2 \
                        sha256  333e78b3b9cb73b3572d62f692d32426a8554b86c93025ea032f779395869e84 \
                        size    90145 \
                    gopkg.in/yaml.v2 \
                        lock    v2.4.0 \
                        rmd160  66e9feb7944b3804efa63155ed9b618717b8955c \
                        sha256  72812077e7f20278003de6ab0d85053d89131d64c443f39115a022114fd032b6 \
                        size    73231 \
                    gopkg.in/tomb.v1 \
                        lock    dd632973f1e7 \
                        rmd160  ae07f5ddbbc6afc772d6dc5273bb72eaba50529a \
                        sha256  91c562a4e31c89d13e5391143ff653231fc2d80562743db89ce2172ad8f81008 \
                        size    3636 \
                    gopkg.in/square/go-jose.v2 \
                        lock    v2.6.0 \
                        rmd160  56e581a46f0364551657e2b7698bd022973e9d7c \
                        sha256  565d45760f1ee44d3c076b9f5ee46e14e046c00304ddfab345fc48443fd6031c \
                        size    310376 \
                    gopkg.in/natefinch/lumberjack.v2 \
                        lock    v2.0.0 \
                        rmd160  931b7db0e3893f0f6515a8113e7c35aa3e45c9da \
                        sha256  1f7796430424a4dd4c74f73929e7e82384672f6c2c311c5b671e6c36353780f3 \
                        size    12640 \
                    gopkg.in/coreos/go-oidc.v2 \
                        lock    v2.2.1 \
                        rmd160  d91319f3d8e0a3c82d9a2ee16e0fc101208c253f \
                        sha256  cb7f8f625e511034f24505efeee92be610f2cbd957114d9c591aea9f29afa22c \
                        size    24141 \
                    gopkg.in/check.v1 \
                        lock    10cb98267c6c \
                        rmd160  465dcadb97762c84da6fb5f6d8352abe10445817 \
                        sha256  98ec7bd0dc7d4bcee7dcafe02efab29f14dc392f43b227e517beef064e9b6369 \
                        size    32368 \
                    google.golang.org/protobuf \
                        repo    github.com/protocolbuffers/protobuf-go \
                        lock    v1.27.1 \
                        rmd160  a4ac7b66fd88a34a9ea447476d19ff3c1f2b57dd \
                        sha256  fe1055b9bf6b8792aed1771f56c31f836c24a18d69eaeb13c88990db3d9da7ce \
                        size    1278850 \
                    google.golang.org/grpc \
                        repo    github.com/grpc/grpc-go \
                        lock    v1.43.0 \
                        rmd160  e628bee5cde9527a1dd7e837381631a90ef3e219 \
                        sha256  0a2368fde3ff14aad858bc300cc391e25265845669b14192565238d8b0fadfa7 \
                        size    1386121 \
                    google.golang.org/genproto \
                        repo    github.com/googleapis/go-genproto \
                        lock    3ac035c7e7cb \
                        rmd160  995dd77f42337656f3d699104d110523dfdc7818 \
                        sha256  9f7bffb5fdfe22262f33f53bb4d49445df40f35e6955133b2dce140ece8af79c \
                        size    12258228 \
                    google.golang.org/appengine \
                        repo    github.com/golang/appengine \
                        lock    v1.6.7 \
                        rmd160  32e6de431630b8126df1d04e36eba2abb57626f1 \
                        sha256  3669d59598e4bd657ec079f151fab47b3aa130adfec35daeb05e079220970cd2 \
                        size    333026 \
                    golang.org/x/xerrors \
                        lock    5ec99f83aff1 \
                        rmd160  6e8267f353e153297f205e4be219236d6ae43880 \
                        sha256  9a500a49d83a09e7de6c71b215d1c14b81e315d26884530ef327c95ddf1f2d28 \
                        size    13667 \
                    golang.org/x/tools \
                        lock    07bc1bf47fb2 \
                        rmd160  2eab0a00a460712e54fcd46b23e5ccfb291e39ae \
                        sha256  8db63675d757450ae2470f4785f5d53739b13dc2488e88b75faaf2d3d58b91b5 \
                        size    2852185 \
                    golang.org/x/text \
                        lock    v0.3.7 \
                        rmd160  52777fe8a68660aab6e4588322a5949b0ba42e58 \
                        sha256  48971ba6a3123c4fd81b2bdec9fda3cef5815fad76f2407c8a888032462c542d \
                        size    8356115 \
                    golang.org/x/term \
                        lock    6886f2dfbf5b \
                        rmd160  8688e7b350892399f2918c70c87435016c64c572 \
                        sha256  e52745c19f7ebe30ab78db8af43216b6795928089a433925ef3ebef0eaad98f3 \
                        size    14938 \
                    golang.org/x/sys \
                        lock    1d35b9e2eb4e \
                        rmd160  1d786ecdc43231da66a13fbc671ea7ce7a7484db \
                        sha256  9d5531092221dbbbcba97c14906db4e9100ee583bf12bc2d18f850d45ace09c2 \
                        size    1255779 \
                    golang.org/x/sync \
                        lock    036812b2e83c \
                        rmd160  f42be6eb3565d2ed3d1066ea1a7f69437c8bb1e6 \
                        sha256  6f1daceb16cd75bdbf35da6c50aa352d1995d68ccd0049851d27686f451fad92 \
                        size    18756 \
                    golang.org/x/oauth2 \
                        lock    d3ed0bb246c8 \
                        rmd160  d66bbada6578d17da9208ee8c215d4e1ead6aef7 \
                        sha256  7a0c986063c9580fed9223411152d3ea8126d54597be8184fe613097b95d7489 \
                        size    87604 \
                    golang.org/x/net \
                        lock    0dd24b26b47d \
                        rmd160  621267022f0732c6b9099914035bf2f793df3bfb \
                        sha256  c902c614cc485caf62e2f6df809c34a786bfffa82562d07a3d4b369264c55064 \
                        size    1228303 \
                    golang.org/x/mod \
                        lock    v0.4.2 \
                        rmd160  0f3ca57198b4de4eb89b2c1a2bdb01af040d1f36 \
                        sha256  e2e4cba5719f804f2ec901b4ccdf6d3abf05521868ed54f271be7c1bf6c48549 \
                        size    104573 \
                    golang.org/x/crypto \
                        lock    089bfa567519 \
                        rmd160  5435f7d637f5b4390f7f27cf8e5b27d4e3b2441a \
                        sha256  db7030a2b172461539ec4e963a30a13f87947e480e426b3986c91ef8c1260747 \
                        size    1734725 \
                    go.uber.org/automaxprocs \
                        repo    github.com/uber-go/automaxprocs \
                        lock    v1.4.0 \
                        rmd160  52804d713060b31d329cf60c45e6429dbc2e553b \
                        sha256  725c62bbddf53165709b75c1a4ba7055e3424f21a129b90ce4632d3ea94910fb \
                        size    19646 \
                    github.com/tinylib/msgp \
                        lock    v1.1.2 \
                        rmd160  b78c66e578c2e443d1cf0d31fa5aa84a50a323c3 \
                        sha256  07ec9f7046c5efeff6a711e21a314ef4f40f23be10978585aaa754146a7f6b1c \
                        size    83108 \
                    github.com/stretchr/testify \
                        lock    v1.7.0 \
                        rmd160  adae5096e8c4cfcc8e3f6d096646d1165b5ef49a \
                        sha256  f7dde97d0c9634483ae6ea273968f80f3105c22382a1f841886cd20d57586642 \
                        size    91096 \
                    github.com/russross/blackfriday \
                        lock    v2.1.0 \
                        rmd160  c42a9332a2c2f3074c6f7e8d37a58d6148d2af08 \
                        sha256  c4df56f2012a7d16471418245e78b5790569e27bbe8d72a860d7117a801a7fae \
                        size    92950 \
                    github.com/rs/zerolog \
                        lock    v1.20.0 \
                        rmd160  b36244abc91ac463fd3ad675a9ec0f9bbfea7dcb \
                        sha256  b008a5f5cdd9d1f09bc297bdd04f9ac657fc0e38c0976266c23c69e12b99f17b \
                        size    217823 \
                    github.com/rivo/uniseg \
                        lock    v0.1.0 \
                        rmd160  f673064154e749880889e4efc70e8b9c876a6a97 \
                        sha256  33a8046805b7c35b40548efd13ff7c9af9487c7e8f58392b03a6923d55c9dddb \
                        size    43976 \
                    github.com/rivo/tview \
                        lock    c65badfc3d92 \
                        rmd160  02aba46de64b11c0a6fdc55e8553f7ee161f52be \
                        sha256  26421ed5c8f95ad2322b2479bba3ab625b8d403d507ae33efccb2882fd6bfdb8 \
                        size    2868555 \
                    github.com/prometheus/procfs \
                        lock    v0.6.0 \
                        rmd160  ae0e0bcf1c664eacc18c03ec77973f0212dce472 \
                        sha256  4ffc099c6f2ce85a7681e09462e465b140556743a248f4b3bdc665498f3380b1 \
                        size    169970 \
                    github.com/prometheus/common \
                        lock    v0.32.1 \
                        rmd160  a6acf4fa8fde63b73fdce283bf384bf0ef1beae8 \
                        sha256  a6f193ddcbff86669bc3b3b88681dc45e456042b8d54bbd318a708c8761d7110 \
                        size    146608 \
                    github.com/prometheus/client_model \
                        lock    v0.2.0 \
                        rmd160  9b5b538e80eeb491b02806cc1cb87a83e62a9577 \
                        sha256  55c1223bb5d1ae7e33527bc0ce80e3ab5153c47d396a9f864feea150b301f690 \
                        size    10985 \
                    github.com/prometheus/client_golang \
                        lock    v1.11.0 \
                        rmd160  96f9efe7bff3d325ea9f2a3a2caecf1dbebc77c2 \
                        sha256  fcad11001028f3cecfc6e7f5221a361f0f5ea49cf6ab29a2baf70cf5e005d5a5 \
                        size    168768 \
                    github.com/pquerna/cachecontrol \
                        lock    1555304b9b35 \
                        rmd160  0a0f37cba23e467f89c717d93a37c5b34005b64e \
                        sha256  51832af12991acba3c87afe472abf3e0c44fdc152f88d53d53db36eb2f63eec2 \
                        size    18999 \
                    github.com/pmezard/go-difflib \
                        lock    v1.0.0 \
                        rmd160  fc879bfbdef9e3ff50844def58404e2b5a613ab8 \
                        sha256  7cd492737641847266115f3060489a67f63581e521a8ec51efbc280c33fc991f \
                        size    11409 \
                    github.com/pkg/errors \
                        lock    v0.9.1 \
                        rmd160  dc065c655f8a24c6519b58f9d1202eb266ecda40 \
                        sha256  208d21a7da574026f68a8c9818fa7c6ede1b514ef9e72dc733b496ddcb7792a6 \
                        size    13422 \
                    github.com/philhofer/fwd \
                        lock    v1.1.1 \
                        rmd160  0b03ed45ac5bac8ad5001198e12b3aa9c527621c \
                        sha256  b25146a490671f255eb6b73bf20678318d5916ba75d64c62d162e8d7231fde9a \
                        size    9795 \
                    github.com/opentracing/opentracing-go \
                        lock    v1.2.0 \
                        rmd160  eba4d951f843cfd78e68cd483c2de5244e0a97c3 \
                        sha256  18972f8968cca66f5474280c2c3ed4173361d373ea5b5ed7f67c624d4c69bcf9 \
                        size    35924 \
                    github.com/onsi/gomega \
                        lock    v1.16.0 \
                        rmd160  5344efd06f6550bd575e94494a20988009805d7d \
                        sha256  77be7aa97d3327a4328775b184ecca365983a9ae953b063b548a4bb22855813d \
                        size    137830 \
                    github.com/onsi/ginkgo \
                        lock    v1.16.5 \
                        rmd160  ec52b26f0e8ddf25e115c16b0d98520ea67339d9 \
                        sha256  8b6890000023055456f20b2c74c8972f9278446ac16e7b564ed6ca6dc1172ea4 \
                        size    164969 \
                    github.com/nxadm/tail \
                        lock    v1.4.8 \
                        rmd160  bb6c5515804a1d141478074ba9a4f836fa51fb71 \
                        sha256  a4e98c422980433e9a9830f16b4155836baba4c3e3aa387f03840e5cb608c84d \
                        size    1256274 \
                    github.com/modern-go/reflect2 \
                        lock    v1.0.2 \
                        rmd160  02f0f5d652cd9d03a27876e11610edb31ed7c8b5 \
                        sha256  6394630fb95f41f31a329473d221cecda03753fec7ebfca41e4eb70e32a58b89 \
                        size    14049 \
                    github.com/modern-go/concurrent \
                        lock    bacd9c7ef1dd \
                        rmd160  b039328d6fd40b97513dea8bf5b00adfdd53f14b \
                        sha256  2f3333805bef60544e64ac9a734522205b513f5c461ba19f3d557510bb205afb \
                        size    7533 \
                    github.com/mitchellh/go-homedir \
                        lock    v1.1.0 \
                        rmd160  44b3985e40e5bbb22d11f8622c340f9ed727ea91 \
                        sha256  024c8a57316c7fbc0eb23cdbfd57f72a74b51beb83d714034d67ee9aba48100c \
                        size    3366 \
                    github.com/miekg/dns \
                        lock    v1.1.45 \
                        rmd160  38c48a3184aa337ad843870214e58c0a13f89645 \
                        sha256  f7e2b820a255c611c4de0a8e8b15c428c6860348ef0f67f02b69f47238df0477 \
                        size    203466 \
                    github.com/matttproud/golang_protobuf_extensions \
                        lock    v1.0.1 \
                        rmd160  e28c4169919e72c08ee6520ad2ce16943d18e40c \
                        sha256  c40d4c38e7dc2a7bae57e3740bb28d463e173d82e4603622d04d01741ff7a083 \
                        size    37197 \
                    github.com/mattn/go-runewidth \
                        lock    v0.0.8 \
                        rmd160  b8241c22c38c3f900825d927ee4aeaf5071d9b30 \
                        sha256  f5bf317ca979ae9aef8e2703d91abde64bf6674e231a531c971d8015e3d3c4ad \
                        size    16499 \
                    github.com/mattn/go-isatty \
                        lock    v0.0.12 \
                        rmd160  4f55aecbddbee6089cbac8456d2932bce2cb57e7 \
                        sha256  d4d1912998d401389e06ee1dbed06e32a8db95350416f227fbe6a59ac84f0651 \
                        size    4549 \
                    github.com/mattn/go-colorable \
                        lock    v0.1.8 \
                        rmd160  e9948731b241336e8d5aa2a2e25dff26a9dccebe \
                        sha256  7e815dc076eeb34bf44a348eea7ae9b7a432b37462543cc5b382350d0e91c5f0 \
                        size    9576 \
                    github.com/marten-seemann/qtls-go1-18 \
                        lock    v0.1.0-beta.1 \
                        rmd160  3262fa4ce93f6d4ce35d90caeaaea8b5d235d3aa \
                        sha256  44f20aa36c0f6084862afce598db0a60ece0fffe45d5213354c0b9ceaf713a96 \
                        size    422237 \
                    github.com/marten-seemann/qtls-go1-17 \
                        lock    v0.1.0 \
                        rmd160  53d4d3eb6609de0c808934f977288c9bf06b3633 \
                        sha256  c764f1cc401e4e9b61c5e344d9916246962dfc0739b32a66882c6f372758c29a \
                        size    421717 \
                    github.com/marten-seemann/qtls-go1-16 \
                        lock    v0.1.4 \
                        rmd160  1cadd0881456cc0d4dd653b432c06be1e1a1e43e \
                        sha256  6e750d55689b9eeff04ddadd5fd37f57c794f0eb0897622ea318b4b73990261a \
                        size    415570 \
                    github.com/lucasb-eyer/go-colorful \
                        lock    v1.0.3 \
                        rmd160  0d0a283ba00c871d123c951efea0605a869951aa \
                        sha256  ecd902ddda5d05cc8a857873bf8b984a5cd2d7b75f1185edcfc2c472707958b3 \
                        size    430208 \
                    github.com/kylelemons/godebug \
                        lock    v1.1.0 \
                        rmd160  917ada648e70d2e339b8ff36d2f86882d0d2efa1 \
                        sha256  6151c487936ab72cffbf804626228083c9b3abfc908a2bb41b1160e1e5780aaf \
                        size    17641 \
                    github.com/kr/text \
                        lock    v0.2.0 \
                        rmd160  48558c7e8ff67d510f83c66883907e95f4783163 \
                        sha256  2f2e21ac8a9d523e88cbba4039441defc4a66bfaa78811c900a88fcf28729c4c \
                        size    8702 \
                    github.com/kr/pretty \
                        lock    v0.2.1 \
                        rmd160  eaf5b58a46b962079cbafddbc3ef83bdbf02b31e \
                        sha256  253c4a190c9337800e08aba66b77ea3db0835e3ae61289d80093995a649eb7ae \
                        size    8769 \
                    github.com/json-iterator/go \
                        lock    v1.1.12 \
                        rmd160  7b530ae077fa1fa5db7b7e228e92dd39c79c4a4d \
                        sha256  e0ec0450ef7ecedf0dfc1b5c430324fd0e8aedc18bddd0bd730e5a6cb35c41a8 \
                        size    84301 \
                    github.com/ipostelnik/cli \
                        lock    b6ea8234fe3d \
                        rmd160  783b9fdfbffe08106d6d2bfb01b2ca5a00165f25 \
                        sha256  041f44049bf9bd1915cc3fed347316556e4006180ca1edb872acb2c10f97a7cf \
                        size    3411708 \
                    github.com/grpc-ecosystem/grpc-opentracing \
                        lock    8e809c8a8645 \
                        rmd160  9354d9edfd188042b9648fe7f57e7824f134553a \
                        sha256  b41d78e06f08262c756b081f3de2c6492082f2bfd0d97234575402cbdf0e521f \
                        size    48143 \
                    github.com/gorilla/websocket \
                        lock    v1.4.2 \
                        rmd160  784f79f05da87fc2f2af618ad4e1eb576d7c16d8 \
                        sha256  7805b8fc2002f7d1a7acdaa98feee2d6746d9241db0c597e0ee256cf0ff93a0b \
                        size    54121 \
                    github.com/gorilla/mux \
                        lock    v1.8.0 \
                        rmd160  0671fd049b24cb4c682168aef4e176793dd624a7 \
                        sha256  b94c995107eaf9f5bcaa0a29629fb6c23bab9ec0606071c09070e143fdf323fa \
                        size    45524 \
                    github.com/google/uuid \
                        lock    v1.3.0 \
                        rmd160  300ea34c54ab7ce9d2a4bbd84a4fb49f11db02f8 \
                        sha256  ef8b7d74d99c8abd9706909eb3bbd063460d1970fbf62619599b78092b8687db \
                        size    16215 \
                    github.com/google/go-cmp \
                        lock    v0.5.6 \
                        rmd160  b93086d92bddc7a3b593fb637776f055c022049f \
                        sha256  fa1ca0f00fe02f645c4ed12ef753ff6c46b6621db01e09d96599cf1fd990aebe \
                        size    104422 \
                    github.com/golang/protobuf \
                        lock    v1.5.2 \
                        rmd160  9924f66e6525b49769f4ef61f7196387185b2f9b \
                        sha256  d7b5f7c44e324b3f510fec1b79de20bd8d7537229b23ad7236769cf3974ce0c7 \
                        size    171736 \
                    github.com/golang/mock \
                        lock    v1.6.0 \
                        rmd160  ed853462703f04ce365bb17b8c88a92994aa5006 \
                        sha256  4b107f6d26db03f8a36ae38f7b017399ed56571cdbf7b7ebc7bff0006c7dffb5 \
                        size    69263 \
                    github.com/golang-collections/collections \
                        lock    604e922904d3 \
                        rmd160  8bf12a3c9408093a437325ca943cdd76f3018a3f \
                        sha256  f483e23bf9ccaa4aacb33097238d656eda640aae04fd237f666806bbc45e14d4 \
                        size    9180 \
                    github.com/gobwas/ws \
                        lock    v1.0.4 \
                        rmd160  6b112a1b63ad33aec551db6ea32c65e2f7d03a3f \
                        sha256  85a864344980fe428bc75ee7736c0d0e4dd91bcff75929b55a1fe7d7277a58f5 \
                        size    69368 \
                    github.com/gobwas/pool \
                        lock    v0.2.1 \
                        rmd160  ab7a7e0eb1d0e84b6504dc4b79c5e7727b49f74f \
                        sha256  1d1e19d51e6a5c94c01dbe74e6f31704f2ce1297bed57273366eae93c3073d34 \
                        size    8057 \
                    github.com/gobwas/httphead \
                        lock    da3d93bc3c58 \
                        rmd160  cb64c5c8f02a66ae4b2bb6c99e3eb3338f2b5c20 \
                        sha256  475cd91b28c5083c227d68e8dee35f98f7653722e2a018bcca6803b591914b75 \
                        size    17160 \
                    github.com/go-task/slim-sprig \
                        lock    348f09dbbbc0 \
                        rmd160  7cc4d26be51d6fdf2b54b1fd1506b58c58317303 \
                        sha256  94d84e08cdff9c92c5cf526f0ec803f46593247f8e0d4b19b30c9df1819c933d \
                        size    40027 \
                    github.com/getsentry/raven-go \
                        lock    ed7bcb39ff10 \
                        rmd160  c9e65a1ceeb29b30be0c9fe2bf7f3793046ac2f4 \
                        sha256  37e505f3d53a2edc8d27d3b4dbfa96a429e5f5a8c8234eeb1b3bc4f53fe87655 \
                        size    26062 \
                    github.com/gdamore/tcell \
                        lock    v1.3.0 \
                        rmd160  c0f9ed6375d47639b22e60fbaf9a92f1707b9ebe \
                        sha256  d50806e75494295f22a87ba45262c641eac89c192919832aec536b44d6197a9b \
                        size    148681 \
                    github.com/gdamore/encoding \
                        lock    v1.0.0 \
                        rmd160  3ed8916f763a5b51db1bcc8bd3ad06cf3d12ec07 \
                        sha256  4f470c7308790bea8a526ea26cecbaa22345aad8dc566821cda6175b3d241ee1 \
                        size    10900 \
                    github.com/fsnotify/fsnotify \
                        lock    v1.4.9 \
                        rmd160  4660b5721da8aea4c890786e49d7cec39c2e04d3 \
                        sha256  7920cf1e5ccf268962fcff0b501398ed6c28ed75b1e1281fb17b19a8b0e4db5c \
                        size    31910 \
                    github.com/francoispqt/gojay \
                        lock    v1.2.13 \
                        rmd160  c63b7b72b4a191e72379dd00bc1aee8881a9d28d \
                        sha256  43123a9b651b186da391e56cf9e644d990a5a48f686b629515c458320684f9f4 \
                        size    165274 \
                    github.com/flynn/go-shlex \
                        lock    3f9db97f8568 \
                        rmd160  ec42eaffe2cf17a46e12c7c2a7d436c0f68ba655 \
                        sha256  b4205ec400df652238f7ed287c4b77b5f17a17d5793cd5371b7cc5e0f07dfeed \
                        size    7690 \
                    github.com/facebookgo/subset \
                        lock    8dac2c3c4870 \
                        rmd160  c6c967081eb23dafafc09edd16c6206252f00771 \
                        sha256  e92744ece065a2ff0d3c88fa029682441c0ca7da5845e25a2bacbb7138f8efa6 \
                        size    4497 \
                    github.com/facebookgo/stack \
                        lock    751773369052 \
                        rmd160  b722ed02fe42ba5d5c223a088b271bf777387947 \
                        sha256  ba0e192c74b0750e4141bfdcbebfb55936750ca441fdd233df208d07991f9ad6 \
                        size    5805 \
                    github.com/facebookgo/grace \
                        lock    75cf19382434 \
                        rmd160  bab0bb2d437cabf3ccbc8124a8dd79a90526dfd3 \
                        sha256  1685d0c317d3110f016704872f280cbcad6f33d700eaa9158bf88699965dd6db \
                        size    12401 \
                    github.com/facebookgo/freeport \
                        lock    d4adf43b75b9 \
                        rmd160  8c1c9409324982a0e19e522fd7e97be046c26759 \
                        sha256  da982445ddd60a799c0b34f68f838391e05861a75763a994299af30a8349a86e \
                        size    2720 \
                    github.com/facebookgo/ensure \
                        lock    b4ab57deab51 \
                        rmd160  edbc3867aea4c2fa9d3cc7d8521421d39e3ecae2 \
                        sha256  80e2efbfe5297d35a61759647a2f6182d3e02f432ad8ab94258c2e310a00fc76 \
                        size    6422 \
                    github.com/davecgh/go-spew \
                        lock    v1.1.1 \
                        rmd160  7c02883aa81f81aca14e13a27fdca9e7fbc136f7 \
                        sha256  e85d6afa83e64962e0d63dd4812971eccf2b9b5445eda93f46a4406f0c177d5f \
                        size    42171 \
                    github.com/cpuguy83/go-md2man \
                        lock    v2.0.0 \
                        rmd160  85f342c341fa928e9ec874490c277bdabf1c39c6 \
                        sha256  2f3f8bc701df4890a5a4baf0b632ad3290be1e0aaf572b2e58fd57df93efc306 \
                        size    52040 \
                    github.com/coreos/go-systemd \
                        lock    d3cd4ed1dbcf \
                        rmd160  06f5f98239be3606cbbf1bbc71a5f50943b82b49 \
                        sha256  1ea662ddbd698ae7dd29ab57dfc06ef59b837d917db1882bcdc73cc6abf545a3 \
                        size    67782 \
                    github.com/coredns/coredns \
                        lock    v1.8.7 \
                        rmd160  a5de5caa0fa6d357b343c92d98b455c741aef7a1 \
                        sha256  5a9912a7ac12310a81fa381593812924128e470687e16b919e4be50e9b12a71b \
                        size    586925 \
                    github.com/coredns/caddy \
                        lock    v1.1.1 \
                        rmd160  e79cfea9d6b930b68422450dbae0bfaf847275b4 \
                        sha256  602f45de1579c9b847f1a0025b8fce0389e825317fd6d2e23faf24de009cad11 \
                        size    48176 \
                    github.com/cloudflare/golibs \
                        lock    333127dbecfc \
                        rmd160  9ed668a130550b931f29f00cf6381fb3c7acc0c1 \
                        sha256  9fb71c5d4767925f20228eff0cd25d53f51abace8c31f663486fd563284d7d09 \
                        size    37654 \
                    github.com/cloudflare/brotli-go \
                        lock    d34379f7ff93 \
                        rmd160  01fe0722b9c54074b89084d3aa2a346ebb643c86 \
                        sha256  ded4697d2ba9ae92a97b092bd2709b59e7e761dc9311e16fbf1fa71d64a9308c \
                        size    428642 \
                    github.com/chungthuang/quic-go \
                        lock    981dc498cb62 \
                        rmd160  7eabe79ce77612a2f60cba897d72a92c2f13144d \
                        sha256  963d646f0bdef8309ab16aa38188f05e9763bb01790c160bdc0463325ca41567 \
                        size    521359 \
                    github.com/cheekybits/genny \
                        lock    v1.0.0 \
                        rmd160  c8f3f5af635b83ade08f9f8e08e7f2018cb5879c \
                        sha256  528d149522e053aed14048608751da8ace5b44466038b1a8d47d04a050d81bdc \
                        size    15585 \
                    github.com/cespare/xxhash \
                        lock    v2.1.1 \
                        rmd160  0c0da0840864215209db2afcd2ee92a52ca2d4d1 \
                        sha256  7416baf9eeefe07e3c50c57826d839cdbba125ea0a6d74af378e865df4f25e00 \
                        size    9300 \
                    github.com/certifi/gocertifi \
                        lock    c7c1fbc02894 \
                        rmd160  7dee552dcea82b7cd34bff8c0e03cd5dbf89daff \
                        sha256  71e59e056e0424068c8034977c14a379211dcd4f4c3e0046d598be23cd1ab34d \
                        size    161276 \
                    github.com/beorn7/perks \
                        lock    v1.0.1 \
                        rmd160  c6c5c7fd2132f01925c7fccd9d27c9d7a80f2adb \
                        sha256  78da4421e9f9fa2ee5e3855bdd31cfb04c7e823d9c0ec385cc2c008132d98b96 \
                        size    10874 \
                    github.com/apparentlymart/go-cidr \
                        lock    v1.1.0 \
                        rmd160  4cd9559c26a93768034ff390ea4839a829ca70e3 \
                        sha256  611e1aa9f7bb616598fa0d333a4f997aca1868a272f005d65842745ff35221b4 \
                        size    6240 \
                    github.com/BurntSushi/toml \
                        lock    v0.3.1 \
                        rmd160  fb9650e2d16525153645e5547626f242f3800149 \
                        sha256  8cc9e5dc68e247554227973d0b4e023b27bbd9ba5a26e4fb40f44743afcb35f1 \
                        size    42087

# Notes for updating this port:
# Replace go.googlesource.com/protobuf with github.com/protocolbuffers/protobuf-go
# Make sure github.com/coreos/go-oidc (locked to a SHA1) is listed above gopkg.in/coreos/go-oidc.v2 (locked to a tag)
# See https://github.com/macports/macports-ports/pull/8662#pullrequestreview-504370438
# and https://trac.macports.org/ticket/61192#comment:34

set time [clock format [clock seconds] -format "%Y-%m-%d-%H%M %Z"]
build.args-append   -ldflags=\"-X 'main.Version=${version}' -X 'main.BuildTime=${time}'\" -o ./cloudflared ./cmd/cloudflared

post-patch {
    reinplace "s|\"/etc/cloudflared\", DefaultUnixConfigLocation|\"/etc/cloudflared\", \"${prefix}/etc/cloudflared\", DefaultUnixConfigLocation|" ${gopath}/src/github.com/cloudflare/cloudflared/config/configuration.go
}

destroot {
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/
}

post-destroot {
    file mkdir ${destroot}${prefix}/etc/cloudflared
    copy ${filespath}/config.yml ${destroot}${prefix}/etc/cloudflared/config.yml.example
}

post-activate {
    if {![file exists ${prefix}/etc/cloudflared/config.yml]} {
        copy ${prefix}/etc/cloudflared/config.yml.example ${prefix}/etc/cloudflared/config.yml
    }
}

startupitem.create          yes
startupitem.executable      ${prefix}/bin/cloudflared --config ${prefix}/etc/cloudflared/config.yml --origincert ${prefix}/etc/cloudflared/cert.pem --no-autoupdate

notes-append "
    The example config file is copied to ${prefix}/etc/cloudflared/config.yml and its content\
    will be preserved across upgrades and reinstalls. This config file configures cloudflared\
    as a DNS over HTTPS client using cloudflare DNS, running on port 5053. The startup item\
    will use this config file by default.
"
