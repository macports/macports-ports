# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           gitlab 1.0
PortGroup           meson 1.0

gitlab.instance     https://nheko.im
gitlab.setup        nheko-reborn coeurl 0.3.1 v
revision            0

categories          net www
license             MIT
maintainers         nomaintainer
description         Simple library to do http requests asynchronously via CURL in C++
long_description    ${description}

checksums           rmd160  beb7b3b1a9f631216ddaf45c6fb98a34fbdebc8c \
                    sha256  7c8cdc11558bf7cdd69a6a99a054294fd64aa2fdbc29bc12003826ef6eba35cf \
                    size    46617

meson.wrap_mode     nodownload

# Fix subproject wrap file for curl: [provides] should be [provide]
patchfiles-append   patch-subproj-curl.diff

configure.env-append \
    PKG_CONFIG_PATH=${prefix}/lib/libfmt10/pkgconfig

depends_build-append \
                    port:pkgconfig \
                    port:spdlog

depends_lib-append \
                    port:curl \
                    port:libevent \
                    port:libfmt10

compiler.cxx_standard 2017
