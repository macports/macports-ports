# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           python 1.0
PortGroup           app 1.0

name                zenmap
version             7.96
revision            0
categories          net python
maintainers         {darkart.com:opendarwin.org @ghosthound}
# NPSL - https://nmap.org/npsl/
# gpl-2 with additional restrictions, so not actually gpl-2
license             {GPL-2 OpenSSLException} Restrictive/Distributable
supported_archs     noarch
platforms           {darwin any}

description         GUI for nmap

long_description    Zenmap is a multi-platform graphical Nmap frontend and \
                    results viewer.

homepage            https://nmap.org/

master_sites        https://nmap.org/dist/
dist_subdir         nmap
distname            nmap-${version}
use_bzip2           yes
checksums      rmd160  63c35c91499901266b5b368101628094baee5a62 \
               sha256  98ae7a4f2fb66c1a3d482af8f00137283b917223446b46e7a20b06eabedf8c8a \
               size    12104211

worksrcdir          ${distname}/zenmap

python.default_version \
                    312

depends_lib         port:py${python.version}-gobject3
depends_run         port:nmap
post-destroot {
    # uninstall is managed by MacPorts
    delete ${destroot}${prefix}/bin/uninstall_zenmap
    set docdir ${prefix}/share/doc/${subport}
    xinstall -m 755 -d ${destroot}${docdir}
    xinstall -m 644 -W ${worksrcpath} COPYING_HIGWIDGETS LICENSE README \
       ${destroot}${docdir}
}

app.name        Zenmap
app.use_launch_script \
                yes
app.executable  ${python.prefix}/bin/zenmap
app.icon        ${worksrcpath}/install_scripts/macosx/zenmap.icns
