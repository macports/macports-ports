# $Id: Portfile,v 1.5 2005/03/16 17:08:43 mww Exp $

PortSystem 1.0

name		scummvm
version		0.7.0
platforms       darwin
categories	emulators games
maintainers	phw@opendarwin.org
description	cross-platform interpreter for several adventure engines
long_description	ScummVM is a cross-platform interpreter for several \
			point-and-click adventure engines. This includes all \
			SCUMM-based adventures by LucasArts, Simon the \
			Sorcerer by AdventureSoft, and Beneath a Steel Sky and \
			Broken Sword 2 by Revolution

homepage	http://scummvm.org/
master_sites	sourceforge
use_bzip2	yes
checksums	md5 7e2f9bc1bc54aa78285f7f3189ee8a7c
depends_lib	bin:sdl-config:libsdl \
		lib:libmad:libmad \
		lib:libogg:libogg \
		lib:libvorbis:libvorbis \
		lib:libvorbisfile:libvorbis \
		lib:libmpeg2:libmpeg2 \
		lib:libFLAC:flac

configure.env	LDFLAGS="-L${prefix}/lib" \
		CPPFLAGS="-I${prefix}/include"
configure.pre_args
post-configure	{ reinplace "s|/sw|${prefix}|g" ${worksrcpath}/Makefile }
build.env	${configure.env}
build.target	bundle
destroot	{ 
		xinstall -m 755 -d ${destroot}/Applications/DarwinPorts
		file copy ${worksrcpath}/ScummVM.app \
				${destroot}/Applications/DarwinPorts
		 }
