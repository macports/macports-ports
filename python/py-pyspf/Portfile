# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           python 1.0

name                py-pyspf
version             2.0.13
revision            0
distname            ${python.rootname}-${version}
categories-append   mail
license             Python
maintainers         {@BjarneDMat mathiesen.info:macintosh} openmaintainer
description         SPF (Sender Policy Framework) implemented in Python.
long_description    ${description}
platforms           darwin
supported_archs     noarch
homepage            https://github.com/sdgathman/pyspf/
master_sites        pypi:[string index ${python.rootname} 0]/${python.rootname}

python.versions     27 37
python.default_version  37

checksums           rmd160  af01f23873e1f8f809448e70367784b8046afd19 \
                    sha256  62dc1be39519e343202d480da7ef93d834b5a50cd4f217bef9335ed15292929b \
                    size    65960

if {${name} ne ${subport}} {
    depends_build-append \
                    port:py${python.version}-setuptools

    depends_lib-append  \
                    port:py${python.version}-authres \

    if {${python.version} == 27} {
        depends_lib-append  \
                    port:py${python.version}-ipaddr \
                    port:py${python.version}-pydns
    }

    if {${python.version} == 37} {
        depends_lib-append  \
                    port:py${python.version}-py3dns
    }

    livecheck.type      none
}

notes "
If you're running on Mac OS X, and it looks like DNS.DiscoverNameServers()
is failing, you'll need to edit your /etc/resolv.conf and specify a
domain name.  For some reason, OS X writes out resolv.conf with a single
'domain' line, which isn't good at all.  Later versions of py3dns have been
updated to better support Max OS X.
"
