# $Id$

PortSystem 1.0
PortGroup	python25 1.0

name		py25-wxpython
version		2.8.12.1
epoch     1
categories	python graphics
platforms	darwin
maintainers	jwa
description	Python interface to the wxWindows cross platform GUI
long_description	wxPython is a GUI toolkit for the Python programming \
    language. It allows Python programmers to create \
    programs with a robust, highly functional graphical \
    user interface, simply and easily. It is implemented \
    as a Python extension module (native code) that wraps \
    the popular wxWindows cross platform GUI library, \
    which is written in C++.

homepage	http://www.wxpython.org/
master_sites	sourceforge:wxpython
distname	wxPython-src-${version}
use_bzip2	yes

checksums           md5     8c06c5941477beee213b4f2fa78be620 \
                    sha1    05688dc03d61631750f5904273122bb40a2115f5 \
                    rmd160  94eae06087bdd930e21bf90cc6672f93a1f5a17a

#patchfiles		patch-config.py

depends_lib-append	port:wxWidgets

# wxWidgets is 32-bit only
supported_archs	i386 ppc

worksrcdir	${distname}/wxPython

extract.post_args	"| tar -xf - ${worksrcdir} ${distname}/docs"

universal_variant	no
configure.build_arch	i386

build.env	UNICODE="1" WXPORT="mac" PATH="${prefix}/lib/wx/config:$env(PATH)"

destroot.env	UNICODE="1" WXPORT="mac" PATH="${prefix}/lib/wx/config:$env(PATH)"

if {${os.platform} == "darwin" && ${os.major} >= 10} {
    patchfiles		patch-config.py.diff
}

post-destroot {
    xinstall -d -m 755 ${destroot}${prefix}/share/doc/
    file copy ${worksrcpath}/docs ${destroot}${prefix}/share/doc/${name}
    file copy ${worksrcpath}/samples \
	${destroot}${prefix}/share/doc/${name}/examples
}

livecheck.type	regex
livecheck.url	${homepage}
livecheck.regex	wxPython (2\\.\[0-9\]+\\.\[0-9\]+\\.\[0-9\]+)
