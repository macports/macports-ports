# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           python 1.0
PortGroup           meson 1.0

name                py-gst-python
version             1.20.2
revision            0

categories-append   gnome multimedia
license             LGPL
maintainers         nomaintainer

description         GStreamer Python bindings
long_description    py-gst-python allows python programs built with the \
                    gnome toolkit to use gstreamer for multimedia input/output

homepage            https://gstreamer.freedesktop.org/modules/gst-python.html
master_sites        https://gstreamer.freedesktop.org/src/gst-python/

use_xz              yes

checksums           rmd160  38becce2998c4d5909bc3493c124d850925de473 \
                    sha256  853ea35a1088c762fb703e5aea9c30031a19222b59786b6599956e154620fa2f \
                    size  153428

python.versions     38 39 310

if {${name} ne ${subport}} {
    depends_build-append \
                    port:pkgconfig

    depends_lib-append \
                    port:py${python.version}-gobject3 \
                    port:gstreamer1-gst-plugins-base

    use_configure   yes

    configure.pkg_config_path   ${python.prefix}/lib/pkgconfig

    configure.pre_args-append   --prefix='${python.prefix}'
    configure.args-append       -Dpython=${python.bin}
    configure.cppflags-append   -I${python.prefix}/include

    destroot.cmd    ${build.cmd}
}
