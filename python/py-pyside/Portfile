# $Id$

PortSystem 1.0
PortGroup python 1.0
PortGroup cmake 1.0

set realname        pyside
name                py-${realname}
version             1.0.5
python.versions     25 26 27
python.default_version 27
categories          python devel
maintainers         openmaintainer mmoll
description         LGPL-licensed Python bindings for Qt
long_description    The PySide project provides LGPL-licensed Python bindings \
                    for the Qt cross-platform application and UI framework. \
                    PySide Qt bindings allow both free open source and \
                    proprietary software development and ultimately aim to \
                    support all of the platforms as Qt itself.
homepage            http://www.pyside.org/
platforms           darwin
license             LGPL
master_sites        http://www.pyside.org/files/

checksums           md5     b24a9dc2e111718043eecf614375f2a5 \
                    rmd160  c460c5501184f95f1d4e4e546a85ce34ef9eb02d \
                    sha1    5a3e824622f49d45a1a96b81d47645f03c949bde
distname            ${realname}-qt4.7+${version}
use_bzip2           yes

if {$subport != $name} {
    depends_lib-append  port:qt4-mac port:generatorrunner \
                        port:py${python.version}-shiboken \
                        port:python${python.version}
    use_configure   yes
    configure.args-append -DBUILD_TESTS:BOOL=FALSE \
                        -DSITE_PACKAGE=${prefix}/Library/Frameworks/Python.framework/Versions/${python.branch}/lib/python${python.branch}/site-packages
    build.cmd       make
    build.target    all
    destroot.cmd    make
    destroot.destdir DESTDIR=${destroot}
    post-destroot   { }
}

livecheck.type      regex
livecheck.url       ${master_sites}
livecheck.regex     ${realname}-qt4.7\\+(\[0-9.\]+)\\.tar\\.bz2
