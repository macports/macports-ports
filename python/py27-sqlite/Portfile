# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0
PortGroup           python27 1.0

name                py27-sqlite
version             2.6.0
categories          python databases
maintainers         snc openmaintainer
platforms           darwin
description         python database extension for sqlite
long_description    PySQLite is a Python extension for SQLite that \
                    conforms to the Python Database API Specification 2.0.

homepage            http://pysqlite.googlecode.com/
master_sites        googlecode:pysqlite
distname            pysqlite-${version}
checksums           md5     fc92618b3b39d02e6ff10dc467c36640 \
                    sha1    bba2a700f98f979fdf7b224db34d95ff94c2a5d7 \
                    rmd160  654ac5b914dfe6f990277b5d95e1ec592e5c2ee0

depends_lib-append  port:sqlite3

patchfiles          patch-setup.py.diff

test.dir            "${worksrcpath}/build/lib.macosx-${macosx_deployment_target}-${configure.build_arch}-${python.branch}"
test.run            yes
test.cmd            ${python.bin} -c "'from pysqlite2.test import test; test()'"
