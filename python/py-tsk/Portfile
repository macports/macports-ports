# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python 1.0

name                py-tsk
version             20140320
categories-append   security
platforms           darwin
maintainers         nomaintainer
license             Apache-2

python.versions     24 25 26 27
python.default_version     27

description         Python binding for the SleuthKit
long_description    ${description}

homepage            https://code.google.com/p/pytsk/
#master_sites        googlecode
### https://code.google.com/p/pytsk/wiki/Building
#fetch.type          hg
#hg.url              ${homepage}
### FIXME! there is no source tar available and no browsing of mercurial repository. only guessing tag
##hg.tag              20140201
master_sites        https://googledrive.com/host/0B3fBvzttpiiScUxsUm54cG02RDA/
distname            pytsk-${version}
extract.suffix      .tgz
worksrcdir          pytsk

checksums           rmd160  cffd655f8c1a73d6ed702863ceb279818bcf9ef2 \
                    sha256  afbd40edaf9bbe6763b435598c9b5c16e9bd9ccb942f1d6b10d6b6d7456da13f

depends_lib-append  port:sleuthkit \
                    port:talloc

patchfiles          patch-setup_py.diff

build.env           TSK_HEADERS_PATH=${prefix}/include
destroot.env        TSK_HEADERS_PATH=${prefix}/include

livecheck.type      regex
livecheck.url       [lindex ${master_sites} 0]
livecheck.regex     pytsk-(\[0-9.\]+)${extract.suffix}
