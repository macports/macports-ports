# $Id$

PortSystem 1.0

name			py-sip
version			4.4.5
revision		1
categories		python devel
maintainers		mww@opendarwin.org
description		create Python bindings for C and C++ libraries
long_description	SIP is a tool that makes it very easy to create Python \
				bindings for C and C++ libraries. It was originally \
				developed to create PyQt, the Python bindings for the \
				Qt toolkit, but can be used to create bindings for any \
				C or C++ library.

homepage		http://www.riverbankcomputing.co.uk/sip/
master_sites	http://www.riverbankcomputing.com/Downloads/sip4/ \
                http://gentoo.mirrors.easynews.com/linux/gentoo/distfiles/ \
                http://gentoo.osuosl.org/distfiles/ \
                http://www.gtlib.gatech.edu/pub/gentoo/distfiles/
                
distname		sip-${version}
checksums		md5 ba334c4412cee1dbc6c56ff9a58e7bb0 \
			sha1 54a77fa84806636239834d88b6f9c216b74d6c05 \
			rmd160 c74640a9d64da539afb6e58575ff1304415830a0
dist_subdir		python

depends_lib		port:python24

patchfiles      patch-siputils.py

configure.cmd	${prefix}/bin/python2.4 configure.py
configure.pre_args  -d ${prefix}/lib/python2.4/site-packages \
				-e ${prefix}/include/python2.4 \
				-v ${prefix}/share/sip \
				-p macx-g++
configure.post_args	LFLAGS="-F${prefix}/Library/Frameworks -L${prefix}/lib"

test.run	yes
test.cmd	cd siplib && ${prefix}/bin/python2.4 -c 'import sip'

post-destroot {
	xinstall -m 755 -d ${destroot}/${prefix}/share/doc
	file copy ${worksrcpath}/doc ${destroot}/${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} LICENSE NEWS README THANKS TODO \
		${destroot}${prefix}/share/doc/${name}
}
