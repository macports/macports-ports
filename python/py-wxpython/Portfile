# $Id: Portfile,v 1.5 2005/03/08 08:26:44 blb Exp $

PortSystem 1.0

name			py-wxpython
version			2.4.2.4
revision		1
categories		python graphics
platforms		darwin
maintainers		mww@opendarwin.org
description		Python interface to the wxWindows cross platform GUI
long_description	wxPython is a GUI toolkit for the Python programming \
				language. It allows Python programmers to create \
				programs with a robust, highly functional graphical \
				user interface, simply and easily. It is implemented \
				as a Python extension module (native code) that wraps \
				the popular wxWindows cross platform GUI library, \
				which is written in C++.

homepage		http://www.wxpython.org/
master_sites	sourceforge:wxpython
distname		wxPythonSrc-${version}
checksums		md5 ea4eb68e10a0c2a9be643b35dcb78e41

depends_lib		bin:python:python24 \
				bin:wx-config:wxWindows

use_configure	no

worksrcdir		${distname}/wxPython

build.env		WX_CONFIG=${prefix}/bin/wx-config
build.cmd		python2.4 setup.py
build.target	build

destroot.cmd	${build.cmd}
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/
	file copy ${worksrcpath}/docs ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} BUILD.osx.txt BUILD.unix.txt \
		CHANGES.txt README.txt ${destroot}${prefix}/share/doc/${name}
	file copy ${worksrcpath}/samples \
		${destroot}${prefix}/share/doc/${name}/examples
}

variant gtk1	{
	depends_lib-append	lib:libwx_gtk:wxWindows
	configure.args-append	--with-gtk
	patchfiles-append	patch_gtk1-wxPython_setup.py.diff
	build.args-append	WXPORT="gtk"
}
