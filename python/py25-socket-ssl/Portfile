# $Id$

PortSystem 1.0
PortGroup python25 1.0

name			py25-socket-ssl
version			2.5.1
categories		python
platforms		darwin
maintainers		mww@macports.org
description		Python secure sockets via OpenSSL
long_description	${description}

homepage		http://www.python.org/doc/current/lib/ssl-objects.html
master_sites	http://www.python.org/ftp/python/${version}/
distname		Python-${version}
dist_subdir		python25
checksums		sha1 993a66bd2dabb0c4f33ca98372576315ef113df6
use_bzip2		yes

depends_lib-append	port:openssl

worksrcdir		${worksrcdir}/Modules

extract.post_args	"| tar -xf - ${distname}/Modules/_ssl.c ${distname}/Modules/socketmodule.h"
post-extract {
	file copy ${filespath}/setup.py ${worksrcpath}
}

configure {
	reinplace "s|__VERSION__|${version}|g" ${worksrcpath}/setup.py
	reinplace "s|__PREFIX__|${prefix}|g" ${worksrcpath}/setup.py
}

