# $Id$
PortSystem      1.0
PortGroup       python24 1.0
name            rdiff-backup
version         1.0.4
categories-append   net sysutils
maintainers     yeled@macports.org
description     backs up one directory to another, possibly over a network
long_description    rdiff-backup backs up one directory to another, \
                    possibly over a network. The target directory ends \
                    up a copy of the source directory, but extra reverse \
                    diffs are stored in a special subdirectory of that \
                    target directory, so you can still recover files \
                    lost some time ago. The idea is to combine the best \
                    features of a mirror and an incremental backup. \
                    rdiff-backup also preserves subdirectories, hard \
                    links, dev files, permissions, uid/gid ownership, \
                    and modification times. Also, rdiff-backup can \
                    operate in a bandwidth efficient manner over a pipe, \
                    like rsync. Thus you can use rdiff-backup and ssh to \
                    securely back a hard drive up to a remote location, \
                    and only the differences will be transmitted. \
                    Finally, rdiff-backup is easy to use and settings \
                    have sensical defaults.
homepage        http://www.nongnu.org/rdiff-backup/
master_sites    http://savannah.nongnu.org/download/rdiff-backup/
distname        rdiff-backup-${version}
checksums       md5 756b38aaf2602d097cafd08996fb7887 \
                sha1 fe452b30fc1c1d426993a3b357eda997d5aad122 \
                rmd160 15ca6aa6db91afabc053a0b72a4375cfe9c2bb2f
platforms       darwin

depends_lib-append  lib:librsync:librsync

patchfiles      patch-setup.py \
                patch-rdiff-backup.1
post-patch {
    reinplace "s|@PREFIX@|${prefix}|" ${worksrcpath}/rdiff-backup.1
}

build.args      --librsync-dir=${prefix}

