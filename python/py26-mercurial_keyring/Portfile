# $Id$

PortSystem          1.0
PortGroup           python26 1.0
name                py26-mercurial_keyring
version             0.4.4
categories-append   devel
maintainers         and.damore openmaintainer
description         Mercurial extension used to securely save passwords
long_description \
    mercurial_keyring is a Mercurial extension used to securely save HTTP and \
    SMTP authentication passwords in password databases (Gnome Keyring, KDE \
    KWallet, OSXKeyChain, specific solutions for Win32 and command line). This \
    extension uses and wraps services of the keyring library.

platforms           darwin

homepage            http://pypi.python.org/pypi/mercurial_keyring
master_sites        http://pypi.python.org/packages/source/m/mercurial_keyring
distname            mercurial_keyring-${version}

checksums           md5     af3822af5ee19a714b4e4fc7e66c25e7 \
                    sha1    58c0779f37158bf0cf3ebd9dfd713ffaa2cad65a \
                    rmd160  ad9482a2564be8e9935ec2d995664fae1ee2c19c

depends_run         port:py26-keyring
depends_build       port:py26-distribute

variant use_setuptools description "relies on setuptools rather than distribute python module" {
    depends_build-delete    port:py26-distribute
    depends_build-append    port:py26-setuptools
}


post-destroot {
   xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
   xinstall -m 644 -W ${worksrcpath} README.txt \
      ${destroot}${prefix}/share/doc/${name}
}

livecheck.url       [lindex ${master_sites} 0]
livecheck.regex     {keyring    -([.\d]+)\.tar\.gz}

