# $Id$

PortSystem	1.0
name            freetype
version         2.3.2
categories      print graphics
maintainers     ryandesign@macports.org openmaintainer@macports.org
description     A software font engine
long_description \
		FreeType2 is a software font engine that is designed to \
		be small, efficient, highly customizable and portable while \
		capable of producing   high-quality output (glyph images). \
		It can be used in graphics libraries, display servers, font \
		conversion tools, text image generation tools, and many \
		other products as well.
homepage        http://freetype.sourceforge.net/
platforms       darwin
master_sites    http://download.savannah.gnu.org/releases/freetype/ \
                    sourceforge
use_bzip2       yes
checksums       md5 119e1fe126fcfa5a70bc56db55f573d5 \
                sha1 4188a2ed344ddf89bdb1a054fb441019aa4b143d \
                rmd160 e4da77b6f8956d69e57269c5681560beda0ddb27

depends_lib     port:zlib
configure.env   CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

variant x86	{
	patchfiles-append	patch-builds-unix-configure
}

variant bytecode {
    pre-configure {
        ui_msg "\n\n\
            You may want not to compile a bytecode interpreter into the\n\
            TrueType driver. Without this you will only compile the code\n\
            necessary to load TrueType glyphs without hinting.\n\n\
            Note that there are important patent issues related to the\n\
            use of the interpreter.\n\n"
    }
    patchfiles-append patch-ftoption.h
}
