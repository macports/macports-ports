# $Id$

PortSystem 1.0
name			denemo
version			0.7.6
revision		1
categories		print audio x11
platforms		darwin
maintainers		yves@macports.org
description		Denemo is a unique score editor
long_description \
    Denemo is a unique score editor which exports notation \
    to LilyPond and ABC music formats. \
    It also acts as a frontend for Csound score files. \
    Denemo is different from most graphic music editors, \
    this is partly because it was created to help edit Lilypond notation \
    and partly because of its unique design philosophy. 

homepage		http://denemo.sourceforge.net/

master_sites    sourceforge
checksums       md5 1a3ed2c46d955295b52d09ae0cb642c0

depends_lib     port:librsvg
depends_run     port:qtplay
                #port:csound

patchfiles      patch-denemo.conf patch-external.c patch-prefops.c
post-patch {
    reinplace "s|../../mkinstalldirs|mkinstalldirs|g" \
        ${worksrcpath}/pixmaps/Makefile.in
    system "touch ${worksrcpath}/src/malloc.h"
}

configure.env   CFLAGS="-I${prefix}/include -DDEBUG" \
                LDFLAGS="-L${prefix}/lib"
configure.args  --disable-alsa --disable-nls \
                --with-plugins=analysis,midiinput,rumour
