# $Id: Portfile,v 1.4 2004/05/31 18:46:16 olegb Exp $

PortSystem 1.0
name		dumpasn1
version		20030222
categories	textproc security
maintainers	chris.ridd@isode.com
description	an ASN.1 decoder and pretty-printer
long_description	The dumpasn1 program decodes BER and DER-encoded \
			ASN.1 data, and is configured with knowledge of \
			many security-related objects.
homepage	http://www.cs.auckland.ac.nz/~pgut001/
master_sites	${homepage}
distname	
distfiles	dumpasn1.c dumpasn1.cfg
checksums	dumpasn1.c md5 720c630b4f4f17d4bf85b240eceeb8da \
		dumpasn1.cfg md5 f1c0a5c1108b7aad85afe3c5111ff906
platforms	darwin
extract {	system "cp ${distpath}/dumpasn1.c ${worksrcpath}"
		system "cp ${distpath}/dumpasn1.cfg ${worksrcpath}" }

configure	{}

post-configure {	reinplace "s|/etc/dumpasn1/|$prefix/etc/|g" \
				"${worksrcpath}/dumpasn1.c" }

build {		system "cc -o ${worksrcpath}/dumpasn1 ${worksrcpath}/dumpasn1.c" }

destroot {	system "install -c -m 755 ${worksrcpath}/dumpasn1 ${destroot}${prefix}/bin/dumpasn1"
		system "install -c -m 644 ${worksrcpath}/dumpasn1.cfg ${destroot}${prefix}/etc/dumpasn1.cfg" }
