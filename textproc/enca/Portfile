# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        nijel enca 1.21
github.tarball_from archive
revision            0
categories          textproc
license             GPL-2
maintainers         {khindenburg @kurthindenburg} openmaintainer
description         character set analyser
long_description    Enca is an Extremely Naive Charset Analyser. It \
                    detects character set and encoding of text files and \
                    can also convert them to other encodings.

homepage            http://cihar.com/software/enca

checksums           rmd160  11c666c1329247f4451ceda39bf443a0e9ae4a9e \
                    sha256  d413f9b4ec9191b19fbb5921ba3e1e3acf66cec151785da2f1022416a712ff80 \
                    size    782497

depends_lib         port:libiconv

test.run            yes
# We need a current shell for tests
depends_test-append port:bash
pre-test {
    fs-traverse f ${worksrcpath}/test {
        if {[string match *.sh ${f}]} {
            reinplace -q "s|#! /bin/sh|#! ${prefix}/bin/bash|" ${f}
        }
    }
}

