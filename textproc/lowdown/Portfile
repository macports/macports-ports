# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

# Use legacysupport for provide the definition of AT_FDCWD for 10.9 and earlier.
# See https://trac.macports.org/ticket/65265
PortSystem          1.0
PortGroup           legacysupport 1.1

# <fnctl.h> for identifier 'AT_FDCWD'
# See https://trac.macports.org/ticket/65265
legacysupport.newest_darwin_requires_legacy 13

name                lowdown
categories          textproc
version             2.0.2
revision            0
license             BSD

description         simple markdown translator
long_description    lowdown is a Markdown translator producing HTML5, \
                    roff documents in the ms and man formats, LaTeX, \
                    gemini ("gemtext"), OpenDocument, and ANSI/UTF8 \
                    terminal output. The open source C source code \
                    has no dependencies.

homepage            https://kristaps.bsd.lv/lowdown
master_sites        ${homepage}/snapshots
maintainers         {judaew @judaew} openmaintainer

checksums           rmd160 ad4ae437b573bf815b7e90a9ccb52dfd3fdd1cbe \
                    sha256 d59f2ad82f981a63051bb61d8d04c02c8c49428ac29c435dff03a92e210b0004 \
                    size   299643

depends_build-append \
                    port:bmake

configure.universal_args
configure.pre_args  PREFIX=${prefix}
configure.args      MANDIR=${prefix}/share/man

build.cmd           bmake

# The install target installs only binaries but does not install the library
# and pkg-config pc file.
destroot.target-append  install_lib_common install_shared
