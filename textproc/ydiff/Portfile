# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github  1.0
PortGroup           python  1.0

github.setup        ymattw ydiff 1.5
github.tarball_from archive
revision            1

description         \
    View colored, incremental diff in workspace or from stdin with side by \
    side and auto pager support
long_description    {*}${description}

categories          textproc python
license             BSD
maintainers         {gmail.com:herby.gillot @herbygillot} \
                    openmaintainer
supported_archs     noarch
platforms           {darwin any}

checksums           rmd160  add613d780af621aece40a811b342c0b29e77fe8 \
                    sha256  c519c0aa03d2418ac089aa8db066cd1fcbf9f6d3bc2e99724a9bb0eb668e35dc \
                    size    2967573

python.default_version 314

patch {
    foreach _pyfile [glob ${worksrcpath}/*.py] {
        reinplace -E "s|^#!/usr/bin/env python3|#!${python.bin}|" ${_pyfile}
    }
}

test.run            yes
python.test_framework
test.cmd            ${python.bin} tests/test_ydiff.py
