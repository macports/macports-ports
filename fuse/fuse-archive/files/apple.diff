--- fuse-archive.cc	2025-03-19 16:19:28
+++ fuse-archive.cc	2025-06-10 03:33:48
@@ -951,7 +951,7 @@
 
   std::string const cache_dir = GetCacheDir();
 
-#if !defined(__FreeBSD__) && !defined(__OpenBSD__)
+#if !defined(__FreeBSD__) && !defined(__OpenBSD__) && !defined(__APPLE__)
   g_cache_fd = open(cache_dir.c_str(), O_TMPFILE | O_RDWR | O_EXCL, 0);
   if (g_cache_fd >= 0) {
     LOG(DEBUG) << "Created anonymous cache file in " << Path(cache_dir);
@@ -2929,7 +2929,7 @@
   // Get a file descriptor to the parent directory of the mount point.
   int mount_point_parent_fd =
       open(!mount_point_parent.empty() ? mount_point_parent.c_str() : ".",
-           O_DIRECTORY | O_PATH);
+           O_DIRECTORY | O_EXEC);
   if (mount_point_parent_fd < 0) {
     PLOG(ERROR) << "Cannot access directory " << Path(mount_point_parent);
     throw ExitCode::CANNOT_CREATE_MOUNT_POINT;
