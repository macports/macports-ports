# $Id$

PortSystem 1.0

name                sshfs
version             1.7
categories          fuse devel
platforms           darwin
maintainers         eridius@macports.org
description         Filesystem in Userspace
long_description    This is a filesystem client based on the \
                    SSH File Transfer Protocol. Since most SSH \
                    servers already support this protocol it is \
                    very easy to set up: i.e. on the server side \
                    there's nothing to do.  On the client side \
                    mounting the filesystem is as easy as logging \
                    into the server with ssh.

homepage            http://fuse.sourceforge.net/sshfs.html

distname            sshfs-fuse-${version}
master_sites        sourceforge:fuse
checksums           ${distfiles} md5 e91a2fed1da952a375798408dc6e41a0 \
                                 sha1 c68fa99e9127b59141a5ac5babec39d5bb541141

depends_lib         bin:pkg-config:pkgconfig lib:libglib-2.0:glib2 lib:libfuse:libfuse

platform darwin {
    depends_run         port:fusefs
    patch_sites         http://macfuse.googlecode.com/svn/tags/macfuse-0.1.9/filesystems/sshfs
    patchfiles          sshfs-fuse-1.7-macosx.patch
    checksums-append    sshfs-fuse-1.7-macosx.patch md5 ded7579df87a384d2b74cf6413ba923f \
                                                    sha1 50d036dc57fb560f011d598852576a446ba3842b
    
    configure.post_args-append CFLAGS="-D__FreeBSD__=10"
    
    # override patch.pre_args since it defaults to -p0
    patch.pre_args -p1
}