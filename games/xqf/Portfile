# $Id: Portfile,v 1.5 2005/04/05 11:12:45 matt Exp $

PortSystem 1.0
name			xqf
version			1.0.3
categories		games
platforms		darwin
maintainers		matt@opendarwin.org
homepage		http://www.linuxgames.com/xqf/
description		GTK+ Front-end to Qstat

long_description	XQF is a game server browser and launcher for \
			Unix/X11 for many popular games such as the \
			Quake series, Unreal Tournament series, Half-Life \
			etc.

master_sites		sourceforge
checksums		md5 5ee4aa37b2a52e72fc71c9078d95c289

depends_lib		lib:libgtk.1:gtk1 \
			lib:libgdk-pixbuf:gdk-pixbuf \
			lib:XXX:p5-xml-parser \
			lib:libreadline:readline

depends_run		bin:qstat:qstat

configure.env		LDFLAGS="-L${prefix}/lib" \
			CPPFLAGS="-I${prefix}/include"

configure.args		--with-qstat=${prefix}/bin/qstat \
			--enable-bzip2 \
			--enable-externalrcon \
			--disable-geoip

post-destroot {		file mkdir ${destroot}${prefix}/share/doc/${name}
			xinstall -m 644 -v -W ${worksrcpath} \
			AUTHORS BUGS COPYING NEWS README TODO \
				${destroot}${prefix}/share/doc/${name}
			file copy ${worksrcpath}/docs/xqfdocs.html \
				${destroot}${prefix}/share/doc/${name}
			}

variant gtk2 {		depends_lib-delete	lib:libgtk.1:gtk1
			depends_lib-append	lib:libgtk.2:gtk2
			configure.args-append	--enable-gtk2
			}

