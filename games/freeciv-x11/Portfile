# $Id$

PortSystem 1.0

name            freeciv-x11
version		2.1.5
categories      games
maintainers     rhwood
description     A civilisation clone for X11
long_description \
	Freeciv is a Free and Open Source empire-building strategy game \
	inspired by the history of human civilization. The game commences in \
	prehistory and your mission is to lead your tribe from the stone age \
	to the space age...

homepage        http://www.freeciv.org/
platforms	    darwin

livecheck.check regex
livecheck.url   ${homepage}
livecheck.regex freeciv-(\[0-9\.\]+).tar.bz2

master_sites    sourceforge:freeciv ftp://ftp.freeciv.org/freeciv/stable/
checksums	sha1 2b49458aa26e47fe75e90f68b899efb7e9443e09
distname	freeciv-${version}
use_bzip2	    yes

depends_lib	\
	port:gettext \
	port:libiconv \
	port:libsdl \
	port:libsdl_mixer \
	port:esound \
	port:readline \
	port:gtk2

configure.args	\
	--enable-client=gtk2 \
	--with-readline \
	--with-zlib \
	--enable-nls \
	--with-sdl-prefix=${prefix} \
	--with-libiconv-prefix=${prefix} \
	--mandir=${prefix}/share/man

platform puredarwin {
	depends_lib-delete port:libsdl
	configure.args-append --disable-sdl-mixer
}
