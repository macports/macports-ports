PortSystem              1.0
PortGroup               app 1.0

name                    ltris
version                 1.3.2
categories              games
maintainers             nomaintainer
license                 GPL-2+
use_parallel_build      yes

description             Tetris clone with multiplayer and AI support.
long_description        LTris as a tetris clone which means you have a bowl \
                        with blocks falling down. By rotating and moving the \
                        blocks you try to assemble whole lines which then \
                        disappear. LTris has three modes for this: Classic is \
                        the classical one where you play until the bowl \
                        becomes filled, Figures resets the bowl contents to a \
                        new figure for each level and adds suddenly appearing \
                        tiles and lines later on and Multiplayer where up to \
                        three players either controlled by human or CPU(!) \
                        compete and send completed lines to each other.

homepage                https://lgames.sourceforge.net/index.php?project=LTris
master_sites            sourceforge:project/lgames/ltris

checksums               rmd160  623acc5323b862eb895e05a16f098f451a2c84e4 \
                        sha256  ff28c55a18c61f28a86ba7f30f13222dfed0f7fbeb492acd95c97de9c659cec9 \
                        size    1716598

depends_lib             port:libsdl \
                        port:libsdl_mixer \
                        port:gettext \
                        port:libiconv

post-extract {
    move ${worksrcpath}/src/sdl.h ${worksrcpath}/src/sdl_.h
}
configure.ldflags-append \
                        "-lintl"

patchfiles              patch-sdl_.h.diff \
                        patch-install-mode.diff

configure.args          --with-highscore-path=${prefix}/var/lib/games/ \
                        --disable-sdltest

app.name                LTris

livecheck.type          sourceforge
livecheck.url           https://sourceforge.net/projects/lgames/files/${name}/
livecheck.regex         ${name}-(\\d+(\\.\\d+)+)
