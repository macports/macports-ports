# $Id: Portfile,v 1.2 2004/01/26 21:55:06 mww Exp $

PortSystem 1.0

name		bomberclone
version		0.10.1
categories	games
platforms	darwin
maintainers	mww@opendarwin.org
description	AtomicBomberman clone incl. networking and AI players
long_description	Bomberclone is a clone of AtomicBomberman. It includes \
			AI players, network play via master/client, \
			configureable tile sets, etc.

homepage	http://www.bomberclone.de/
master_sites	sourceforge
checksums	md5 81efbe4f67a488013fefa44b8c767e90
use_bzip2	yes

depends_lib	bin:sdl-config:libsdl \
		lib:libSDL_mixer:libsdl_mixer

configure.args	--disable-sdltest

post-configure	{
	reinplace "s|/doc/bomberclone|/share/doc/bomberclone|g" \
		${worksrcpath}/Makefile
}

pre-destroot	{
	file mkdir ${destroot}${prefix}/share/games
}

variant darwin  {
	post-destroot   {
		file mkdir ${destroot}/Applications/DarwinPorts/Bomberclone.app/Contents/MacOS
		system "ln -s ${prefix}/bin/bomberclone \
			${destroot}/Applications/DarwinPorts/Bomberclone.app/Contents/MacOS/Bomberclone"
	}
}
