# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
PortSystem              1.0
PortGroup               app 1.0

name                    lbreakouthd
version                 1.2
revision                0
categories              games
maintainers             nomaintainer
license                 GPL-2+

description             Breakout clone, that won the No Starch Press SDL Game Contest.
long_description        LBreakoutHD is a scaleable 16:9 remake of LBreakout2. \
                        The successor to LBreakout offers you a new challenge \
                        in more than 50 levels with loads of new bonuses \
                        (goldshower, joker, explosive balls, bonus magnet \
                        ...), maluses (chaos, darkness, weak balls, malus \
                        magnet ...) and special bricks (growing bricks, \
                        explosive bricks, regenerative bricks ...). If you \
                        are still hungry for more after that you can create \
                        your own levelsets with the integrated level editor. \
                        This game won the No Starch Press SDL Game Contest.

homepage                https://lgames.sourceforge.io/LBreakoutHD/
master_sites            sourceforge:lgames

checksums               rmd160  6f1217038f6e6e5cfcfdc35733c7b29e12565227 \
                        sha256  644cbf6f6656019bc335b02efc59e9b0fa3c5acbd21800db75a49753f8297419 \
                        size    5506688

depends_lib-append      port:gettext-runtime

depends_build-append    port:libsdl2 \
                        port:libsdl2_ttf \
                        port:libsdl2_image \
                        port:libsdl2_mixer \
                        port:gettext
                        
configure.ldflags-append \
                        "-lintl"

destroot.destdir        DESTDIR=${destroot} doc_dir=${prefix}/share/doc

app.name                LBreakoutHD

if {${os.platform} eq "darwin" && ${os.major} > 19 && ${os.arch} eq "arm"} {
    depends_build-append    port:libtool

    use_autoreconf          yes
    autoreconf.args         --install --verbose --force

    pre-configure {
        xinstall -m 644 -W ${prefix}/share/libtool/build-aux config.guess config.sub ${worksrcpath}
    }
}

livecheck.type          sourceforge
livecheck.url           https://sourceforge.net/projects/lgames/files/${name}/
livecheck.regex         ${name}-(\\d+(\\.\\d+)+)
