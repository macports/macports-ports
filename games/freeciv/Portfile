# $Id: Portfile,v 1.7 2005/03/26 18:22:08 michaelm Exp $

PortSystem 1.0

name            freeciv
version         1.14.2
categories      games
maintainers	    michaelm@opendarwin.org
description     A civilisation clone
homepage        http://www.freeciv.org/
platforms	    darwin

master_sites    ftp://ftp.freeciv.org/freeciv/stable/
checksums       md5 280770591c8f87ac542dcd50702da205

use_bzip2	    yes

depends_lib	    lib:libintl.3:gettext \
                  lib:libSDL:libsdl \
                  lib:libesd.0:esound \
		          lib:libreadline.4:readline \
                  lib:libImlib:imlib \
                  lib:libgtk.2:gtk2

configure.env	LDFLAGS="-L${prefix}/lib" \
                  CFLAGS="-I${prefix}/include" \
		          CPPFLAGS="-I${prefix}/include"

configure.args  --enable-client=gtk2 --with-readline --with-zlib

variant gtk1	{ depends_lib-append lib:libgtk.1:gtk1
                  depends_lib-delete lib:libgtk.2:gtk2
		          configure.args-delete --enable-client=gtk2
		          configure.args --enable-client=gtk }

variant puredarwin {
                depends_lib-delete lib:libSDL:libsdl
                configure.args-append --disable-sdl-mixer 
}
