PortSystem 			1.0
PortGroup  			muniversal 1.0

name				xmj
version				1.17.2
categories			games x11
maintainers			nomaintainer
license     		GPL-2+
description			X graphical mahjong multi-player game
long_description	\
	xmj is a multi-player version of the Chinese game of Mah-Jong. \
	One can play against computer players or against other human \
	players over the network.
homepage			https://mahjong.julianbradfield.org
distname			mj-${version}-src
master_sites		${homepage}/Source
checksums       	rmd160  fe00a1d851004c712ac537610f572eb972a925ec \
                	sha256  f701a51704a55adde83e75670096841835cf1878e6a33623ea7894476d2d83c6 \
                	size    415764
depends_build		port:pkgconfig
depends_lib			path:lib/pkgconfig/gtk+-2.0.pc:gtk2
use_configure   	no
universal_variant 	yes
patch {
    reinplace "s|/usr|${prefix}|g" ${worksrcpath}/Makefile
}
build.args			CDEBUGFLAGS=-O2 CC="${configure.cc} [get_canonical_archflags]"
destroot.target		install install.man
destroot.destdir 	DESTDIR=${destroot}/ BINDIR=${prefix}/bin \
	MANDIR=${prefix}/share/man/man1

livecheck.type  	regex
livecheck.url   	${homepage}/Source
livecheck.regex 	mj-(\[0-9.\]+)-src\\.tar\\.gz
