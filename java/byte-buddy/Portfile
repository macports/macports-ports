# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           java 1.0
PortGroup           github 1.0

github.setup        raphw byte-buddy 1.18.4 byte-buddy-
github.tarball_from archive
revision            0
checksums           rmd160  63ad7458161fe29a33ac56c50ceff025654af720 \
                    sha256  8b8c9dcbbd23e13ea0c537136cb70ae11706752a38a6cf456247d3cd14b5d81a \
                    size    3398663

categories          java
license             Apache-2
maintainers         nomaintainer

description         Byte Buddy is a code generation and manipulation library.
long_description    ${description}

homepage            https://bytebuddy.net/

use_zip             yes

depends_build       bin:mvn3:maven3

use_configure       no

set maven_local_repository ${worksrcpath}/.m2/repository
pre-build {
    file mkdir ${maven_local_repository}
}

build.cmd           mvn3
build.target        package
build.env-append    GRADLE_USER_HOME=${worksrcpath}/${name}
build.pre_args      install \
                    -Dmaven.repo.local=${maven_local_repository} \
                    -DskipTests

destroot {
    xinstall -m 0755 -d ${destroot}${prefix}/share/java
    xinstall -m 0644 ${worksrcpath}/${name}/target/${name}-${version}.jar \
        ${destroot}${prefix}/share/java/${name}.jar
}

github.livecheck.regex   {byte-buddy-([0-9.]+)}
