# $Id$

PortSystem 1.0

name		javacc
version		5.0
categories	java lang devel
platforms	darwin
maintainers	mww
license         BSD
description	Java Compiler Compiler, a parser generator for use with Java
long_description	Java Compiler Compiler (JavaCC) is the most popular \
			parser generator for use with Java applications. A \
			parser generator is a tool that reads a grammar \
			specification and converts it to a Java program that \
			can recognize matches to the grammar. In addition to \
			the parser generator itself, JavaCC provides other \
			standard capabilities related to parser generation \
			such as tree building (via a tool called JJTree \
			included with JavaCC), actions, debugging, etc

homepage	https://javacc.dev.java.net
master_sites	${homepage}/files/documents/17/138911/
checksums           md5     b69af035d6a3093c30ba18a0c456ca04 \
                    sha1    96d73786ddb35a11d8d405ae9ba31b882f57e48e \
                    rmd160  ae8ec360636a4facf744d907e51277bc560a2622

configure	{
	reinplace "s|`dirname \$0`/lib|${prefix}/share/java|g" \
		${worksrcpath}/bin/javacc ${worksrcpath}/bin/jjtree \
		${worksrcpath}/bin/jjdoc
}

build	{}

destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/java \
		${destroot}${prefix}/share/doc/
	file copy ${worksrcpath}/doc ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/bin/lib/javacc.jar \
		${destroot}${prefix}/share/java/
	xinstall -m 755 -W ${worksrcpath}/bin javacc jjdoc jjtree \
		${destroot}${prefix}/bin
	xinstall -m 644 -W ${worksrcpath} LICENSE \
		${destroot}${prefix}/share/doc/${name}
}

livecheck.type	regex
livecheck.url	${homepage}
livecheck.regex	javacc-(\[0-9\.\]+).tar.gz
