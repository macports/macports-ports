# $Id: Portfile,v 1.3 2005/04/18 14:18:30 jberry Exp $

PortSystem 1.0

name				mx4j
version				2.0.1

categories			java
maintainers			jberry@opendarwin.org
platforms			darwin

description			Open Source JMX for Enterprise Computing.
long_description	MX4J is a project to build an Open Source implementation \
					of the Java(TM) Management Extensions (JMX) and of the JMX \
					Remote API (JSR 160) specifications, and to build tools \
					relating to JMX.
homepage			http://mx4j.sourceforge.net/

distname			${name}-${version}-src
master_sites		sourceforge
checksums			md5 c158ad005a01ea2a7b1e794947502b2d

depends_build		bin:ant:apache-ant
depends_lib			bin:java:kaffe \
					port::junit \
					port::jakarta-bcel \
					port::jakarta-log4j \
					port::commons-logging

use_configure		no

worksrcdir			build

build.cmd			ant
build.target		compile.jmx compile.rjmx
build.args

post-extract {
	file link -symbolic ${workpath}/lib/jakarta-bcel.jar  ${prefix}/share/java/jakarta-bcel.jar
	file link -symbolic ${workpath}/lib/jakarta-log4j.jar ${prefix}/share/java/jakarta-log4j.jar
	file link -symbolic ${workpath}/lib/commons-logging.jar ${prefix}/share/java/commons-logging.jar
}

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/java \
		${destroot}${prefix}/share/doc
	xinstall -m 644 \
		${workpath}/dist/lib/mx4j.jar \
		${workpath}/dist/lib/mx4j-jmx.jar \
		${workpath}/dist/lib/mx4j-impl.jar \
		${workpath}/dist/lib/mx4j-remote.jar \
		${workpath}/dist/lib/mx4j-rimpl.jar \
		${workpath}/dist/lib/mx4j-rjmx.jar \
		${destroot}${prefix}/share/java/
}
