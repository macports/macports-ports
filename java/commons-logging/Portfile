PortSystem 1.0

name                commons-logging
version             1.3.5

categories          java
license             Apache-2
maintainers         nomaintainer
platforms           darwin

description         Apache Commons-Logging
long_description    Commons-Logging is a wrapper around a variety of \
                    logging API implementations.
homepage            https://commons.apache.org/logging/

distname            ${name}-${version}-src
master_sites        apache:commons/logging/source/
checksums           rmd160  28d88c0219999490b114f2d03655c91f02d15450 \
                    sha256  52acdfbc1a1b916d7445bdb225e8d826fbdc99d381ccb43384fc7ae42cdaf3aa \
                    size    196373

depends_build       bin:mvn3:maven3

use_configure       no
set maven_local_repository ${worksrcpath}/.m2/repository

pre-build {
    file mkdir ${maven_local_repository}
}

build.cmd           mvn3
build.target        "package"
build.pre_args-append \
                    -Dmaven.repo.local=${maven_local_repository} \
                    -DskipTests \
                    -Drat.skip=true

destroot    {
    xinstall -m 755 -d ${destroot}${prefix}/share/java \
        ${destroot}${prefix}/share/doc
    xinstall -m 644 ${worksrcpath}/target/commons-logging-${version}.jar \
        ${destroot}${prefix}/share/java/commons-logging.jar
    xinstall -m 644 ${worksrcpath}/target/commons-logging-${version}-api.jar \
        ${destroot}${prefix}/share/java/commons-logging-api.jar
    xinstall -m 644 ${worksrcpath}/target/commons-logging-${version}-adapters.jar \
        ${destroot}${prefix}/share/java/commons-logging-adapters.jar
}

livecheck.type  regex
livecheck.url   https://commons.apache.org/proper/commons-logging/download_logging.cgi
livecheck.regex "${name}-(\\d+\\.\\d+(\\.\\d+)?)-src.tar.gz"
