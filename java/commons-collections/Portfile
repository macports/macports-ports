PortSystem 1.0
PortGroup java 1.0

name                commons-collections
version             3.2.2

categories          java
license             Apache-2
maintainers         nomaintainer
platforms           darwin

description         Apache Commons-Collections
long_description    Commons-Collections provides a suite of classes that \
                    extend or augment the Java Collections Framework.

homepage            https://commons.apache.org/collections/

distfiles           ${distname}-src${extract.suffix}
master_sites        apache:commons/collections/source/
checksums           size 630693 \
                    sha256 070d94fe77969d8949bd129a618e6a7bee6b83b5b5db3ef3f983395a5428b914 \
                    rmd160 e652931924da399ca0471ea849aa3d41f987b216

worksrcdir          ${name}-${version}-src

java.version        1.8
java.fallback       openjdk8

depends_build       bin:ant:apache-ant
depends_lib         port:junit

use_configure       no

build.cmd           ant
build.target        jar javadoc
build.args          -Djar.name=${name}.jar \
                    -Djunit.jar=${prefix}/share/java/junit.jar

destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/java \
        ${destroot}${prefix}/share/doc
    xinstall -m 644 \
        ${worksrcpath}/build/commons-collections.jar \
        ${destroot}${prefix}/share/java/
    file copy ${worksrcpath}/build/docs \
        ${destroot}${prefix}/share/doc/${name}
    file attributes ${destroot}${prefix}/share/doc/${name} \
        -permissions goa+r
}

livecheck.type  regex
livecheck.url   https://commons.apache.org/proper/commons-collections/download_collections.cgi
livecheck.regex "${name}-(\\d+\\.\\d+(\\.\\d+)?)-src.tar.gz"
