# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           java 1.0

github.setup        jfree jfreechart 1.5.6 v
github.tarball_from archive
distname            v${version}
revision            0
use_zip             yes

categories          java graphics
license             LGPL-2.1+
maintainers         nomaintainer
description         JFreeChart is a free Java class library for generating charts.
long_description    {*}${description}

homepage            https://www.jfree.org/jfreechart/

checksums           rmd160  a625981b7cbe74352f3c133e33e8345c9e836507 \
                    sha256  1a9e554d0f60228995a7f02f2ac1512ab7bd2d3a740aacff67a796a7d3d23766 \
                    size    3567451

java.version        11+
java.fallback       openjdk11

depends_build-append \
                    port:maven3
use_configure       no

build.cmd           mvn3
build.target        install javadoc:javadoc -DskipTests
build.env-append    MAVEN_OPTS=-Duser.home=${workpath}/.home

destroot {
    xinstall -d ${destroot}${prefix}/share/java/ \
        ${destroot}${prefix}/share/doc/
    xinstall -m 0644 ${worksrcpath}/target/jfreechart-${version}.jar \
        ${destroot}${prefix}/share/java/jfreechart.jar
    file copy -force ${worksrcpath}/target/reports/apidocs ${destroot}${prefix}/share/doc/${name}
}
