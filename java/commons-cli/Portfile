# $Id$

PortSystem 1.0

name				commons-cli
version				1.0
revision			1

categories			java
maintainers			jberry@macports.org openmaintainer@macports.org
platforms			darwin

description			Jakarta Commons-CLI
long_description	The Jakarta Commons CLI library provides an API for \
					processing command line interfaces. It was formed by \
					the merger of ideas and code from three different \
					libraries - Werken, Avalon and Optz. 
homepage			http://jakarta.apache.org/commons/cli/
				
distname			cli-${version}-src
master_sites		apache:jakarta/commons/cli/source/
checksums			md5 ba34d585046b1f17dacbb13b377f4255

depends_build		port:ant

depends_lib			bin:java:kaffe \
					port:commons-logging \
					port:commons-lang \
					port:junit

use_configure		no

worksrcdir			${name}-${version}

build.env			CLASSPATH=${prefix}/share/java/commons-logging.jar:${prefix}/share/java/commons-lang.jar:${prefix}/share/java/junit.jar
build.cmd			ant
build.target        dist
build.args          -Dfinal.name=${name} -Djunit.jar=${prefix}/share/java/junit.jar

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/java ${destroot}${prefix}/share/doc
	xinstall -m 644 ${worksrcpath}/dist/${name}.jar ${destroot}${prefix}/share/java/
	file copy ${worksrcpath}/dist/docs ${destroot}${prefix}/share/doc/${name}
}

livecheck.check regex
livecheck.url   http://jakarta.apache.org/site/downloads/downloads_${name}.cgi
livecheck.regex "cli-(\\d+\\.\\d+(\\.\\d+)?)-src.tar.gz"
