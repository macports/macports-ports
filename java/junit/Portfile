# $Id: Portfile,v 1.2 2004/05/27 05:46:45 mww Exp $

PortSystem 1.0

name		junit
version		3.8.1
categories	java devel
platforms	darwin
maintainers	mww@opendarwin.org
description	Java framework for repeatable tests
long_description	JUnit is a simple framework to write repeatable tests. \
			It is an instance of the xUnit architecture for unit \
			testing frameworks.

homepage	http://www.junit.org/
master_sites	sourceforge
distname	${name}${version}
use_zip		yes
checksums	md5 5110326e4b7f7497dfa60ede4b626751

depends_lib	bin:java:kaffe
depends_build	bin:ant:apache-ant

post-extract	{
	system "cd ${worksrcpath} && ${extract.cmd} src.jar"
}

use_configure	no

build.cmd	ant
build.target	dist

destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/java/apache-ant/lib \
		${destroot}${prefix}/share/doc
	xinstall -m 644 ${worksrcpath}/${name}${version}/junit.jar \
		${destroot}${prefix}/share/java/
	file copy ${worksrcpath}/javadoc ${destroot}${prefix}/share/doc/${name}
	system "cd ${destroot}${prefix}/share/java/apache-ant/lib/ && \
		ln -sf ../../junit.jar"
}
