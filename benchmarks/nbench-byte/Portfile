# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem       1.0

name             nbench-byte
version          2.2.1
categories       benchmarks
maintainers      nomaintainer
description      Linux/Unix port of BYTEmark
long_description \
    nbench is a port of the BYTEmark benchmark program. These \
    are Native Mode (a.k.a. Algorithm Level) tests\; benchmarks \
    designed to expose the capabilities of a system's CPU, FPU, \
    and memory system.
homepage         http://www.tux.org/~mayer/linux/bmark.html
platforms        darwin
master_sites     ftp://ftp.tux.org/pub/tux/mayer/ \
                 http://www.tux.org/~mayer/linux/
checksums        md5 92694db00b9698f4f7525e0580ed876b
patchfiles       patch-Makefile.diff
use_configure    no
build.target
destroot {
    xinstall -m 555 ${worksrcpath}/nbench ${destroot}${prefix}/bin
    file mkdir -p ${destroot}${prefix}/share/nbench
    xinstall -m 444 ${worksrcpath}/NNET.DAT ${destroot}${prefix}/share/nbench
    xinstall -m 444 ${worksrcpath}/README ${destroot}${prefix}/share/nbench
    xinstall -m 444 ${worksrcpath}/README.motorola ${destroot}${prefix}/share/nbench
    xinstall -m 444 ${worksrcpath}/README.nonlinux ${destroot}${prefix}/share/nbench
    xinstall -m 444 ${worksrcpath}/README.submit ${destroot}${prefix}/share/nbench
    xinstall -m 444 ${worksrcpath}/RESULTS ${destroot}${prefix}/share/nbench
    xinstall -m 444 ${worksrcpath}/bdoc.txt ${destroot}${prefix}/share/nbench
}
post-install {
    ui_msg ""
    ui_msg "One of the benchmarks (neural network) requires the file"
    ui_msg "${prefix}/share/nbench/NNET.DAT to be in the same directory"
    ui_msg "that you start nbench from."
}
