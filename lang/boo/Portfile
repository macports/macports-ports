# $Id$

PortSystem 1.0

name			boo
version			0.8.0.2730
categories		lang mono
platforms		darwin
maintainers		nomaintainer
description		object oriented statically typed programming language for CLI
long_description	Boo is a new object oriented statically typed programming \
		language for the Common Language Infrastructure with a Python-inspired \
		syntax and a special focus on language and compiler extensibility.

homepage		http://boo.sourceforge.net/
master_sites	http://dist.codehaus.org/boo/distributions/
distname		${distname}-src
checksums		md5 de53eea5ffab5f9c1209c1f7588ad5eb
use_zip			yes

depends_lib		port:mono
depends_build	port:nant
use_configure	no
patchfiles		patch-default.build.diff
worksrcdir

build.cmd		${prefix}/bin/nant
build.target

test.run		yes
test.cmd		${build.cmd} compile-tests && nunit-console tests/build/*Tests.dll

destroot.cmd	${build.cmd}
destroot.destdir	-D:install.prefix=${prefix} -D:install.destdir=${destroot}
post-destroot {
	file delete -force ${destroot}/tmp
	reinplace "s|/usr/local|${prefix}|g" ${destroot}${prefix}/bin/booc ${destroot}${prefix}/bin/booi ${destroot}${prefix}/bin/booish
}
