# $Id$

PortSystem 1.0

name			scheme48
version			1.6
categories		lang scheme
platforms		darwin
maintainers		mww@macports.org
description		Scheme byte-code interpreter
long_description	Scheme 48 is an implementation of Scheme written by \
				Richard Kelsey and Jonathan Rees. It is based on a byte-code \
				interpreter and is designed to be used as a testbed for \
				experiments in implementation techniques and as an \
				expository tool.

homepage		http://s48.org/
master_sites	${homepage}/${version}/
extract.suffix	.tgz
checksums		md5 ec5cb92d400c4039c0a1a3d76a3a9f6d \
				sha1 c88e2cf6cc893f1fd2fb571cc26fc7c5342a3ceb \
				rmd160 f5152a7a9bdd217bc5b9d69848f609550ffca46c

patchfiles		patch-Makefile.in

configure.args	--mandir=${prefix}/share/man
if {[variant_isset universal]} {
    configure.args-append   --enable-universal-binary
}

build.target	enough

platform darwin 8 {
	configure.env-append    CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

livecheck.check	regex
livecheck.url	${homepage}
livecheck.regex	(\[0-9\]+\\.\[0-9\]+)

variant universal {
    configure.env-append    LDFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk"
}
