See:
 - https://github.com/sbcl/sbcl/commit/bebec0fb89ceefde0f1d584da439989bc12ad17d
 - https://github.com/sbcl/sbcl/commit/cc425f4be3125c3ba48418cc76bc1d3d3260a431
 - https://github.com/sbcl/sbcl/commit/306beeae30de474fb46c3efd31e8e2ea5acb65fb

diff --git contrib/sb-posix/posix-tests.lisp contrib/sb-posix/posix-tests.lisp
index a75d91646..962fbb452 100644
--- contrib/sb-posix/posix-tests.lisp
+++ contrib/sb-posix/posix-tests.lisp
@@ -434,7 +434,7 @@
 
 ;; O_LARGEFILE is always set on 64-bit *nix platforms even though the whole
 ;; flag makes no sense.
-#-win32
+#-(or (and darwin x86) win32)
 (deftest fcntl.1
     (let ((fd (sb-posix:open "/dev/null" sb-posix::o-nonblock)))
       (logtest (sb-posix:fcntl fd sb-posix::f-getfl)
