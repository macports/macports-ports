# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem      1.0

name            perl5
## NOTE: keep this "version" in sync with the perl5.8 port
version         5.8.9
categories      lang
platforms       darwin freebsd linux
maintainers     ricci mcalhoun
supported_archs noarch
depends_lib     port:perl5.8

description         Wrapper port for perl 5.x
long_description    ${description}

homepage        http://www.perl.org/
master_sites    
distfiles

use_configure       no
build {}
destroot {}

variant perl5_10 description { use perl 5.10 instead of perl 5.8 or perl 5.12} {
    depends_lib-delete  port:perl5.8
    depends_lib-append  port:perl5.10

    ## NOTE: keep this "version" in sync with the perl5.10 port
    version 5.10.1
}

variant perl5_12 description { use perl 5.12 instead of perl 5.8 or perl 5.10 } {
    depends_lib-delete  port:perl5.8
    depends_lib-append  port:perl5.12

    ## NOTE: keep this "version" in sync with the perl5.12 port
    version 5.12.2
}

post-destroot {
    if {[file exists ${prefix}/bin/perl${version}]} {
        ln -s perl${version} ${destroot}${prefix}/bin/$name
    } else {
        ui_error "Can't find perl ${version} (as ${prefix}/bin/perl${version}) so can't link perl${version} to it."
        return -code error "perl${version} is missing"
    }
}
livecheck.type     none
