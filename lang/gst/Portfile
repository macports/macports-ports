# $Id$

PortSystem 1.0
name             gst
version          3.0.3
categories       lang
maintainers      landonf openmaintainer
description      Free implementation of Smalltalk-80
long_description \
    GNU Smalltalk is a free implementation of the Smalltalk-80 language \
    which runs on most versions on Unix and, in general, everywhere you \
    can find a POSIX-compliance library. An uncommon feature of it is \
    that it is well-versed to scripting tasks and headless processing.
homepage         http://smalltalk.gnu.org/
platforms        darwin
master_sites     gnu:smalltalk
distname         smalltalk-${version}
checksums        md5 76b28a56eb60730de81680263f1a64ca \
                 sha1 6b1b72b1d33633374c2f3218e5a1fce35f07f61f \
                 rmd160 dc4502f1ee5919ed47c4dc3e2392990fbc4a5750


depends_build	 port:zip

depends_lib      port:gmp \
                 port:libiconv \
                 port:ncurses \
                 port:ncursesw \
                 port:readline \
                 port:tcl \
                 port:tk

configure.args   --infodir=${prefix}/share/info \
                 --mandir=${prefix}/share/man \
		 --with-gmp=${prefix}/lib \
		 --with-readline=${prefix}/lib \
		 --with-tcl=${prefix}/lib \
		 --with-tk=${prefix}/lib \
		 --with-libiconv-prefix=${prefix}

test.run         yes
test.target      check

platform darwin 6 {
    depends_lib-append port:dlcompat
}

livecheck.regex smalltalk-(\\d+(?:\\.\\d+)*)${extract.suffix}
