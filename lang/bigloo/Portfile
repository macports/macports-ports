# $Id: Portfile,v 1.1 2004/11/07 22:25:14 mww Exp $

PortSystem 1.0

name		bigloo
version		2.6e
categories	lang
maintainers	reilles@loria.fr
description	Bigloo is a fast Scheme implementation.
long_description	 Bigloo is a Scheme implementation devoted to one goal:\
    enabling Scheme based programming style where C(++) is usually required.\
    Bigloo attempts to make Scheme practical by offering features usually\
    presented by traditional programming languages but not offered by Scheme\
    and functional programming. Bigloo compiles Scheme modules.\
    It delivers small and fast stand alone binary executables.\
    Bigloo enables full connections between Scheme and C programs,\
    between Scheme and Java programs, and between Scheme and C# programs. 

platforms	darwin freebsd
homepage	http://www-sop.inria.fr/mimosa/fp/Bigloo/
master_sites 	ftp://ftp-sop.inria.fr/mimosa/fp/Bigloo/
distfiles ${name}${version}.tar.gz
checksums	md5 896b94fd478f3e677c84afcdb985e86d

worksrcdir  ${name}${version}

configure.args 	--mandir=${prefix}/share/man/man1 \
    --infodir=${prefix}/share/info \
    --docdir=${prefix}/share/doc/bigloo \
		--lispdir=${prefix}/share/emacs/site-lisp/bigloo

build.target

post-destroot	{
	set libdir	${destroot}${prefix}/lib
	system "cd ${libdir} && ln -sf bigloo/${version}/libbigloogc-2.6e.so"
	system "cd ${libdir} && ln -sf bigloo/${version}/libbigloo_s-2.6e.so"
	system "cd ${libdir} && ln -sf bigloo/${version}/libbigloo_u-2.6e.so"
}
