# $Id: Portfile,v 1.2 2005/09/18 00:15:28 jkh Exp $

PortSystem 1.0
name		ecl
version		0.9f
categories	lang
maintainers	waqar@opendarwin.org
description	Embeddable Common Lisp
long_description	\
	ECL (Embeddable Common Lisp) is an interpreter of the 	\
	Common Lisp language as described in the X3J13 ANSI 	\
	specification, featuring CLOS (Common Lisp Object 	\
	System), conditions, loops, etc, plus a translator to 	\
	C, which can produce standalone executables.

platforms	darwin
homepage       	http://ecls.sourceforge.net/
master_sites   	sourceforge:${name}s
extract.suffix	.tgz
checksums	md5 9af8db34dfc675f3af6144fa58eb7bf6

configure.args  --with-cxx --with-ffi --with-tcp

pre-destroot	{
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/Makefile
	reinplace s|/man/man1|/share/man/man1|g \
		  ${worksrcpath}/build/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/c/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/gc/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/gmp/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/doc/Makefile
	reinplace s|/local/info|/local/share/info|g \
		  ${worksrcpath}/build/doc/Makefile
}
