# $Id: Portfile,v 1.12 2004/12/03 03:18:27 gwright Exp $

PortSystem 1.0
name		guile
version		1.6.4
categories	lang
maintainers	gwright@opendarwin.org
platforms	darwin

description	GNU's Ubiquitous Intelligent Language for Extension (guile)
long_description	\
		Guile is an interpreter for the Scheme programming language, \
		packaged for use in a wide variety of environments.  \
		Guile implements Scheme as described in the Revised^5 Report \
		on the Algorithmic Language Scheme (usually known as R5RS), \
		providing clean and general data and control structures.  \
		Guile goes beyond the rather austere language presented \
		in R5RS, extending it with a module system, full access to \
		POSIX system calls, networking support, multiple threads, \
		dynamic linking, a foreign function call interface, \
		powerful string processing, and many other features needed \
		for programming in the real world.

#bugs		On Apple's darwin, the putenv library function acts \
#		differently than the GNU version. The patch to \
#		libguile/posix.c fixes this, so the guile 'putenv' \
#		function doesn't throw a system error.

#user_notes	Set DLYD_LIBRARY_PATH to /opt/local/lib (or wherever \
#		the guile libraries have been installed) if you intend \
#		to load guile modules.

homepage	http://www.gnu.org/software/guile/guile.html
master_sites	gnu

checksums	md5 a4aceb5f185878c1de4e8aa7c38b6d1d

depends_lib	lib:libreadline.4.3:readline

patchfiles	patch-scmsigs.c patch-configure patch-guile-readline-configure \
		patch-ltmain.sh patch-posix.c

configure.args	CPPFLAGS="-I${prefix}/include" \
		LDFLAGS=-L${prefix}/lib \
		--infodir=${prefix}/share/info

platform darwin 6 {
		depends_lib-append	lib:libdl:dlcompat
	}

variant darwin {
		configure.args-append	CFLAGS="-no-cpp-precomp -Dmacosx"
	}

