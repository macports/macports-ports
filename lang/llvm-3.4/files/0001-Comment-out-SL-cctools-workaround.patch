--- a/projects/compiler-rt/make/platform/clang_darwin.mk
+++ a/projects/compiler-rt/make/platform/clang_darwin.mk
@@ -47,10 +47,10 @@ XCRunSdkPath = \
 
 CC       := $(call XCRun,clang)
-AR       := $(call XCRun,ar)
-RANLIB   := $(call XCRun,ranlib)
-STRIP    := $(call XCRun,strip)
-LIPO     := $(call XCRun,lipo)
-DSYMUTIL := $(call XCRun,dsymutil)
+AR       := @@PREFIX@@/bin/ar
+RANLIB   := @@PREFIX@@/bin/ranlib
+STRIP    := @@PREFIX@@/bin/strip
+LIPO     := @@PREFIX@@/bin/lipo
+DSYMUTIL := @@PREFIX@@/bin/dsymutil
 
 Configs :=
 UniversalArchs :=
@@ -83,12 +83,12 @@ UniversalArchs.ubsan_osx := $(call Check
 # object files. If we are on that platform, strip out all ARM archs. We still
 # build the libraries themselves so that Clang can find them where it expects
 # them, even though they might not have an expected slice.
-ifneq ($(shell test -x /usr/bin/sw_vers && sw_vers -productVersion | grep 10.6),)
-UniversalArchs.ios := $(filter-out armv7, $(UniversalArchs.ios))
-UniversalArchs.cc_kext := $(filter-out armv7, $(UniversalArchs.cc_kext))
-UniversalArchs.cc_kext_ios5 := $(filter-out armv7, $(UniversalArchs.cc_kext_ios5))
-UniversalArchs.profile_ios := $(filter-out armv7, $(UniversalArchs.profile_ios))
-endif
+#ifneq ($(shell test -x /usr/bin/sw_vers && sw_vers -productVersion | grep 10.6),)
+#UniversalArchs.ios := $(filter-out armv7, $(UniversalArchs.ios))
+#UniversalArchs.cc_kext := $(filter-out armv7, $(UniversalArchs.cc_kext))
+#UniversalArchs.cc_kext_ios5 := $(filter-out armv7, $(UniversalArchs.cc_kext_ios5))
+#UniversalArchs.profile_ios := $(filter-out armv7, $(UniversalArchs.profile_ios))
+#endif
 
 # If RC_SUPPORTED_ARCHS is defined, treat it as a list of the architectures we
 # are intended to support and limit what we try to build to that.
--- a/projects/compiler-rt/make/platform/clang_darwin_embedded.mk	2014-03-03 10:11:37.000000000 -0800
+++ a/projects/compiler-rt/make/platform/clang_darwin_embedded.mk	2014-03-03 12:08:37.000000000 -0800
@@ -33,11 +33,11 @@ XCRun = \
 ###
 
 CC       := $(call XCRun,clang)
-AR       := $(call XCRun,ar)
-RANLIB   := $(call XCRun,ranlib)
-STRIP    := $(call XCRun,strip)
-LIPO     := $(call XCRun,lipo)
-DSYMUTIL := $(call XCRun,dsymutil)
+AR       := @@PREFIX@@/bin/ar
+RANLIB   := @@PREFIX@@/bin/ranlib
+STRIP    := @@PREFIX@@/bin/strip
+LIPO     := @@PREFIX@@/bin/lipo
+DSYMUTIL := @@PREFIX@@/bin/dsymutil
 
 Configs :=
 UniversalArchs :=
