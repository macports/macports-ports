# $Id$

PortSystem 1.0
PortGroup  xcode 1.0

#set svn_revision 16965

name		XBMC
version		8.10bf1
revision    2
categories	multimedia
maintainers	jeremyhu
platforms	darwin
description	XBMC Multimedia Center
long_description	Formerly known as the XBox Multimedia Center, XBMC has been ported for use on UNIX

homepage	http://www.xbmc.org
master_sites	sourceforge:xbmc

universal_variant no

depends_build \
	port:jam \
	port:cmake

depends_lib \
	port:boost \
	port:jpeg \
	port:libpng \
	port:jasper \
	port:faac \
	port:libmad \
	path:bin/mysql_config5:mysql5 \
	port:fribidi \
	port:lzo \
	port:glew \
	port:pcre \
	port:bzip2 \
	port:freetype \
	port:readline \
	port:fontconfig \
	port:libsdl_image \
	port:libsdl_mixer \
	port:samba3 \
	port:enca

distname            ${name}-8.10.src
checksums           md5     2d20d255a211223eaa47f1c6bcf4be8e \
                    sha1    dc02511478ab5288e417a5d9655388007e00f325 \
                    rmd160  c4c5f12716ca2ce1544d2ac16f7427a2f20794b8

set worksrcdir XBMC

#set worksrcdir XBMC-${svn_revision}
#
#fetch {
#	if {[file exists "${distpath}/XBMC"]} {
#		delete "${distpath}/XBMC"
#	}
#	if {![file exists "${distpath}/XBMC-${svn_revision}"]} {
#		system "mkdir -p \"${distpath}\" >& /dev/null && cd \"${distpath}\" && svn export --revision ${svn_revision} http://xbmc.svn.sourceforge.net/svnroot/xbmc/branches/linuxport/XBMC && mv XBMC XBMC-${svn_revision}"
#	}
#}
#
#checksum { }
#
#extract {
#	if {[file exists "${worksrcpath}"]} {
#		delete "${worksrcpath}"
#	}
#	system "cp -vR ${distpath}/XBMC-${svn_revision} ${worksrcpath}"
#}

patchfiles bf1.patch statfs.patch preflight.patch nobundlelibs.patch 

post-extract {
	# XBMC's tarballs have no exec perms on files and their SVN is flooded with bad perms...
	# find . -type f -perm 755 | sed -e '/\.[Hchms]$/d' -e '/\.mm$/d'  -e '/\.strings$/d' -e '/\.rtf$/d' -e '/\.txt$/d' -e '/Makefile$/d'  -e '/\.psd$/d' -e '/\.xpm$/d' -e '/\.doc$/d'  -e '/\.def$/d'  -e '/\.prjm$/d'  -e '/\.pcg$/d'   -e '/\.cpp$/d'  -e '/\.in$/d'  -e '/\.conf$/d'  -e '/\.wav$/d'  -e '/\.nib$/d'  -e '/\.plist$/d'  -e '/\.xib$/d'  -e '/\.pbxproj$/d'  -e '/\.xbm$/d' -e '/\.xml$/d' -e '/\.java$/d'  | sed -e  's: :\\\\ :g'  | xargs echo | pbcopy
	foreach needsexec [list ./build.sh ./config.guess ./config.sub ./configure ./guilib/freetype2/freetype221.lib ./guilib/freetype2/freetype221_D.lib ./install-sh ./scripts/autoexec.py ./system/cdrip/lame_enc-i486-linux.so ./system/cdrip/lame_enc-osx.so ./system/cdrip/ogg-i486-linux.so ./system/cdrip/vorbis-i486-linux.so ./system/cdrip/vorbisenc-i486-linux.so ./system/ImageLib-osx.so ./system/libcurl-osx.so ./system/libexif-osx.so ./system/libid3tag-osx.so ./system/players/dvdplayer/liba52-osx.so ./system/players/dvdplayer/libao-osx.so ./system/players/dvdplayer/libass-osx.so ./system/players/dvdplayer/libdts-osx.so ./system/players/dvdplayer/libdvdnav-osx.so ./system/players/dvdplayer/libfaad-osx.so ./system/players/dvdplayer/libmad-osx.so ./system/players/dvdplayer/libmpeg2-osx.so ./system/players/paplayer/AACCodec-osx.so ./system/players/paplayer/adplug-i486-linux.so ./system/players/paplayer/libmpcdec-osx.so ./system/players/paplayer/MACDll-osx.so ./system/players/paplayer/MADCodec-osx.so ./system/players/paplayer/MADCodec-powerpc-linux.so ./system/players/paplayer/SNESAPU.DLL ./system/players/paplayer/vorbisfile-osx.so ./system/players/paplayer/wma-i486-linux.so ./system/players/paplayer/xbmc_asap-i486-linux.so ./system/python/DLLs/_socket.pyd ./system/python/DLLs/_ssl.pyd ./system/python/DLLs/bz2.pyd ./system/python/DLLs/pyexpat.pyd ./system/python/DLLs/select.pyd ./system/python/DLLs/unicodedata.pyd ./system/python/DLLs/zlib.pyd ./system/python/spyce/Cookie.py ./system/python/spyce/fcgi.py ./system/python/spyce/installHelper.py ./system/python/spyce/modules/automaton.py ./system/python/spyce/modules/compress.py ./system/python/spyce/modules/cookie.py ./system/python/spyce/modules/error.py ./system/python/spyce/modules/include.py ./system/python/spyce/modules/pool.py ./system/python/spyce/modules/redirect.py ./system/python/spyce/modules/request.py ./system/python/spyce/modules/response.py ./system/python/spyce/modules/session.py ./system/python/spyce/modules/spylambda.py ./system/python/spyce/modules/stdout.py ./system/python/spyce/modules/taglib.py ./system/python/spyce/modules/template.py ./system/python/spyce/modules/toc.py ./system/python/spyce/modules/transform.py ./system/python/spyce/run_spyceCGI.py ./system/python/spyce/run_spyceCmd.py ./system/python/spyce/run_spyceModpy.py ./system/python/spyce/spyce.mime ./system/python/spyce/spyce.nsi ./system/python/spyce/spyce.py ./system/python/spyce/spyceCache.py ./system/python/spyce/spyceCGI.py ./system/python/spyce/spyceCmd.py ./system/python/spyce/spyceCompile.py ./system/python/spyce/spyceConfig.py ./system/python/spyce/spyceException.py ./system/python/spyce/spyceLock.py ./system/python/spyce/spyceModpy.py ./system/python/spyce/spyceModule.py ./system/python/spyce/spyceTag.py ./system/python/spyce/spyceUtil.py ./system/python/spyce/spyceWWW.py ./system/python/spyce/spyceXbmc.py ./system/python/spyce/tree.py ./system/python/spyce/verchk.py ./tools/Changelog/Changelog.py ./tools/EventClients/Clients/J2ME\ Client/j2me_remote.py ./tools/EventClients/Clients/PS3\ BD\ Remote/ps3_remote.py ./tools/EventClients/Clients/PS3\ Sixaxis\ Controller/ps3d.py ./tools/EventClients/examples/python/example_action.py ./tools/EventClients/examples/python/example_button1.py ./tools/EventClients/examples/python/example_button2.py ./tools/EventClients/examples/python/example_mouse.py ./tools/EventClients/examples/python/example_notification.py ./tools/EventClients/examples/python/example_simple.py ./tools/HardwareConfigure/build.sh ./tools/Mach5/mach5.rb ./tools/PackageMaker/dmgmaker.pl ./tools/PackageMaker/post_install_user.pl ./tools/PackageMaker/preflight ./tools/UpdateThumbs.py ./tools/XBMCLive/BootCD/cdimage/boot.lss ./tools/XBMCLive/BootCD/cdimage/boot.msg ./tools/XBMCLive/BootCD/make-iso.sh ./tools/XBMCLive/BootCD/updateFiles.sh ./tools/XBMCLive/Creator/enterChroot.sh ./tools/XBMCLive/Creator/i386-hardy-xbmc/initramfs/cd ./tools/XBMCLive/Creator/i386-hardy-xbmc/initramfs/disk ./tools/XBMCLive/Creator/i386-hardy-xbmc/initramfs/hooks/mobile ./tools/XBMCLive/Creator/i386-hardy-xbmc/initramfs/usb ./tools/XBMCLive/Creator/mkUSBImage.sh ./tools/XBMCLive/diskmounter ./tools/XBMCLive/installXBMC.sh ./tools/XBMCLive/runXBMC.sh ./tools/XBMCLive/xbmc ./xbmc/cores/DllLoader/Def2H.exe ./xbmc/cores/dvdplayer/Codecs/ffmpeg/build_xbmc.sh ./xbmc/cores/dvdplayer/Codecs/ffmpeg/build_xbmc_osx.sh ./xbmc/cores/dvdplayer/Codecs/ffmpeg/configure ./xbmc/cores/dvdplayer/Codecs/ffmpeg/doc/texi2pod.pl ./xbmc/cores/dvdplayer/Codecs/ffmpeg/tests/regression.sh ./xbmc/cores/dvdplayer/Codecs/ffmpeg/tests/seek_test.sh ./xbmc/cores/dvdplayer/Codecs/ffmpeg/tests/server-regression.sh ./xbmc/cores/dvdplayer/Codecs/ffmpeg/tools/build_avopt ./xbmc/cores/dvdplayer/Codecs/ffmpeg/tools/clean-diff ./xbmc/cores/dvdplayer/Codecs/ffmpeg/tools/unwrap-diff ./xbmc/cores/dvdplayer/Codecs/ffmpeg/version.sh ./xbmc/cores/dvdplayer/Codecs/liba52/autotools/config.guess ./xbmc/cores/dvdplayer/Codecs/liba52/autotools/config.sub ./xbmc/cores/dvdplayer/Codecs/liba52/autotools/install-sh ./xbmc/cores/dvdplayer/Codecs/liba52/autotools/missing ./xbmc/cores/dvdplayer/Codecs/liba52/autotools/mkinstalldirs ./xbmc/cores/dvdplayer/Codecs/liba52/bootstrap ./xbmc/cores/dvdplayer/Codecs/liba52/configure ./xbmc/cores/dvdplayer/Codecs/liba52/make-xbmc-lib-osx.sh ./xbmc/cores/dvdplayer/Codecs/liba52/test/compile ./xbmc/cores/dvdplayer/Codecs/liba52/test/globals ./xbmc/cores/dvdplayer/Codecs/liba52/test/regression ./xbmc/cores/dvdplayer/Codecs/libdts/autotools/compile ./xbmc/cores/dvdplayer/Codecs/libdts/autotools/config.guess ./xbmc/cores/dvdplayer/Codecs/libdts/autotools/config.sub ./xbmc/cores/dvdplayer/Codecs/libdts/autotools/depcomp ./xbmc/cores/dvdplayer/Codecs/libdts/autotools/install-sh ./xbmc/cores/dvdplayer/Codecs/libdts/autotools/missing ./xbmc/cores/dvdplayer/Codecs/libdts/autotools/mkinstalldirs ./xbmc/cores/dvdplayer/Codecs/libdts/bootstrap ./xbmc/cores/dvdplayer/Codecs/libdts/configure ./xbmc/cores/dvdplayer/Codecs/libdts/make-xbmc-lib-osx.sh ./xbmc/cores/dvdplayer/Codecs/libdts/make-xbmc-lib.sh ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/autotools/compile ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/autotools/config.guess ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/autotools/config.sub ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/autotools/depcomp ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/autotools/install-sh ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/autotools/missing ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/bootstrap ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/configure ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/make-xbmc-lib-osx.sh ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/make-xbmc-lib.sh ./xbmc/cores/dvdplayer/Codecs/libDVDCSS/xbox/configure.sh ./xbmc/cores/dvdplayer/Codecs/libdvdnav/configure ./xbmc/cores/dvdplayer/Codecs/libdvdnav/make-xbmc-lib-osx.sh ./xbmc/cores/dvdplayer/Codecs/libdvdnav/make-xbmc-lib.sh ./xbmc/cores/dvdplayer/Codecs/libdvdnav/xbox/configure.sh ./xbmc/cores/dvdplayer/Codecs/libfaad2/config.guess ./xbmc/cores/dvdplayer/Codecs/libfaad2/config.sub ./xbmc/cores/dvdplayer/Codecs/libfaad2/configure ./xbmc/cores/dvdplayer/Codecs/libfaad2/depcomp ./xbmc/cores/dvdplayer/Codecs/libfaad2/install-sh ./xbmc/cores/dvdplayer/Codecs/libfaad2/make-xbmc-lib-osx.sh ./xbmc/cores/dvdplayer/Codecs/libfaad2/make-xbmc-lib.sh ./xbmc/cores/dvdplayer/Codecs/libfaad2/missing ./xbmc/cores/dvdplayer/Codecs/libmad/configure ./xbmc/cores/dvdplayer/Codecs/libmad/depcomp ./xbmc/cores/dvdplayer/Codecs/libmad/install-sh ./xbmc/cores/dvdplayer/Codecs/libmad/make-xbmc-lib-osx.sh ./xbmc/cores/dvdplayer/Codecs/libmad/missing ./xbmc/cores/dvdplayer/Codecs/libmad/mkinstalldirs ./xbmc/cores/dvdplayer/Codecs/libmpeg2/.auto/config.guess ./xbmc/cores/dvdplayer/Codecs/libmpeg2/.auto/config.sub ./xbmc/cores/dvdplayer/Codecs/libmpeg2/.auto/depcomp ./xbmc/cores/dvdplayer/Codecs/libmpeg2/.auto/install-sh ./xbmc/cores/dvdplayer/Codecs/libmpeg2/.auto/missing ./xbmc/cores/dvdplayer/Codecs/libmpeg2/bootstrap ./xbmc/cores/dvdplayer/Codecs/libmpeg2/configure ./xbmc/cores/dvdplayer/Codecs/libmpeg2/make-xbmc-lib-osx.sh ./xbmc/cores/dvdplayer/Codecs/libmpeg2/test/compile ./xbmc/cores/dvdplayer/Codecs/libmpeg2/test/globals ./xbmc/cores/dvdplayer/Codecs/libmpeg2/test/regression ./xbmc/cores/paplayer/flac-1.2.1/autogen.sh ./xbmc/cores/paplayer/flac-1.2.1/config.guess ./xbmc/cores/paplayer/flac-1.2.1/config.rpath ./xbmc/cores/paplayer/flac-1.2.1/config.sub ./xbmc/cores/paplayer/flac-1.2.1/configure ./xbmc/cores/paplayer/flac-1.2.1/depcomp ./xbmc/cores/paplayer/flac-1.2.1/install-sh ./xbmc/cores/paplayer/flac-1.2.1/make-xbmc-lib-osx.sh ./xbmc/cores/paplayer/flac-1.2.1/missing ./xbmc/cores/paplayer/flac-1.2.1/mkinstalldirs ./xbmc/cores/paplayer/flac-1.2.1/strip_non_asm_libtool_args.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_bins.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_flac.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_grabbag.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_libFLAC++.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_libFLAC.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_metaflac.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_seeking.sh ./xbmc/cores/paplayer/flac-1.2.1/test/test_streams.sh ./xbmc/cores/paplayer/MP3Codec/libmad-0.15.1b/configure ./xbmc/cores/paplayer/MPCCodec/configure ./xbmc/cores/paplayer/vorbisfile/libvorbis/autogen.sh ./xbmc/cores/paplayer/vorbisfile/libvorbis/config.guess ./xbmc/cores/paplayer/vorbisfile/libvorbis/config.sub ./xbmc/cores/paplayer/vorbisfile/libvorbis/configure ./xbmc/cores/paplayer/vorbisfile/libvorbis/depcomp ./xbmc/cores/paplayer/vorbisfile/libvorbis/examples/frameview.pl ./xbmc/cores/paplayer/vorbisfile/libvorbis/install-sh ./xbmc/cores/paplayer/vorbisfile/libvorbis/lib/lookups.pl ./xbmc/cores/paplayer/vorbisfile/libvorbis/macos/libvorbisenc.mcp ./xbmc/cores/paplayer/vorbisfile/libvorbis/macos/libvorbisenc.mcp.exp ./xbmc/cores/paplayer/vorbisfile/libvorbis/macos/libvorbisfile.mcp ./xbmc/cores/paplayer/vorbisfile/libvorbis/macos/libvorbisfile.mcp.exp ./xbmc/cores/paplayer/vorbisfile/libvorbis/missing ./xbmc/cores/paplayer/vorbisfile/libvorbis/vq/auxpartition.pl ./xbmc/cores/paplayer/vorbisfile/libvorbis/vq/make_floor_books.pl ./xbmc/cores/paplayer/vorbisfile/libvorbis/vq/make_residue_books.pl ./xbmc/cores/paplayer/vorbisfile/libvorbis/vq/residue_entropy ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbis_dynamic.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbis_dynamic_debug.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbis_static.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbis_static_debug.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisenc_dynamic.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisenc_dynamic_debug.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisenc_static.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisenc_static_debug.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisfile_dynamic.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisfile_dynamic_debug.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisfile_static.bat ./xbmc/cores/paplayer/vorbisfile/libvorbis/win32/build_vorbisfile_static_debug.bat ./xbmc/cores/paplayer/vorbisfile/ogg/compile ./xbmc/cores/paplayer/vorbisfile/ogg/config.guess ./xbmc/cores/paplayer/vorbisfile/ogg/config.sub ./xbmc/cores/paplayer/vorbisfile/ogg/configure ./xbmc/cores/paplayer/vorbisfile/ogg/debian/rules ./xbmc/cores/paplayer/vorbisfile/ogg/depcomp ./xbmc/cores/paplayer/vorbisfile/ogg/install-sh ./xbmc/cores/paplayer/vorbisfile/ogg/macos/libogg.mcp ./xbmc/cores/paplayer/vorbisfile/ogg/macos/libogg.mcp.exp ./xbmc/cores/paplayer/vorbisfile/ogg/missing ./xbmc/cores/paplayer/vorbisfile/ogg/win32/build_ogg_dynamic.bat ./xbmc/cores/paplayer/vorbisfile/ogg/win32/build_ogg_dynamic_debug.bat ./xbmc/cores/paplayer/vorbisfile/ogg/win32/build_ogg_static.bat ./xbmc/cores/paplayer/vorbisfile/ogg/win32/build_ogg_static_debug.bat ./xbmc/FileSystem/curl/Makefile.am ./xbmc/lib/cximage-6.0/zlib/configure ./xbmc/lib/cximage-6.0/zlib/contrib/masmx86/mkasm.bat ./xbmc/lib/libass/autogen.sh ./xbmc/lib/libass/config.guess ./xbmc/lib/libass/config.sub ./xbmc/lib/libass/configure ./xbmc/lib/libass/depcomp ./xbmc/lib/libass/import.sh ./xbmc/lib/libass/install-sh ./xbmc/lib/libass/make-xbmc-lib-osx.sh ./xbmc/lib/libass/missing ./xbmc/lib/libcdio/libcdio/compile ./xbmc/lib/libcdio/libcdio/config.guess ./xbmc/lib/libcdio/libcdio/config.rpath ./xbmc/lib/libcdio/libcdio/config.sub ./xbmc/lib/libcdio/libcdio/configure ./xbmc/lib/libcdio/libcdio/depcomp ./xbmc/lib/libcdio/libcdio/doc/doxygen/run_doxygen ./xbmc/lib/libcdio/libcdio/doc/mdate-sh ./xbmc/lib/libcdio/libcdio/install-sh ./xbmc/lib/libcdio/libcdio/make-xbmc-lib-osx.sh ./xbmc/lib/libcdio/libcdio/missing ./xbmc/lib/libcdio/libcdio/src/cd-paranoia/pod2c.pl ./xbmc/lib/libcdio/libcdio/test/check_cd_read.sh ./xbmc/lib/libcdio/libcdio/test/check_cue.sh ./xbmc/lib/libcdio/libcdio/test/check_fuzzyiso.sh ./xbmc/lib/libcdio/libcdio/test/check_iso.sh ./xbmc/lib/libcdio/libcdio/test/check_nrg.sh ./xbmc/lib/libcdio/libcdio/test/check_opts.sh ./xbmc/lib/libcdio/libcdio/test/check_paranoia.sh ./xbmc/lib/libcdio/libcdio.lib ./xbmc/lib/libcdio/libcdiod.lib ./xbmc/lib/libCDRip/cdrip.lib ./xbmc/lib/libCDRip/cdripd.lib ./xbmc/lib/libcurl/build-libcurl-osx.sh ./xbmc/lib/libfribidi/libfribidi.lib ./xbmc/lib/libfribidi/libfribidid.lib ./xbmc/lib/libGoAhead/goahead.lib ./xbmc/lib/libGoAhead/goaheadd.lib ./xbmc/lib/libiconv/libiconv.lib ./xbmc/lib/libiconv/libiconvd.lib ./xbmc/lib/libid3tag/libid3tag/configure ./xbmc/lib/liblzo/lzo.lib ./xbmc/lib/libPython/Python/configure ./xbmc/lib/libPython/Python/Demo/cgi/cgi0.sh ./xbmc/lib/libPython/Python/Demo/cgi/cgi1.py ./xbmc/lib/libPython/Python/Demo/cgi/cgi2.py ./xbmc/lib/libPython/Python/Demo/cgi/cgi3.py ./xbmc/lib/libPython/Python/Demo/classes/bitvec.py ./xbmc/lib/libPython/Python/Demo/classes/Complex.py ./xbmc/lib/libPython/Python/Demo/classes/Dates.py ./xbmc/lib/libPython/Python/Demo/classes/Dbm.py ./xbmc/lib/libPython/Python/Demo/classes/Range.py ./xbmc/lib/libPython/Python/Demo/classes/Rat.py ./xbmc/lib/libPython/Python/Demo/classes/Rev.py ./xbmc/lib/libPython/Python/Demo/classes/Vec.py ./xbmc/lib/libPython/Python/Demo/comparisons/patterns ./xbmc/lib/libPython/Python/Demo/comparisons/regextest.py ./xbmc/lib/libPython/Python/Demo/comparisons/sortingtest.py ./xbmc/lib/libPython/Python/Demo/comparisons/systemtest.py ./xbmc/lib/libPython/Python/Demo/curses/life.py ./xbmc/lib/libPython/Python/Demo/curses/repeat.py ./xbmc/lib/libPython/Python/Demo/md5test/foo ./xbmc/lib/libPython/Python/Demo/md5test/md5driver.py ./xbmc/lib/libPython/Python/Demo/parser/test_parser.py ./xbmc/lib/libPython/Python/Demo/pdist/client.py ./xbmc/lib/libPython/Python/Demo/pdist/cmdfw.py ./xbmc/lib/libPython/Python/Demo/pdist/cmptree.py ./xbmc/lib/libPython/Python/Demo/pdist/cvslib.py ./xbmc/lib/libPython/Python/Demo/pdist/cvslock.py ./xbmc/lib/libPython/Python/Demo/pdist/FSProxy.py ./xbmc/lib/libPython/Python/Demo/pdist/mac.py ./xbmc/lib/libPython/Python/Demo/pdist/makechangelog.py ./xbmc/lib/libPython/Python/Demo/pdist/rcsbump ./xbmc/lib/libPython/Python/Demo/pdist/rcsclient.py ./xbmc/lib/libPython/Python/Demo/pdist/rcslib.py ./xbmc/lib/libPython/Python/Demo/pdist/RCSProxy.py ./xbmc/lib/libPython/Python/Demo/pdist/rcvs ./xbmc/lib/libPython/Python/Demo/pdist/rcvs.py ./xbmc/lib/libPython/Python/Demo/pdist/rrcs ./xbmc/lib/libPython/Python/Demo/pdist/rrcs.py ./xbmc/lib/libPython/Python/Demo/pdist/security.py ./xbmc/lib/libPython/Python/Demo/pdist/server.py ./xbmc/lib/libPython/Python/Demo/pdist/sumtree.py ./xbmc/lib/libPython/Python/Demo/pysvr/pysvr.py ./xbmc/lib/libPython/Python/Demo/rpc/test ./xbmc/lib/libPython/Python/Demo/scripts/eqfix.py ./xbmc/lib/libPython/Python/Demo/scripts/fact.py ./xbmc/lib/libPython/Python/Demo/scripts/from.py ./xbmc/lib/libPython/Python/Demo/scripts/ftpstats.py ./xbmc/lib/libPython/Python/Demo/scripts/lpwatch.py ./xbmc/lib/libPython/Python/Demo/scripts/makedir.py ./xbmc/lib/libPython/Python/Demo/scripts/markov.py ./xbmc/lib/libPython/Python/Demo/scripts/mboxconvert.py ./xbmc/lib/libPython/Python/Demo/scripts/mkrcs.py ./xbmc/lib/libPython/Python/Demo/scripts/morse.py ./xbmc/lib/libPython/Python/Demo/scripts/newslist.py ./xbmc/lib/libPython/Python/Demo/scripts/pi.py ./xbmc/lib/libPython/Python/Demo/scripts/pp.py ./xbmc/lib/libPython/Python/Demo/scripts/primes.py ./xbmc/lib/libPython/Python/Demo/scripts/queens.py ./xbmc/lib/libPython/Python/Demo/scripts/script.py ./xbmc/lib/libPython/Python/Demo/scripts/unbirthday.py ./xbmc/lib/libPython/Python/Demo/scripts/update.py ./xbmc/lib/libPython/Python/Demo/scripts/wh.py ./xbmc/lib/libPython/Python/Demo/sockets/broadcast.py ./xbmc/lib/libPython/Python/Demo/sockets/echosvr.py ./xbmc/lib/libPython/Python/Demo/sockets/finger.py ./xbmc/lib/libPython/Python/Demo/sockets/ftp.py ./xbmc/lib/libPython/Python/Demo/sockets/gopher.py ./xbmc/lib/libPython/Python/Demo/sockets/mcast.py ./xbmc/lib/libPython/Python/Demo/sockets/radio.py ./xbmc/lib/libPython/Python/Demo/sockets/rpython.py ./xbmc/lib/libPython/Python/Demo/sockets/rpythond.py ./xbmc/lib/libPython/Python/Demo/sockets/telnet.py ./xbmc/lib/libPython/Python/Demo/sockets/throughput.py ./xbmc/lib/libPython/Python/Demo/sockets/udpecho.py ./xbmc/lib/libPython/Python/Demo/tix/bitmaps/combobox.xpm.1 ./xbmc/lib/libPython/Python/Demo/tix/bitmaps/tix.gif ./xbmc/lib/libPython/Python/Demo/tix/samples/Balloon.py ./xbmc/lib/libPython/Python/Demo/tix/samples/BtnBox.py ./xbmc/lib/libPython/Python/Demo/tix/samples/CmpImg.py ./xbmc/lib/libPython/Python/Demo/tix/samples/ComboBox.py ./xbmc/lib/libPython/Python/Demo/tix/samples/Control.py ./xbmc/lib/libPython/Python/Demo/tix/samples/DirList.py ./xbmc/lib/libPython/Python/Demo/tix/samples/DirTree.py ./xbmc/lib/libPython/Python/Demo/tix/samples/NoteBook.py ./xbmc/lib/libPython/Python/Demo/tix/samples/OptMenu.py ./xbmc/lib/libPython/Python/Demo/tix/samples/PanedWin.py ./xbmc/lib/libPython/Python/Demo/tix/samples/PopMenu.py ./xbmc/lib/libPython/Python/Demo/tix/samples/SHList1.py ./xbmc/lib/libPython/Python/Demo/tix/samples/SHList2.py ./xbmc/lib/libPython/Python/Demo/tix/samples/Tree.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/AttrDialog.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/dialog.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/electrons.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/hanoi.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/hello.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/imagedraw.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/imageview.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/kill.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/listtree.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/ManPage.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/mbox.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/MimeViewer.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/rmt.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/ShellWindow.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/solitaire.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/svkill.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/tkman.py ./xbmc/lib/libPython/Python/Demo/tkinter/guido/wish.py ./xbmc/lib/libPython/Python/Demo/zlib/minigzip.py ./xbmc/lib/libPython/Python/Demo/zlib/zlibdemo.py ./xbmc/lib/libPython/Python/Doc/lib/caseless.py ./xbmc/lib/libPython/Python/Doc/lib/required_1.py ./xbmc/lib/libPython/Python/Doc/lib/required_2.py ./xbmc/lib/libPython/Python/Doc/tools/anno-api.py ./xbmc/lib/libPython/Python/Doc/tools/buildindex.py ./xbmc/lib/libPython/Python/Doc/tools/cklatex ./xbmc/lib/libPython/Python/Doc/tools/findcsyms ./xbmc/lib/libPython/Python/Doc/tools/findmodrefs ./xbmc/lib/libPython/Python/Doc/tools/findsyms ./xbmc/lib/libPython/Python/Doc/tools/fix_hack ./xbmc/lib/libPython/Python/Doc/tools/fix_libaux.sed ./xbmc/lib/libPython/Python/Doc/tools/getpagecounts ./xbmc/lib/libPython/Python/Doc/tools/getversioninfo ./xbmc/lib/libPython/Python/Doc/tools/html2texi.pl ./xbmc/lib/libPython/Python/Doc/tools/indfix.py ./xbmc/lib/libPython/Python/Doc/tools/listmodules ./xbmc/lib/libPython/Python/Doc/tools/makesec.sh ./xbmc/lib/libPython/Python/Doc/tools/mkackshtml ./xbmc/lib/libPython/Python/Doc/tools/mkhowto ./xbmc/lib/libPython/Python/Doc/tools/mkinfo ./xbmc/lib/libPython/Python/Doc/tools/mkmodindex ./xbmc/lib/libPython/Python/Doc/tools/mkpkglist ./xbmc/lib/libPython/Python/Doc/tools/mksourcepkg ./xbmc/lib/libPython/Python/Doc/tools/node2label.pl ./xbmc/lib/libPython/Python/Doc/tools/push-docs.sh ./xbmc/lib/libPython/Python/Doc/tools/sgmlconv/docfixer.py ./xbmc/lib/libPython/Python/Doc/tools/sgmlconv/esis2sgml.py ./xbmc/lib/libPython/Python/Doc/tools/sgmlconv/latex2esis.py ./xbmc/lib/libPython/Python/Doc/tools/toc2bkm.py ./xbmc/lib/libPython/Python/Doc/tools/update-docs.sh ./xbmc/lib/libPython/Python/Doc/tools/whichlibs ./xbmc/lib/libPython/Python/install-sh ./xbmc/lib/libPython/Python/Lib/base64.py ./xbmc/lib/libPython/Python/Lib/cgi.py ./xbmc/lib/libPython/Python/Lib/idlelib/idle.bat ./xbmc/lib/libPython/Python/Lib/keyword.py ./xbmc/lib/libPython/Python/Lib/lib-tk/Tix.py ./xbmc/lib/libPython/Python/Lib/mailbox.py ./xbmc/lib/libPython/Python/Lib/mimify.py ./xbmc/lib/libPython/Python/Lib/pdb.py ./xbmc/lib/libPython/Python/Lib/plat-aix3/regen ./xbmc/lib/libPython/Python/Lib/plat-aix4/regen ./xbmc/lib/libPython/Python/Lib/plat-beos5/regen ./xbmc/lib/libPython/Python/Lib/plat-darwin/regen ./xbmc/lib/libPython/Python/Lib/plat-freebsd2/regen ./xbmc/lib/libPython/Python/Lib/plat-freebsd3/regen ./xbmc/lib/libPython/Python/Lib/plat-generic/regen ./xbmc/lib/libPython/Python/Lib/plat-irix5/AL.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/CD.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/cddb.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/cdplayer.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/CL.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/CL_old.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/DEVICE.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/ERRNO.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/FILE.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/FL.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/flp.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/GET.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/GL.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/GLWS.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/IN.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/IOCTL.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/jpeg.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/panel.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/panelparser.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/readcd.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/regen ./xbmc/lib/libPython/Python/Lib/plat-irix5/SV.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/torgb.py ./xbmc/lib/libPython/Python/Lib/plat-irix5/WAIT.py ./xbmc/lib/libPython/Python/Lib/plat-irix6/regen ./xbmc/lib/libPython/Python/Lib/plat-linux2/regen ./xbmc/lib/libPython/Python/Lib/plat-mac/appletrunner.py ./xbmc/lib/libPython/Python/Lib/plat-mac/bundlebuilder.py ./xbmc/lib/libPython/Python/Lib/plat-mac/Carbon/CarbonEvents.py ./xbmc/lib/libPython/Python/Lib/plat-mac/Carbon/CarbonEvt.py ./xbmc/lib/libPython/Python/Lib/plat-mac/Carbon/CG.py ./xbmc/lib/libPython/Python/Lib/plat-mac/Carbon/CoreGraphics.py ./xbmc/lib/libPython/Python/Lib/plat-netbsd1/regen ./xbmc/lib/libPython/Python/Lib/plat-next3/regen ./xbmc/lib/libPython/Python/Lib/plat-sunos5/IN.py ./xbmc/lib/libPython/Python/Lib/plat-sunos5/regen ./xbmc/lib/libPython/Python/Lib/plat-sunos5/SUNAUDIODEV.py ./xbmc/lib/libPython/Python/Lib/plat-unixware7/regen ./xbmc/lib/libPython/Python/Lib/platform.py ./xbmc/lib/libPython/Python/Lib/profile.py ./xbmc/lib/libPython/Python/Lib/pydoc.py ./xbmc/lib/libPython/Python/Lib/quopri.py ./xbmc/lib/libPython/Python/Lib/reconvert.py ./xbmc/lib/libPython/Python/Lib/smtpd.py ./xbmc/lib/libPython/Python/Lib/smtplib.py ./xbmc/lib/libPython/Python/Lib/symbol.py ./xbmc/lib/libPython/Python/Lib/tabnanny.py ./xbmc/lib/libPython/Python/Lib/test/pystone.py ./xbmc/lib/libPython/Python/Lib/test/re_tests.py ./xbmc/lib/libPython/Python/Lib/test/regrtest.py ./xbmc/lib/libPython/Python/Lib/test/test_aepack.py ./xbmc/lib/libPython/Python/Lib/test/test_al.py ./xbmc/lib/libPython/Python/Lib/test/test_array.py ./xbmc/lib/libPython/Python/Lib/test/test_binascii.py ./xbmc/lib/libPython/Python/Lib/test/test_binhex.py ./xbmc/lib/libPython/Python/Lib/test/test_bsddb.py ./xbmc/lib/libPython/Python/Lib/test/test_cd.py ./xbmc/lib/libPython/Python/Lib/test/test_cl.py ./xbmc/lib/libPython/Python/Lib/test/test_cmath.py ./xbmc/lib/libPython/Python/Lib/test/test_crypt.py ./xbmc/lib/libPython/Python/Lib/test/test_dbm.py ./xbmc/lib/libPython/Python/Lib/test/test_dl.py ./xbmc/lib/libPython/Python/Lib/test/test_errno.py ./xbmc/lib/libPython/Python/Lib/test/test_fcntl.py ./xbmc/lib/libPython/Python/Lib/test/test_gdbm.py ./xbmc/lib/libPython/Python/Lib/test/test_gl.py ./xbmc/lib/libPython/Python/Lib/test/test_grp.py ./xbmc/lib/libPython/Python/Lib/test/test_htmlparser.py ./xbmc/lib/libPython/Python/Lib/test/test_imageop.py ./xbmc/lib/libPython/Python/Lib/test/test_imgfile.py ./xbmc/lib/libPython/Python/Lib/test/test_strftime.py ./xbmc/lib/libPython/Python/Lib/test/test_userstring.py ./xbmc/lib/libPython/Python/Lib/token.py ./xbmc/lib/libPython/Python/Lib/UserString.py ./xbmc/lib/libPython/Python/Lib/uu.py ./xbmc/lib/libPython/Python/Mac/BuildScript/build-installer.py ./xbmc/lib/libPython/Python/Mac/BuildScript/scripts/postflight.documentation ./xbmc/lib/libPython/Python/Mac/BuildScript/scripts/postflight.framework ./xbmc/lib/libPython/Python/Mac/BuildScript/scripts/postflight.patch-profile ./xbmc/lib/libPython/Python/Mac/Modules/cg/cgscan.py ./xbmc/lib/libPython/Python/Mac/Modules/cg/CGStubLib ./xbmc/lib/libPython/Python/Mac/Modules/cg/CGStubLib.exp ./xbmc/lib/libPython/Python/Mac/Modules/cg/CGStubLib.readme ./xbmc/lib/libPython/Python/Mac/Modules/cg/cgsupport.py ./xbmc/lib/libPython/Python/Mac/Modules/qt/setup.py ./xbmc/lib/libPython/Python/Mac/OSX/Dist/build ./xbmc/lib/libPython/Python/Mac/OSX/Dist/makedmg ./xbmc/lib/libPython/Python/Mac/OSX/Dist/resources/postflight ./xbmc/lib/libPython/Python/Mac/Tools/IDE/PackageManager.py ./xbmc/lib/libPython/Python/Misc/build.sh ./xbmc/lib/libPython/Python/Modules/ar_beos ./xbmc/lib/libPython/Python/Modules/ld_so_aix ./xbmc/lib/libPython/Python/Modules/ld_so_beos ./xbmc/lib/libPython/Python/Modules/makesetup ./xbmc/lib/libPython/Python/Modules/makexp_aix ./xbmc/lib/libPython/Python/PC/VC6/rt.bat ./xbmc/lib/libPython/Python/PCbuild/rt.bat ./xbmc/lib/libPython/Python/Tools/audiopy/audiopy ./xbmc/lib/libPython/Python/Tools/compiler/demo.py ./xbmc/lib/libPython/Python/Tools/compiler/dumppyc.py ./xbmc/lib/libPython/Python/Tools/faqwiz/faqw.py ./xbmc/lib/libPython/Python/Tools/faqwiz/move-faqwiz.sh ./xbmc/lib/libPython/Python/Tools/freeze/freeze.py ./xbmc/lib/libPython/Python/Tools/i18n/msgfmt.py ./xbmc/lib/libPython/Python/Tools/i18n/pygettext.py ./xbmc/lib/libPython/Python/Tools/modulator/genmodule.py ./xbmc/lib/libPython/Python/Tools/modulator/modulator.py ./xbmc/lib/libPython/Python/Tools/modulator/Tkextra.py ./xbmc/lib/libPython/Python/Tools/pynche/pynche ./xbmc/lib/libPython/Python/Tools/pynche/pynche.pyw ./xbmc/lib/libPython/Python/Tools/scripts/byteyears.py ./xbmc/lib/libPython/Python/Tools/scripts/checkappend.py ./xbmc/lib/libPython/Python/Tools/scripts/checkpyc.py ./xbmc/lib/libPython/Python/Tools/scripts/classfix.py ./xbmc/lib/libPython/Python/Tools/scripts/copytime.py ./xbmc/lib/libPython/Python/Tools/scripts/crlf.py ./xbmc/lib/libPython/Python/Tools/scripts/cvsfiles.py ./xbmc/lib/libPython/Python/Tools/scripts/dutree.py ./xbmc/lib/libPython/Python/Tools/scripts/eptags.py ./xbmc/lib/libPython/Python/Tools/scripts/finddiv.py ./xbmc/lib/libPython/Python/Tools/scripts/findlinksto.py ./xbmc/lib/libPython/Python/Tools/scripts/fixcid.py ./xbmc/lib/libPython/Python/Tools/scripts/fixdiv.py ./xbmc/lib/libPython/Python/Tools/scripts/fixheader.py ./xbmc/lib/libPython/Python/Tools/scripts/fixnotice.py ./xbmc/lib/libPython/Python/Tools/scripts/fixps.py ./xbmc/lib/libPython/Python/Tools/scripts/ftpmirror.py ./xbmc/lib/libPython/Python/Tools/scripts/google.py ./xbmc/lib/libPython/Python/Tools/scripts/gprof2html.py ./xbmc/lib/libPython/Python/Tools/scripts/h2py.py ./xbmc/lib/libPython/Python/Tools/scripts/ifdef.py ./xbmc/lib/libPython/Python/Tools/scripts/lfcr.py ./xbmc/lib/libPython/Python/Tools/scripts/linktree.py ./xbmc/lib/libPython/Python/Tools/scripts/lll.py ./xbmc/lib/libPython/Python/Tools/scripts/logmerge.py ./xbmc/lib/libPython/Python/Tools/scripts/mailerdaemon.py ./xbmc/lib/libPython/Python/Tools/scripts/methfix.py ./xbmc/lib/libPython/Python/Tools/scripts/mkreal.py ./xbmc/lib/libPython/Python/Tools/scripts/ndiff.py ./xbmc/lib/libPython/Python/Tools/scripts/nm2def.py ./xbmc/lib/libPython/Python/Tools/scripts/objgraph.py ./xbmc/lib/libPython/Python/Tools/scripts/parseentities.py ./xbmc/lib/libPython/Python/Tools/scripts/pathfix.py ./xbmc/lib/libPython/Python/Tools/scripts/pdeps.py ./xbmc/lib/libPython/Python/Tools/scripts/pindent.py ./xbmc/lib/libPython/Python/Tools/scripts/ptags.py ./xbmc/lib/libPython/Python/Tools/scripts/pydoc ./xbmc/lib/libPython/Python/Tools/scripts/rgrep.py ./xbmc/lib/libPython/Python/Tools/scripts/suff.py ./xbmc/lib/libPython/Python/Tools/scripts/texi2html.py ./xbmc/lib/libPython/Python/Tools/scripts/treesync.py ./xbmc/lib/libPython/Python/Tools/scripts/untabify.py ./xbmc/lib/libPython/Python/Tools/scripts/which.py ./xbmc/lib/libPython/Python/Tools/scripts/xxci.py ./xbmc/lib/libPython/Python/Tools/webchecker/wcgui.py ./xbmc/lib/libPython/Python/Tools/webchecker/webchecker.py ./xbmc/lib/libPython/Python/Tools/webchecker/websucker.py ./xbmc/lib/libPython/Python/Tools/webchecker/wsgui.py ./xbmc/lib/libPython/Python/Tools/world/world ./xbmc/lib/libRTV/libRTV.lib ./xbmc/lib/libRTV/libRTVd.lib ./xbmc/lib/libSDL-OSX/buildSDL-osx.sh ./xbmc/lib/libshout/libShout.lib ./xbmc/lib/libshout/libShoutd.lib ./xbmc/lib/libsmb/libsmb.lib ./xbmc/lib/libsmb/libsmbd.lib ./xbmc/lib/libXBMS/libXBMS.lib ./xbmc/lib/libXBMS/libXBMSd.lib ./xbmc/lib/libXDAAP/libXDAAP.lib ./xbmc/lib/libXDAAP/libXDAAPd.lib ./xbmc/lib/sqLite/libSQLite3.lib ./xbmc/lib/sqLite/libSQLite3d.lib ./xbmc/screensavers/rsxs-0.9/compile ./xbmc/screensavers/rsxs-0.9/config.guess ./xbmc/screensavers/rsxs-0.9/config.sub ./xbmc/screensavers/rsxs-0.9/configure ./xbmc/screensavers/rsxs-0.9/depcomp ./xbmc/screensavers/rsxs-0.9/install-sh ./xbmc/screensavers/rsxs-0.9/missing ./xbmc/visualizations/Goom/goom2k4-0/autogen.sh ./xbmc/visualizations/Goom/goom2k4-0/config.guess ./xbmc/visualizations/Goom/goom2k4-0/config.sub ./xbmc/visualizations/Goom/goom2k4-0/configure ./xbmc/visualizations/Goom/goom2k4-0/depcomp ./xbmc/visualizations/Goom/goom2k4-0/gtk-gui-devel/autogen.sh ./xbmc/visualizations/Goom/goom2k4-0/gtk-gui-devel/configure ./xbmc/visualizations/Goom/goom2k4-0/gtk-gui-devel/install-sh ./xbmc/visualizations/Goom/goom2k4-0/gtk-gui-devel/missing ./xbmc/visualizations/Goom/goom2k4-0/gtk-gui-devel/mkinstalldirs ./xbmc/visualizations/Goom/goom2k4-0/install-sh ./xbmc/visualizations/Goom/goom2k4-0/mac/StandAlone/iGoom_Prefix.pch ./xbmc/visualizations/Goom/goom2k4-0/missing ./xbmc/visualizations/Goom/goom2k4-0/mkinstalldirs ./xbmc/visualizations/XBMCProjectM/make-osx.sh ./xbmc_setup_fedoracore6.sh] {
		system "chmod 755 '${worksrcpath}/${needsexec}'"
	}
}

xcode.project XBMC.xcodeproj
#xcode.configuration Debug
xcode.configuration Release
xcode.build.settings -parallelizeTargets
#xcode.target XBMC.app

build {
		# Spaces make puppies cry
		#xcode.target "build XBMCHelper"
		system "cd \"${worksrcpath}\" && ${xcodebuildcmd} -project ${xcode.project} -target \"build XBMCHelper\" -configuration ${xcode.configuration} build OBJROOT=build/ SYMROOT=build/ ${xcode.build.settings}"		

		xcode.target XBMC.app
		system "cd \"${worksrcpath}\" && ${xcodebuildcmd} -project ${xcode.project} -target \"${xcode.target}\" -configuration ${xcode.configuration} build OBJROOT=build/ SYMROOT=build/ ${xcode.build.settings}"		
}

destroot {
	set resource_dir ${destroot}${applications_dir}/XBMC.app/Contents/Resources/XBMC
	xinstall -d -o root -g admin -m 755 "${destroot}${applications_dir}"
	system "rsync --archive --verbose ${worksrcpath}/build/${xcode.configuration}/XBMC.app ${destroot}${applications_dir}"

	# Everything isn't copied by the XBMC.app target
	delete ${resource_dir}/skin
	foreach dir "screensavers scripts skin sounds visualisations" {
		system "rsync --archive --verbose ${worksrcpath}/${dir} ${resource_dir}"
	}
}
