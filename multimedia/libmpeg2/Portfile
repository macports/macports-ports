# $Id: Portfile,v 1.2 2004/05/29 01:02:28 toby Exp $

PortSystem 1.0
name		libmpeg2
version		0.4.0
revision	1
categories	multimedia
maintainers	daved@nostrum.com
homepage	http://libmpeg2.sourceforge.net/
description	A free library for decoding mpeg-2 and mpeg-1 video streams.
long_description        libmpeg2 is a free library for decoding \
			mpeg-2 and mpeg-1 video streams.  The main \
			goals in libmpeg2 development are \
			conformance, speed, portability, and reuseability.
distname	mpeg2dec-${version}
platforms	darwin freebsd
master_sites	${homepage}files/
checksums	md5 49a70fef1b0f710ed7e64ed32ee82d4d
depends_lib	lib:libSDL:libsdl
configure.args	--enable-shared \
				CFLAGS="-I${prefix}/include -L${prefix}/lib" \
				--mandir=${prefix}/share/man

patch {		reinplace "s|@INCLUDES@|@INCLUDES@ -I\$(prefix)/include|" \
			${worksrcpath}/src/Makefile.in
}

variant darwin {
	configure.env-append	CPPFLAGS="-no-cpp-precomp"
}
