# $Id$

PortSystem      1.0

name            libvpx
version         0.9.1
categories      multimedia
maintainers     nomaintainer
platforms       darwin
license         BSD

description     VP8 video codec
long_description \
    VP8 is a highly efficient video compression technology.

homepage        http://webmproject.org
master_sites    googlecode:webm
use_bzip2       yes

checksums       sha1    a18acb7a1a2fd62268e63aab860b43ff04669b9e \
                rmd160  365b16848979727689da5e4416978c0a275e1af3

depends_lib     port:yasm

# gcc-4.2: -E, -S, -save-temps and -M options are not allowed with multiple -arch flags
universal_variant no

patchfiles      patch-configure.sh.diff

configure.args  --enable-vp8 \
                --enable-psnr \
                --enable-postproc \
                --enable-multithread \
                --enable-runtime-cpu-detect
configure.env   LD="${configure.cc}"

# FIXME: Building docs would require php5 and doxygen as dependency
configure.args-append --disable-install-docs

build.target
build.args      verbose=1
