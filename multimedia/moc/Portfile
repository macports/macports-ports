# $Id$

PortSystem          1.0

name                moc
version             2.4.3
categories          multimedia
maintainers         martinvazquez.net:eu
description         MOC (music on console) is a console audio player for LINUX/UNIX
long_description    MOC (music on console) is a console audio player for LINUX/UNIX \
                    designed to be powerful and easy to use. \
                    Internet stream (Icecast, Shoutcast) are supported, \
                    key mapping can be fully customized. \
                    Supported file formats are: mp3, Ogg Vorbis, FLAC, Musepack, Speex, WAVE, \
                    AIFF, AU (and other less popular formats supported by libsndfile. New formats \
                    support is under development.

homepage            http://moc.daper.net
platforms           darwin
master_sites        ftp://ftp.daper.net/pub/soft/moc/stable/

checksums           md5 8808082848e90eeec5415baaec7e98ad \
                    sha1 d9b54636f51f5366e94b684ddff3e869b1c634ac \
                    rmd160 34470535b16ab329a9055b05550028ceb0a860f7

use_bzip2           yes

depends_lib         port:libiconv \
                    port:ncurses \
                    port:ffmpeg \
                    port:libmad \
                    port:mpc \
                    port:libid3tag \
                    port:libsamplerate \
                    port:jack \
                    port:curl

patchfiles          patch-configure.diff \
                    patch-options.c.diff

configure.args      --with-jack --without-vorbis

default_variants    +autojack

variant autojack description {Autostart jack on mocp init and close it on server stop} {
        patchfiles-append       patch-autojack.diff
}

variant vorbis description {Add support for ogg files} {
        depends_lib-append      port:libvorbis
        configure.args-delete   --without-vorbis
}

variant without_ffmpeg description {Disable some decoders provided by ffmpeg} {
        depends_lib-delete      port:ffmpeg
}
