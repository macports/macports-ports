--- video/out/cocoa_common.m.old
+++ video/out/cocoa_common.m
@@ -580,6 +580,8 @@
     CGDirectDisplayID displayID = (CGDirectDisplayID)
         [[screen deviceDescription][@"NSScreenNumber"] unsignedLongValue];
 
+#if MAC_OS_X_VERSION_MIN_REQUIRED >= 1070
+
     CFUUIDRef uuid = CGDisplayCreateUUIDFromDisplayID(displayID);
     if (CFGetTypeID(uuid) == CFNullGetTypeID()) {
         MP_ERR(s, "cannot get display UUID.\n");
@@ -644,6 +646,23 @@
    if (!result)
        MP_ERR(s, "cannot get display profile path.\n");
 
+#else // 10.6 and lower
+
+    CMProfileRef profile = 0;
+    CMProfileLocation location;
+    int error = CMGetProfileByAVID ((CMDisplayIDType) displayID, &profile);
+    if (!error) {
+        UInt32 size = sizeof (location);
+        error = NCMGetProfileLocation (profile, &location, &size);
+        result = talloc_strdup (vo, location.u.pathLoc.path);
+        CMCloseProfile (profile);
+    }
+    else {
+        result = talloc_strdup (vo, "/System/Library/ColorSync/Profiles/Generic RGB Profile.icc");
+    }
+
+#endif
+
 get_icc_profile_path_err_out:
     CF_RELEASE(device_info);
     return result;
