# $Id: Portfile,v 1.4 2004/08/14 00:48:11 matt Exp $

PortSystem 1.0
name			hymn
version			0.7.1
categories		audio
platforms		darwin
maintainers		matt@opendarwin.org
homepage		http://hymn-project.org
description		Utility for removing DRM on AAC files

long_description	The purpose of hymn is to allow you to excercise your \
			fair-use rights under copyright law. It allows you to \
			free your iTunes Music Store purchases from their DRM \
			restrictions with no sound quality loss. These songs \
			can then be played outside the iTunes environment, even \
			on operating systems not supported by iTunes. It works \
			on Mac OS X, many Unix(-ish) variants and on Windows.

master_sites		http://hymn-project.org/download/

checksums		md5 89c6842316f9412a5c4092584d6bbab3 

destroot {		xinstall -m 755 ${worksrcpath}/src/cli/${name} \
					${destroot}${prefix}/bin
			}

post-destroot {		xinstall -d ${destroot}${prefix}/share/doc/${name}
			xinstall -m 644 -v -W ${worksrcpath} \
				AUTHORS ChangeLog COPYING NEWS README THANKS \
				${destroot}${prefix}/share/doc/${name}
			file copy ${worksrcpath}/doc \
				${destroot}${prefix}/share/doc/${name}/manual
			system "cd ${destroot}${prefix}/share/doc/${name}/manual \
				&& rm -r Makefile* hymn-version*"
			}


variant cocoa {
	destroot {	xinstall -d -m 755 ${destroot}/Applications/DarwinPorts
			file copy ${worksrcpath}/src/cocoa_ui/build/${name}.app \
			${destroot}/Applications/DarwinPorts/${name}.app
		}
	}

