# $Id: Portfile,v 1.11 2003/12/31 02:19:32 jkh Exp $

PortSystem 1.0
name		libmikmod
version		3.1.10
categories	audio
maintainers	mij@opendarwin.org
description	portable sound library
platforms	darwin

long_description libmikmod is a portable sound library for Unix systems. \
		 It can play IT, XM, S3M, MTM, 669, STM, ULT, FAR, MED, \
		 AMF, DSM, IMF, GDM, STX, OKT, and MOD module formats.

homepage	http://www.mikmod.org/

master_sites	sunsite:apps/sound/libs/ \
		http://distfiles.opendarwin.org/:lt

distfiles-append ltconfig13:lt ltmain13:lt
extract.only	${distname}${extract.suffix}

checksums	libmikmod-3.1.10.tar.gz md5 14bf3f18cf0187f5dab46e42a3ddda84 \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525

depends_lib	lib:libesd.0:esound

patchfiles	patch-config.guess patch-config.sub

post-extract {
		file copy -force ${distpath}/ltconfig13 ${worksrcpath}/ltconfig
		file copy -force ${distpath}/ltmain13 ${worksrcpath}/ltmain.sh
}

configure.env	CFLAGS="-no-cpp-precomp -Os"
