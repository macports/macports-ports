# $Id$

PortSystem 1.0
name		herrie
version		1.9
categories	audio
maintainers	ed@fxq.nl
description	Small command line interface music player
long_description \
	Herrie is a minimalistic music player that uses the command \
	line. It is written to support a variety of operating systems, \
	audio subsystems and file formats, including playlists. \
	\
	Herrie has a split-screen user interface, with a playlist at \
	the top of the screen and a file browser at the bottom. When \
	tracks are added to the playlist, Herrie automatically \
	consumes them one by one. It is thus an application that \
	allows you to batch music for playback. \
	\
	Herrie also has some more exotic features, including support \
	for AudioScrobbler and the ability to chroot() itself into a \
	directory.
homepage	http://herrie.info/
platforms	darwin
master_sites	http://herrie.info/distfiles/ \
		http://www.il.fontys.nl/~ed/projects/${name}/distfiles/ \
		http://www.stack.nl/~ed/projects/${name}/distfiles/
checksums	md5 c4d7ca6248f4b3594b0e5fbba5c9f720 \
		rmd160 69afff23f5caef647efb5605b1fd901fd4512ce4 \
		sha1 405eeaf14d5cfa53acbe900733461b60fa19b4a1
use_bzip2	yes

depends_lib	port:glib2 port:ncursesw
depends_build	port:gettext bin:pkg-config:pkgconfig

configure.pre_args
configure.env-append PREFIX=${prefix}
configure.args	no_http \
		no_modplug \
		no_mp3 \
		no_scrobbler \
		no_sndfile \
		no_vorbis \
		no_xspf

default_variants +http +mp3 +scrobbler +vorbis +xspf

variant debug {
	configure.cflags-append	-g
	configure.args-append	no_strip
}

variant http {
	depends_lib-append	port:curl
	configure.args-delete	no_http
}

variant modplug {
	depends_lib-append	port:libmodplug
	configure.args-delete	no_modplug
}

variant mp3 {
	depends_lib-append	port:libid3tag \
				port:libmad
	configure.args-delete	no_mp3
}

variant scrobbler {
	depends_lib-append	port:curl
	configure.args-delete	no_scrobbler
}

variant sndfile {
	depends_lib-append	port:libsndfile
	configure.args-delete	no_sndfile
}

variant vorbis {
	depends_lib-append	port:libvorbis
	configure.args-delete	no_vorbis
}

variant xspf {
	depends_lib-append	port:libspiff
	configure.args-delete	no_xspf
}
