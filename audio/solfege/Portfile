# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                solfege
version             3.16.3
categories          audio education python
maintainers         gmail.com:allencmcbride
description         Ear training software
homepage            http://www.solfege.org/
long_description    Solfege is a free eartraining program. The program is part \
                    of the GNU Project. One of the ideas of this program is \
                    that you can extend the program without having to dig into \
                    the source code. If you want to practise some special \
                    chords or want to practise dictation with some music not \
                    included, you can write lesson files and put them into a \
                    lessonfiles subdirectory in your home directory.

platforms           darwin
depends_lib         port:python26
depends_build       port:gettext \
                    port:texinfo
depends_run         port:py26-gtk \
                    port:gtk2 \
                    port:qtplay

master_sites        sourceforge \
                    gnu

checksums           md5     f8faabc581747582e37dea2bf14313f6 \
                    sha1    3cc6937b5c2a418fcbac5202228b31a7f42710e0 \
                    rmd160  3de20912e2fb35a7ab0099d8d7e7d57ae6cd8a81

patchfiles          patch-default-config.diff

post-patch {
    reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/default.config
}

if {[info exists supported_archs]} {
    supported_archs noarch
} else {
    universal_variant no
}

configure.python    ${prefix}/bin/python2.6
configure.pkg_config_path   ${frameworks_dir}/Python.framework/Versions/2.6/lib/pkgconfig/
