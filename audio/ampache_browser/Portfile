# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           cmake 1.1

github.setup        ampache-browser ampache_browser 1.0.7 v
github.tarball_from archive
revision            0
categories          audio devel
license             GPL-3
maintainers         {makr @mohd-akram} openmaintainer

description         Ampache desktop client library

long_description    Ampache Browser is a library that implements a desktop \
                    client for Ampache. It provides an end-user Qt UI and has \
                    a simple C++ interface that allows easy integration into a \
                    client application.

checksums           rmd160  daa0a5e0e1436d1c5e073d0ad9c10383f985f560 \
                    sha256  428aba16868d163dd1ab784d8292f87def7ed11a2dcacad087b6c103fdf090e5 \
                    size    75648

variant qt6 conflicts qt5 description {Use Qt 6} {
    PortGroup   qt6 1.0

}

variant qt5 conflicts qt6 description {Use Qt 5} {
    PortGroup   qt5 1.0

    configure.args-append   -DUSE_QT6=OFF
}

if {![variant_isset qt5]} {
    # https://doc-snapshots.qt.io/qt6-dev/macos.html#supported-versions
    if {${os.major} >= 21 || ${os.platform} ne "darwin"} {
        default_variants-append +qt6
    }
}

if {![variant_isset qt6]} {
    default_variants-append +qt5
}

if {![variant_isset qt5] && ![variant_isset qt6]} {
    error "Either +qt5 or +qt6 is required"
}
