# $Id$

PortSystem 1.0
name				libsdl_mixer
version				1.2.7
categories			audio devel
maintainers			darwinports@opendarwin.org
description			Audio mixer library for SDL
long_description \
	A sample multi-channel audio mixer library.  It supports any number of \
	simultaneously playing channels of 16 bit stereo audio, plus a single \
	channel of music.

platforms		macosx
homepage		http://www.libsdl.org/projects/SDL_mixer/
master_sites		${homepage}release/
distname		SDL_mixer-${version}

checksums		sha1 42b351360ea9debb2bec23e7e67ba355ec3762a9

depends_lib		port:libsdl port:smpeg port:libvorbis port:libogg port:libmikmod

configure.env		CPPFLAGS="-no-cpp-precomp -I${prefix}/include" \
					LDFLAGS="-L${prefix}/lib"
configure.args		--with-sdl-prefix=${prefix} --disable-sdltest \
		--enable-music-mp3 --with-smpeg-prefix=${prefix} --enable-music-ogg \
		--enable-music-libmikmod

post-destroot	{
	xinstall -m 0755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 0644 -W ${worksrcpath} CHANGES COPYING README \
		${destroot}${prefix}/share/doc/${name}
}

platform darwin 6 {
	depends_lib-append	lib:libdl:dlcompat
}

platform darwin 8 {
	configure.env-append CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}
