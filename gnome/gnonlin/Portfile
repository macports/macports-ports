# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                gnonlin
version             0.10.15
description         A set of non-linear editing plugins for GStreamer.
long_description    GNonLin contains a set of plug-ins for GStreamer to ease the creation of multimedia editors, or any other application where a timeline-oriented use of GStreamer makes sense.
maintainers         rmsfisher openmaintainer
categories          gnome
platforms           darwin
homepage            http://gstreamer.freedesktop.org/modules/gnonlin.html

master_sites        http://gstreamer.freedesktop.org/src/${name}/

checksums           md5     2b41040c1bdbf258db1c246acdbd1921 \
                    sha1    743f306ba55093ec2dcca5eb21b8fded5e6ac99f \
                    rmd160  7444999d0397955d58f9272ced305f09056ba699

use_bzip2           yes

depends_build   \
    port:pkgconfig
depends_lib \
    port:gst-plugins-base

configure.compiler	gcc-4.0
configure.cflags-append "-no-cpp-precomp -funroll-loops -fstrict-aliasing"
configure.args-append	--enable-gtk-doc

post-patch {
    reinplace "s|-flat_namespace -undefined suppress|-undefined define_a_way|g" \
        ${worksrcpath}/configure
}

livecheck.type      regex
livecheck.url       http://gstreamer.freedesktop.org/src/${name}/
livecheck.regex     "${name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
