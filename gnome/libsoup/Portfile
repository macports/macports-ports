# $Id: Portfile,v 1.13 2006/06/16 12:07:44 rhwood Exp $
PortSystem 1.0
name		libsoup
version		2.2.94
description	Soup is an HTTP library implementation in C.
long_description	Soup is an HTTP library implementation in C.
maintainers	macports-dev@lists.macosforge.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/
master_sites	gnome:sources/libsoup/2.2/

checksums	md5 a242a7c4b874e080f049c8fdf90ea836 \
			sha1 493d6f0d67de8014378c595e7eae78b829abd923 \
			rmd160 9c357f4cf8697a81299acb1a831ab998535607d8

depends_lib \
	port:libxml2 port:zlib lib:libglib-2.0:glib2 lib:libgettextlib:gettext \
	lib:libiconv:libiconv

use_bzip2 	yes

configure.args	--mandir=${prefix}/share/man 
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" 

platform darwin 6 {
	post-patch {
	        reinplace "s|#include <time.h>|#include <sys/time.h>|g" \
	                ${worksrcpath}/libsoup/soup-dns.c
	}
}
