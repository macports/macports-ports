# $Id$

PortSystem 1.0
name		seahorse
version		1.0
revision	1
description	Seahorse is a Gnome interface for GnuPG.
long_description \
		Seahorse is a Gnome interface for GnuPG. It's main \
		purpose is to be a PGP/GPG Key Manager, though it has other \
		components including a text editor and file manager.
maintainers	rhwood@macports.org openmaintainer@macports.org
categories	gnome 
platforms	darwin 
homepage	http://seahorse.sourceforge.net/
master_sites    gnome:sources/seahorse/1.0/
use_bzip2	yes
checksums	md5 7afcb9b40aaa0c232ce8a9e0909fe757 \
		sha1 c2902e2d57bda5a612b252ccbe5a7891708d5e2e \
		rmd160 21b2500be16c0143cee0d5e696c3241597bce2f2
depends_lib	\
		port:dbus \
		port:gpgme \
		port:gnome-panel \
		port:gnome-keyring \
		port:avahi \
		port:dbus-glib \
		port:gnome-vfs
depends_build	\
		port:p5-xml-parser \
		port:shared-mime-info

configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
		LDFLAGS="-L${prefix}/lib -lpth"
configure.args	--disable-update-mime-database \
		--disable-scrollkeeper
pre-configure {
	reinplace "s|chmod u+s \$(bindir)/seahorse-agent|chmod u+s ${destroot}${prefix}/bin/seahorse-agent|g" \
		${worksrcpath}/agent/Makefile.in
}
post-activate {
	system "update-mime-database ${prefix}/share/mime"
	system "scrollkeeper-update"
}
