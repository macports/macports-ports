# $Id: Portfile,v 1.18 2006/05/03 20:14:01 yves Exp $

PortSystem 1.0
name		inkscape
version		0.43
maintainers	gnome-darwinports@opendarwin.org
categories	gnome graphics
platforms	darwin 
homepage	http://www.inkscape.org

description	Inkscape is an open source SVG editor.
long_description\
    Inkscape is an open source SVG editor with \
	capabilities similar to Illustrator, CorelDraw, \
	Visio, etc. Supported SVG features include basic \
	shapes, paths, text, alpha blending, transforms, \
	gradients, node editing, svg-to-png export, \
	grouping, and more.

master_sites    sourceforge
use_bzip2       yes
checksums       md5 97c606182f5e177eef70c1e8a55efc1f

depends_lib     port:libgnomeprintui port:boehmgc port:gtkmm \
		        port:gnome-vfs port:libxslt port:loudmouth

post-patch {
    reinplace "s|USE_NLS=yes|USE_NLS=no|g" ${worksrcpath}/configure
}

configure.args	\
    --mandir=${prefix}/share/man \
    --with-xft \
    --with-gnome-print \
    --with-gnome-vfs \
    --with-perl \
    --enable-inkboard
configure.env \
    CPPFLAGS="-L${prefix}/lib -I${prefix}/include -no-cpp-precomp" \
    CFLAGS="-flat_namespace -undefined suppress -L${prefix}/lib" \
    LDFLAGS="-L${prefix}/lib"

platform darwin 7 {
    patchfiles-append patch-object-edit.cpp
}
