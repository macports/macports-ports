# $Id$

PortSystem 1.0

name           texlive_texmf-full
version        2007
revision       1
set     rev    g0
categories     tex
maintainers    milosh openmaintainer
description    full texmf tree for texlive
long_description   TeX Live is an easy way to get up and running with TeX. \
     It provides a comprehensive TeX system with binaries for most flavors \
     of Unix, including GNU/Linux, and also Windows. It includes all the \
     major TeX-related programs, macro packages, and fonts that are free \
     software, including support for many languages around the world.

homepage       http://www.tug.org/texlive/
platforms      darwin

depends_run    port:texlive_base

master_sites   openbsd:distfiles \
               http://students.dec.bournemouth.ac.uk/ebarrett/texlive/distfiles/
distname       ${name}-${version}${rev}
worksrcdir     ${name}-${version}${rev}

checksums      md5 7b766f57548b0e4f4c1fed0fbc8ff25f \
               sha1 c605bfc3db806d603c408891e73bd56d3a9afbac

use_configure  no
build       {
         delete ${worksrcpath}/texmf/doc/man
         delete ${worksrcpath}/texmf/fmtutil/format.xetex.cnf
         delete ${worksrcpath}/texmf-dist/tex/generic/xetexconfig
         delete ${worksrcpath}/texmf-dist/tex/xelatex/xetexconfig
         delete ${worksrcpath}/texmf-dist/tex/xelatex/xetexurl
}

destroot    {
         copy ${worksrcpath}/texmf ${destroot}${prefix}/share
         copy ${worksrcpath}/texmf-dist ${destroot}${prefix}/share
}

post-activate {
        system "mktexlsr"
}

livecheck.check     regex
livecheck.url       ${homepage}acquire.html
livecheck.regex     "TeX Live (\[0-9\]+) "
