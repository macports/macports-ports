# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                lrzip
version             0.651
revision            0
categories          archivers
maintainers         nomaintainer
license             GPL-2+
homepage            http://ck.kolivas.org/apps/lrzip/
description         Long Range ZIP or Lzma RZIP
long_description    lrzip is a compression program optimised for large files.\
                    The larger the file and the more memory you have, the \
                    better the compression advantage this will provide, \
                    especially once the files are larger than 100MB. The \
                    advantage can be chosen to be either size (much smaller \
                    than bzip2) or speed (much faster than bzip2).

master_sites        ${homepage}
use_xz              yes
checksums           rmd160  d043d9de94b227c3511b82eb015f923c214bea91 \
                    sha256  48bd8decb097c1596c9b3777959cd3e332819434ed77a2823e65aa436f1602f9 \
                    size    416448

depends_lib         port:lzo2 port:bzip2 port:zlib port:lz4

use_autoreconf      yes

patchfiles          patch-build-os.diff \
                    patch-build-asm.diff

configure.args-append      --disable-asm --disable-silent-rules

if {${configure.build_arch} in [list i386 x86_64]} {
    depends_build-append \
                    port:nasm
}

livecheck.type      regex
livecheck.url       ${master_sites}
livecheck.regex     "${name}-(\[\\d.\]+)${extract.suffix}"

