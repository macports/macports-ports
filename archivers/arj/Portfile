# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name		arj
version		3.10.22
categories	archivers sysutils
platforms   darwin
description	create and extract files from dos .arj archives
#license         GPL
maintainers	snc openmaintainer
long_description ${description}
homepage	http://arj.sourceforge.net/
master_sites	sourceforge:arj
depends_lib     port:libtool
use_autoconf    yes
autoconf.dir    ${worksrcpath}/gnu
configure.dir   ${autoconf.dir}

checksums           sha1    e8470f480e9eee14906e5485a8898e5c24738c8b \
                    rmd160  80f8a1a8cd203f73def8e957d96563a4dba80153

post-extract {
    if {[file exists ${prefix}/share/libtool/config/config.guess]} {
        copy -force ${prefix}/share/libtool/config/config.guess ${prefix}/share/libtool/config/config.sub ${autoconf.dir}
    } else {
        copy -force ${prefix}/share/libtool/config.guess ${prefix}/share/libtool/config.sub ${autoconf.dir}
    }
}

patchfiles	patch-configure.in patch-environ.c patch-makefile.in patch-postproc.c patch-uxspec.c

universal_variant no

build.target    prepare all
build.args      CC=${configure.cc}

livecheck.type	regex
livecheck.url	${homepage}
livecheck.regex ${name}-(\\d+(?:\\.\\d+)*)

use_parallel_build	no
