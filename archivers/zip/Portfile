# $Id: Portfile,v 1.6 2003/10/20 11:31:55 michaelm Exp $

PortSystem 1.0

name              zip
version           2.3
revision	  3  
categories        sysutils
description       compression utility
maintainers	  michaelm@opendarwin.org
long_description  Zip is different from gzip in that it allows packing multiple \
		  files into a single archive (without the assistance of tar). It is compatible with \
		  pkzip, pkunzip, and other Windows zip utilities.  This utility is necessary to \
		  install several packages in a pure Darwin installation, as Darwin does not come with zip/unzip.
homepage          http://www.info-zip.org/pub/infozip/Zip.html
master_sites      ftp://ftp.uu.net/pub/archiving/zip/src/
distname          ${name}23
checksums         md5 5206a99541f3b0ab90f1baa167392c4f
#patchfiles        patch-Makefile   patch-zip.c      patch-ziperr.h \
#                    patch-configure  patch-zipcloak.c patch-zipsplit.c
worksrcdir        ${name}-${version}
configure         {}
build.target      
build.args        -f unix/Makefile generic 
destroot.args      -f unix/Makefile BINDIR=${destroot}${prefix}/bin MANDIR=${destroot}${prefix}/share/man/man1

variant puredarwin	{ configure {	cd ${worksrcpath}
					reinplace "s|LFLAGS1=\"-s\"|LFLAGS1=|g"	unix/configure }
			  post-build {	cd ${worksrcpath}
					system "strip zip zipcloak zipnote zipsplit" } }
