# $Id: Portfile,v 1.9 2005/03/20 22:30:00 michaelm Exp $

PortSystem 1.0

name              zip
version           2.31
categories        archivers sysutils
description       compression utility
maintainers	  michaelm@opendarwin.org
long_description  Zip is different from gzip in that it allows packing multiple \
		  files into a single archive (without the assistance of tar). It is compatible with \
		  pkzip, pkunzip, and other Windows zip utilities.  This utility is necessary to \
		  install several packages in a pure Darwin installation, as Darwin does not come with zip/unzip.
homepage          http://www.info-zip.org/pub/infozip/Zip.html
master_sites      http://ftp.info-zip.org/pub/infozip/src/ \
		    http://sunsite.cnlab-switch.ch/ftp/mirror/infozip/src/ \
		    http://www.mirrorservice.org/sites/ftp.info-zip.org/pub/infozip/src/ \
                    sourceforge:zip
distname          ${name}231
patchfiles        patch-Makefile.diff
checksums         md5 6bfc076664416251d7624ab3538d1cb9
worksrcdir        ${name}-${version}
configure         {}
build.target      
build.args        -f unix/Makefile generic 
destroot.args      -f unix/Makefile BINDIR=${destroot}${prefix}/bin MANDIR=${destroot}${prefix}/share/man/man1

variant puredarwin	{ configure {	cd ${worksrcpath}
					reinplace "s|LFLAGS1=\"-s\"|LFLAGS1=|g"	unix/configure }
			  post-build {	cd ${worksrcpath}
					system "strip zip zipcloak zipnote zipsplit" } }
