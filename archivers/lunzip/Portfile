# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem 1.0

name                lunzip
version             1.8
categories          archivers
license             GPL-2+
platforms           darwin
maintainers         nomaintainer
description         Decompressor for lzip files
long_description    Lunzip is a decompressor for lzip files. It is written in C and its   \
                    small size makes it well suited for embedded devices or software      \
                    installers that need to decompress files but do not need compression  \
                    capabilities. Lunzip is fully compatible with lzip-1.4 or newer.
homepage            http://www.nongnu.org/lzip/lunzip.html
master_sites        https://download.savannah.gnu.org/releases/lzip/lunzip/ \
                    https://download-mirror.savannah.gnu.org/releases/lzip/lunzip/

checksums           rmd160  9489fdb70466831ddf4ca68683c763b1d9b3bd05 \
                    sha256  5e78046e0fd13c7fcac01c4cab81182dc950c9747f2e2ab72e74e76653588aba

variant universal {}

# respect default optimization
configure.cflags-replace -Os -O2

configure.args      CC="${configure.cc}" \
                    CFLAGS="${configure.cflags} [get_canonical_archflags cxx]" \
                    CPPFLAGS="${configure.cppflags}" \
                    LDFLAGS="${configure.ldflags} [get_canonical_archflags ld]"

post-destroot {
    set docdir ${destroot}${prefix}/share/doc/${name}
    file mkdir ${docdir}
    xinstall -m 644 -v -W ${worksrcpath} \
      AUTHORS ChangeLog COPYING NEWS ${docdir}
}

livecheck.type      regex
livecheck.url       ${master_sites}/?C=M&O=D
livecheck.regex     ${name}-(\[-0-9.\]+)\\.tar\\.gz
