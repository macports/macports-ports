# $Id: Portfile,v 1.7 2005/01/27 01:07:27 rshaw Exp $
PortSystem		1.0
PortGroup		ruby 1.0

ruby.setup		rake 0.4.15 basic_install.rb {README doc} rubyforge:2448
maintainers		rshaw@opendarwin.org
description		Ruby make-like utility using standard Ruby syntax
long_description	This package contains Rake, a simple ruby build \
					program with capabilities similar to make. \
					Rake has the following features: \
					* Rakefiles (rake's version of Makefiles) are \
					completely defined in standard Ruby syntax.  No XML \
					files to edit.  No quirky Makefile syntax to worry \
					about (is that a tab or a space?) \
					* Users can specify tasks with prerequisites. \
					* Rake supports rule patterns to sythesize implicit \
					tasks. \
					* Rake is lightweight.  It can be distributed with \
					other projects as a single file.  Projects that \
					depend upon rake do not require that rake be \
					installed on target systems.
categories-append	devel
extract.suffix	.tgz
checksums		md5 2f36712ce8f060248934b723b04bd336
platforms		darwin

depends_lib-append		lib:XXX:rb-rubygems

patchfiles		patch-testtesttask.rb

test.run		yes
test.cmd		${ruby.bin} -I./lib bin/rake
test.target		test

post-destroot {
	reinplace "s|^#!.*ruby|#!${prefix}/bin/ruby|" ${destroot}${prefix}/bin/rake
}

