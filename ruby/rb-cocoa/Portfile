# $Id: Portfile,v 1.5 2004/04/02 08:05:36 rshaw Exp $
PortSystem 1.0

name			rb-cocoa
version			0.4.0
revision		2
categories		ruby
maintainers		rshaw@opendarwin.org
description		Ruby bindings for writing cocoa programs
long_description	RubyCocoa is a Ruby library for using Cocoa Objects \
					on Mac OS X in Ruby scripts. You can use RubyCocoa \
					to work with Cocoa objects in Ruby scripts, write \
					Cocoa applications with Ruby and Interface Builder, \
					develop small scale simple Cocoa applications and \
					such.
homepage		http://www.imasy.or.jp/~hisa/mac/rubycocoa/
master_sites	http://www.imasy.or.jp/~hisa/mac/rubyosx/files/
dist_subdir		ruby
distname		rubycocoa-${version}
extract.suffix	.tgz
checksums		md5 0582ec18473d9903fa0092a11f5d283a
platforms		darwin

patchfiles		patch-rubycocoa.darwin

set ruby		${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

post-patch		{
	if {[catch {set xcodebuild [binaryInPath xcodebuild]}] == 0} {
		reinplace "s%pbxbuild%${xcodebuild}%" ${worksrcpath}/install.rb
	}
}

configure.cmd		${ruby} -rvendor-specific install.rb
configure.pre_args	config
configure.args		--install-prefix=${destroot}${prefix} \
					--install-root=${destroot}

build.cmd			${ruby} -rvendor-specific install.rb
build.target		setup

destroot.cmd		${ruby} -rvendor-specific install.rb 
destroot.destdir

