# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           muniversal 1.0
PortGroup           legacysupport 1.1

# stpncpy
legacysupport.newest_darwin_requires_legacy 10

name                dash
version             0.5.13.1
revision            0

categories          shells
license             GPL-2+
maintainers         {@Synss gmail.com:Mathias.Laurin+macports} openmaintainer
description         descendant of the NetBSD version of ash
long_description    DASH is a direct descendant of the NetBSD version of ash \
                    (the Almquist SHell) and is POSIX compliant.

homepage            http://gondor.apana.org.au/~herbert/dash

configure.checks.implicit_function_declaration.whitelist-append strchr

master_sites        http://gondor.apana.org.au/~herbert/dash/files

checksums           rmd160  2c68fca7cdae7388b584cb5c668cd837e00e11c5 \
                    sha256  d9271bce09c127d9866e25c011582ddc75ab988958a04bc4d8553a3b8f30e370 \
                    size    260512

depends_lib         port:libedit

# See https://git.kernel.org/pub/scm/utils/dash/dash.git/commit/?id=5139d6a27763fc0be386e15634db21e45598b299
# Remove when upgrading past 0.5.13.1
patchfiles-append   patch-unsigned_char.diff
patch.args          -p1

configure.args      --with-libedit
