# $Id$

PortSystem 1.0
name             calc
version          2.12.3.3
revision         1
categories       math
maintainers      nomaintainer
description      Arbitrary precision calculator
long_description \
	Calc is an interactive calculator which provides for easy \
	large numeric calculations, but which also can be easily \
	programmed for difficult or long calculations. It can \
	accept a command line argument, in which case it executes \
	that single command and exits. Otherwise, it enters \
	interactive mode. There are a great number of pre-defined \
	functions. The calculator can calculate transcendental \
	functions, and accept and display numbers in real or \
	exponential format. The calculator also knows about \
	complex numbers.
homepage         http://www.isthe.com/chongo/tech/comp/calc/
platforms        darwin
master_sites     sourceforge
checksums        md5     2b6b511bba836653a444094622e65041 \
                 sha1    1bd946c36e9bedea9166996951aae36f7ad872ae \
                 rmd160  75aacf7b572533da4430ecd2b6493fd31b15f210
use_bzip2        yes

depends_lib	 port:readline \
		 port:ncurses

patchfiles       patch-Makefile.diff
post-patch {
	reinplace "s|___PREFIX___|${prefix}|" ${worksrcpath}/Makefile
	reinplace "s|___DESTROOT___|${destroot}|" ${worksrcpath}/Makefile
	reinplace "s|___CC___|${configure.cc}|" ${worksrcpath}/Makefile
	reinplace "s|___MACOSX_DEPLOYMENT_TARGET___|${macosx_deployment_target}|" ${worksrcpath}/Makefile
}

use_configure    no
use_parallel_build no

test.run         yes
test.target      check

destroot.destdir
