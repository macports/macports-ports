# $Id$

PortSystem                      1.0

name                            pure-gsl
version                         0.4
categories                      math science
platforms                       darwin
maintainers                     ryandesign
use_parallel_build              yes
homepage                        http://pure-lang.googlecode.com/
master_sites                    ${homepage}files/

description                     a wrapper to call GNU Scientific Library \
                                functions from Pure

long_description                ${name} aims to provide a complete wrapper \
                                for the GNU Scientific Library which provides \
                                a wide range of mathematical routines useful \
                                for scientific programming, number crunching \
                                and signal processing applications.

checksums                       md5     b90a66dc18024b554662f34c033e5b45 \
                                sha1    bb89afdc3c625a2549e9518d3439094f4adcd246 \
                                rmd160  58d82ad8ebba3507d1c3103b5690c862f1d46a80

depends_lib-append              path:lib/libpure.dylib:pure \
                                port:gsl

patchfiles                      patch-Makefile.diff

use_configure                   no

pre-build {
    build.args-append           CC=${configure.cc} \
                                CFLAGS="${configure.cflags}" \
                                CPPFLAGS="${configure.cppflags}" \
                                LDFLAGS="${configure.ldflags}"
}

post-destroot {
    xinstall -d \
        ${destroot}${prefix}/share/doc/${name} \
        ${destroot}${prefix}/share/examples
    xinstall -m 644 -W ${worksrcpath} \
        COPYING \
        README \
        ${destroot}${prefix}/share/doc/${name}
    copy ${worksrcpath}/examples ${destroot}${prefix}/share/examples/${name}
}

livecheck.check                 regex
livecheck.url                   http://code.google.com/p/pure-lang/downloads/list
livecheck.regex                 ${name}-(\[0-9.\]+)\\.tar
