# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name			libsvm
epoch			1
version			2.9

categories		math
maintainers		nomaintainer
license			BSD
platforms		darwin
description		A free Support Vector Machine implementation.
long_description	${description} By Chih-Chung Chang and Chih-Jen Lin of National Taiwan University. \"LIBSVM is an integrated software for support vector classification, (C-SVC, nu-SVC), regression (epsilon-SVR, nu-SVR) and distribution estimation (one-class SVM ). It supports multi-class classification.\"
 
homepage		http://www.csie.ntu.edu.tw/~cjlin/libsvm/
master_sites	        ${homepage}

checksums           md5     c48109c825d8326d71c8c8564589736d \
                    sha1    506725e3328b7fd78b00b99b93e5fb4c90506528 \
                    rmd160  ff6207d399f59eea3329fd629fcdf4c399583a2b
patchfiles              patch-Makefile.diff

use_configure	        no

set libver              ${version}.0
build.target            all
build.args              CXX=${configure.cxx} PREFIX=${prefix} VERSION=${libver}

destroot {
    xinstall -m 755 -W ${worksrcpath} svm-train svm-predict svm-scale ${destroot}${prefix}/bin
    xinstall -m 644 -W ${worksrcpath} libsvm.a libsvm.${libver}.dylib ${destroot}${prefix}/lib
    xinstall -m 644 -W ${worksrcpath} svm.h ${destroot}${prefix}/include

    ln -sf ${name}.${libver}.dylib ${destroot}${prefix}/lib/${name}.dylib

    set docs ${destroot}${prefix}/share/doc/${name}-${version}
    xinstall -m 755 -d ${docs}
    xinstall -m 644 -W ${worksrcpath} COPYRIGHT README FAQ.html ${docs}
}

