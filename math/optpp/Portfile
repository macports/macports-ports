# $Id$

PortSystem 1.0

name		optpp
version		2.3
categories	math
maintainers	moll@isi.edu

description	C++ library for non-linear optimization
long_description	\
	OPT++ is a C++ library for non-linear optimization. 

homepage	http://csmr.ca.sandia.gov/projects/opt++/
distname	optpp-${version}
master_sites	${homepage}
extract.suffix .tar.gz
checksums	md5 dd82937f2901bdcd972bfd5260849a36

patchfiles patch-acx_blas.m4
use_autoconf yes
configure.env LDFLAGS="-framework vecLib"
configure.args --includedir=${prefix}/include/OPT++ --with-blas

variant mpi {
	configure.args-append --enable-mpi
	configure.env-append MPICC=${prefix}/lib/openmpi/bin/mpicc \
		  		 MPICXX=${prefix}/lib/openmpi/bin/mpic++ \
				 MPILIBS='-L${prefix}/lib'
	build.env MPILIBS='-L${prefix}/lib'
	depends_lib port:openmpi
}
