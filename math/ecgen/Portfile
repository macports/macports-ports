# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.1
PortGroup           github 1.0

github.setup        J08nY ecgen 0.7.5
github.tarball_from archive
revision            0

checksums           rmd160  d0ede5aec8f9c8611ca03317b1160eefe2fb93fb \
                    sha256  639ebebce8e0954e1811aade255dcfeba490cf591becd88aca2af289b0cdbf19 \
                    size    223531

categories          math
platforms           darwin
license             GPL-2+
maintainers         {@catap korins.ky:kirill} openmaintainer

homepage            https://neuromancer.sk/page/ecgen

description         Tool for generating Elliptic curve domain parameters
long_description    ${description}

depends_build-append \
                    port:argp-standalone \
                    port:posix-macos-addons

depends_lib-append  port:pari

patch.args          -p1
patchfiles          apple.patch

destroot {
    xinstall -m 755 ${build.dir}/${name} ${destroot}${prefix}/bin

    xinstall -m 0755 -d ${destroot}${prefix}/share/doc/${name}
    xinstall -m 0644 -W ${worksrcpath} LICENSE README.md ${destroot}${prefix}/share/doc/${name}
}

test.run            yes
test.cmd            ${build.dir}/ecgen
test.target         --fp -u -p -r 16
