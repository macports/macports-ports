--- ./configure.orig	2024-11-03 17:49:57
+++ ./configure	2024-11-03 17:50:06
@@ -1008,7 +1008,7 @@
 cat > conftest.$ac_ext <<EOF
 #line 1010 "configure"
 #include "confdefs.h"
-main(){return(0);}
+int main(){return(0);}
 EOF
 if { (eval echo configure:1014: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
   ac_cv_prog_cc_works=yes
@@ -1484,6 +1484,7 @@
   cat > conftest.$ac_ext <<EOF
 #line 1486 "configure"
 #include "confdefs.h"
+#include <stdlib.h>
 #include <ctype.h>
 #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
 #define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
@@ -1645,7 +1646,9 @@
 #include "confdefs.h"
 
 int main() {
-} $ac_kw foo() {
+}
+
+$ac_kw int foo() {
 ; return 0; }
 EOF
 if { (eval echo configure:1652: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
@@ -1912,6 +1915,7 @@
   cat > conftest.$ac_ext <<EOF
 #line 1914 "configure"
 #include "confdefs.h"
+#include <stdlib.h>
 #include <ctype.h>
 #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
 #define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
@@ -2488,7 +2492,7 @@
 #include "confdefs.h"
 #include <stdio.h>
 /* If setvbuf has the reversed format, exit 0. */
-main () {
+int main () {
   /* This call has the arguments reversed.
      A reversed system may check and see that the address of main
      is not _IOLBF, _IONBF, or _IOFBF, and return nonzero.  */
@@ -3020,7 +3024,7 @@
   cat > conftest.$ac_ext <<EOF
 #line 3022 "configure"
 #include "confdefs.h"
-find_stack_direction ()
+int find_stack_direction ()
 {
   static char *addr = 0;
   auto char dummy;
@@ -3032,7 +3036,7 @@
   else
     return (&dummy > addr) ? 1 : -1;
 }
-main ()
+int main ()
 {
   exit (find_stack_direction() < 0);
 }
@@ -3470,7 +3474,7 @@
 #include <sys/types.h>
 #include <sys/timeb.h>
 #include <stdio.h>
-main ()
+int main ()
 {
   struct timeb s, slast;
   int c = 0;
