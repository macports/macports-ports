# $Id$

PortSystem          1.0
name                irssi-devel
version             5140
categories          irc
maintainers         blb openmaintainer
description         modular IRC client
long_description \
   Irssi is a modular IRC client that currently has only text mode user \
   interface, but 80-90% of the code is not text mode specific, so other \
   UIs could be created pretty easily. Also, Irssi is not really even IRC \
   specific anymore, there's already a working SILC module available. \
   Support for other protocols like ICQ could be created some day too.

platforms           darwin

homepage            http://irssi.org/
conflicts           irssi
fetch.type          svn
svn.url             http://svn.irssi.org/repos/irssi/trunk
svn.revision        ${version}
# Use checkout as irssi's version calculation makes certain assumptions
svn.method          checkout
worksrcdir          trunk

depends_build       port:autoconf port:automake port:libtool port:pkgconfig \
                    port:elinks

depends_lib         port:gettext path:lib/pkgconfig/glib-2.0.pc:glib2 \
                    port:libiconv port:ncurses port:openssl port:zlib \
                    path:bin/perl:perl5

patchfiles          patch-docs_irssi.1.diff
post-patch {
   reinplace "s|@@PREFIX@@|${prefix}|g" ${worksrcpath}/docs/irssi.1
}

configure.cppflags-append   -I${prefix}/include/ncurses
configure.cmd       ./autogen.sh
configure.args      --with-proxy --with-modules --with-ncurses \
                    --enable-ipv6 --enable-ssl \
                    --without-socks --without-bot \
                    --with-perl --with-perl-lib=${prefix}/lib/perl5/darwin
configure.env-append   ARCHFLAGS=''

universal_variant   no

livecheck.type      none

