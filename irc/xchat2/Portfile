# $Id$

PortSystem 1.0
name		xchat2
version		2.8.0
categories	irc
maintainers	mij@macports.org
description	GTK+2 IRC client
homepage	http://www.xchat.org/
platforms	darwin

long_description \
		XChat2 is a graphical IRC client based on GTK2 that has \
		many features and can be scripted with Perl and/or Python.

master_sites	http://xchat.org/files/source/2.8/
patch_sites	http://xchat.org/files/source/2.8/patches/

distname	xchat-${version}

patchfiles	xc280-fix-back.diff \
		xc280-fix-ja.diff

checksums	xchat-${version}.tar.bz2 md5 dddb703d1daf9be7a7bc9461cf11ede7 \
		xchat-${version}.tar.bz2 sha1 80248b4fcd45261c686557eb243fec6ce459bd60 \
		xchat-${version}.tar.bz2 rmd160 a65329728c050c5448b2cbab2ea6c68ba72a0c95 \
		xc280-fix-back.diff md5 8d6630a2d287da274933b9e18165b095 \
		xc280-fix-back.diff sha1 ac27d4624897c5cc9011b7af134b132348e2b057 \
		xc280-fix-back.diff rmd160 eca290d5f47964d14992d0db38ada9603d7c7f48 \
		xc280-fix-ja.diff md5 e6795d111f0185592da8b0f3eafc305b \
		xc280-fix-ja.diff sha1 1bca14e6e22acfbceedd1ebcd6c0ae0260589dad \
		xc280-fix-ja.diff rmd160 92117513969886c5b882cea7594f09bb789cfd33
		
use_bzip2	yes

depends_lib	port:gtk2

patch.args	-p1

configure.env	LDFLAGS="-L${prefix}/lib -L${x11prefix}/lib" \
		CFLAGS="-I${prefix}/include" CPPFLAGS="-I${prefix}/include \
		-I${x11prefix}/include -no-cpp-precomp"

configure.args	--disable-python --disable-mmx

platform darwin 6	{ configure.args-append --enable-tcl=/System/Library/Tcl/8.3 }
platform darwin 7	{ configure.args-append --enable-tcl=/usr/lib }

variant xft	{ configure.args-append --enable-xft }
variant ssl	{ configure.args-append --enable-openssl }
variant ipv6	{ configure.args-append --enable-ipv6 }
