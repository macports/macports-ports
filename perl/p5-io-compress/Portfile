# $Id$

PortSystem            1.0
PortGroup             perl5 1.0

perl5.setup           IO-Compress 2.021
revision              1
maintainers           narf_tm openmaintainer
description           Perl interface to allow reading and writing of \
                      compressed data created with the zlib and bzip2 \
                      libraries.
long_description      ${description}

platforms             darwin

checksums             md5 126adb25479f656a2907ec7f40249c0a \
                      sha1 0ef2e4900b4315129301e389fb269ca652c94b53 \
                      rmd160 58e29f26c4469e805a967a3fec9b981364eeb6dd

post-extract {
    delete \
        ${worksrcpath}/lib/Compress \
        ${worksrcpath}/lib/File \
        ${worksrcpath}/lib/IO/Compress/Base \
        ${worksrcpath}/lib/IO/Compress/Base.pm \
        ${worksrcpath}/lib/IO/Uncompress/AnyUncompress.pm \
        ${worksrcpath}/lib/IO/Uncompress/Base.pm
}

post-patch {
    reinplace "s|VERSION_FROM => '\[^']*'|VERSION => '${version}'|" \
        ${worksrcpath}/Makefile.PL
}

depends_lib-append    port:p5-compress-zlib \
                      port:p5-compress-raw-bzip2 \
                      port:p5-compress-raw-zlib \
                      port:p5-io-compress-base
