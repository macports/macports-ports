# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        be5invis Iosevka 33.3.5 v
github.tarball_from releases
name                ttc-iosevka
revision            0

platforms           macosx
categories          fonts
license             OFL-1.1
maintainers         {judaew @judaew} openmaintainer

description         Versatile typeface for code, from code.
long_description    {*}${description}
homepage            https://typeof.net/Iosevka

dist_subdir         ${name}/${version}
distfiles           PkgTTC-Iosevka-${version}.zip

checksums           rmd160  6b3b5e21f830ca9e86452121cd3a991c51214791 \
                    sha256  8bcab36990f5cdecce8131d957107813eac87aedfd77002625520a5fa79d189a \
                    size    124477397

subport ${name}-aile {
    distfiles           PkgTTC-IosevkaAile-${version}.zip
    description         Iosevka font family - Aile stylistic variant.

    checksums           rmd160  be85771ba128e7e2dc53b3a5cb824c6cc3b01da6 \
                        sha256  206c5c4fb85d02c4d6af8aa21e8d78b87c9611e4c5d1902e805d2e92920bb8d9 \
                        size    58016793

}

subport ${name}-curly {
    distfiles           PkgTTC-IosevkaCurly-${version}.zip
    description         Iosevka font family - Curly stylistic variant.

    checksums           rmd160  d31511a3ba093e0a001e2f49fffba50fcaf7013c \
                        sha256  dddb1080b9919abdc5a49be67e3d21be2d7ece262d00de704f90df62d085bb18 \
                        size    124886938
}

subport ${name}-curly-slab {
    distfiles           PkgTTC-IosevkaCurlySlab-${version}.zip
    description         Iosevka font family - Curly Slab stylistic variant.

    checksums           rmd160  06f1311fb195960b72ca059c6acda38ebe44ad44 \
                        sha256  46b4f79d4db558fa24c666ea06e7833216f48f2c014bd1802cbb59ae0996959b \
                        size    127431012
}

subport ${name}-etoile {
    distfiles           PkgTTC-IosevkaEtoile-${version}.zip
    description         Iosevka font family - Etoile stylistic variant.

    checksums           rmd160  4a2f90fd1ba403617e825e5fda0245bb73f06555 \
                        sha256  42ce1980b72481bc0dba77c4922c67d67c52197a787d0c2be87f2e3030296971 \
                        size    61933951
}

subport ${name}-slab {
    distfiles           PkgTTC-IosevkaSlab-${version}.zip
    description         Iosevka font family - Slab stylistic variant.

    checksums           rmd160  62b17c648fe9137e624328d8b7a04dadb96ceb85 \
                        sha256  fe37dddd7abee719b82fbec331137f5b761335506a1294d0c76d09b0a9dd7065 \
                        size    127168746
}

subport ${name}-ss01 {
    distfiles           PkgTTC-IosevkaSS01-${version}.zip
    description         Iosevka font family - SS01 stylistic variant.

    checksums           rmd160  4251e699bcde880d37a49bdacd11a9e6410abd50 \
                        sha256  a0710e2482f46b8c077f4ad32bf6747aa0d763fc92b49f872cfbcef762debbfe \
                        size    30893142
}

subport ${name}-ss02 {
    distfiles           PkgTTC-IosevkaSS02-${version}.zip
    description         Iosevka font family - SS02 stylistic variant.

    checksums           rmd160  d3d5840c3ca26e5f1cdf8810ec7c7285f4fce1c2 \
                        sha256  3e4a0e73e162aba84b359e759477f5b64cbeae6086f7b9c70d7d7504ce58de85 \
                        size    31099978
}

subport ${name}-ss03 {
    distfiles           PkgTTC-IosevkaSS03-${version}.zip
    description         Iosevka font family - SS03 stylistic variant.

    checksums           rmd160  4cdbd693ad8bc878dfc8d73741c04b83d474226c \
                        sha256  f51265d63092e706e04978f15a6a30ed7e3886a8ee27f79289ff2d681fd518bb \
                        size    31533225
}

subport ${name}-ss04 {
    distfiles           PkgTTC-IosevkaSS04-${version}.zip
    description         Iosevka font family - SS04 stylistic variant.

    checksums           rmd160  be390f82c4c2c9a5150d9c8173d7793753c2cf3c \
                        sha256  11d00c4c89050d6d545cadfb68045f145aa4ce7fd57d38b45f67dbc5dddd9f9f \
                        size    30196190
}

subport ${name}-ss05 {
    distfiles           PkgTTC-IosevkaSS05-${version}.zip
    description         Iosevka font family - SS05 stylistic variant.

    checksums           rmd160  6cfbe4b7bd85d58a070ef5b537d5718e58cbdb1d \
                        sha256  7ab5fb40f497ec2caf511becf83d37492e2b5fed2a967ac2bfe90fcb649824d5 \
                        size    31220159
}

subport ${name}-ss06 {
    distfiles           PkgTTC-IosevkaSS06-${version}.zip
    description         Iosevka font family - SS06 stylistic variant.

    checksums           rmd160  46f7941aaa892327df52377d19480bc4b5bfd8e2 \
                        sha256  22728d4e05a9e27ca1dcaa5a2b6b6bfd7b6a02c742a087bf7ac47f82799b2203 \
                        size    30856550
}

subport ${name}-ss07 {
    distfiles           PkgTTC-IosevkaSS07-${version}.zip
    description         Iosevka font family - SS07 stylistic variant.

    checksums           rmd160  825d3dfea264b7f37794143a1620abfb0446ba31 \
                        sha256  fe759f795533ddf2d66e4dd6522e8bd942a427ca3be14f8b8911a987e0782b02 \
                        size    30449312
}

subport ${name}-ss08 {
    distfiles           PkgTTC-IosevkaSS08-${version}.zip
    description         Iosevka font family - SS08 stylistic variant.

    checksums           rmd160  8cd39ae918ae047272489ef0cd9575080fd6975d \
                        sha256  820674e0626bda82fcc8ef7c39fb9afbfcc6a6d8300f02c8df903bf8eadb7b66 \
                        size    31869717
}

subport ${name}-ss09 {
    distfiles           PkgTTC-IosevkaSS09-${version}.zip
    description         Iosevka font family - SS09 stylistic variant.

    checksums           rmd160  a892157d842eb7bbe2fcfc421764a7c01afb8b5c \
                        sha256  9b60e3e8ad513ed117d18e66e84cbc4f5879dbcf7afb17bbc9fd55c2f75be044 \
                        size    31597279
}

subport ${name}-ss10 {
    distfiles           PkgTTC-IosevkaSS10-${version}.zip
    description         Iosevka font family - SS10 stylistic variant.

    checksums           rmd160  7e5004ffbddbfc481648d5bd77eeb4a3c8101af5 \
                        sha256  50015c899bec3b27f442a589d3914adc8498c1f9a88db5156419e9d3d4ec168a \
                        size    31929334
}

subport ${name}-ss11 {
    distfiles           PkgTTC-IosevkaSS11-${version}.zip
    description         Iosevka font family - SS11 stylistic variant.

    checksums           rmd160  d8310e015e7aa10b6e82f163715b5b59e26bcbc5 \
                        sha256  0ccd69ac9ef2f212e72d51f0280b5f360e7d5440c7bc32ee3bc3cf16c1f9c17f \
                        size    32656656
}

subport ${name}-ss12 {
    distfiles           PkgTTC-IosevkaSS12-${version}.zip
    description         Iosevka font family - SS12 stylistic variant.

    checksums           rmd160  7a42767d42e5d343b0c0b9586643d31c7a5fe481 \
                        sha256  c264a3d77090a852c634ce65a5473213051a09929418bdd421c77ec9651b67d9 \
                        size    31851532
}

subport ${name}-ss13 {
    distfiles           PkgTTC-IosevkaSS13-${version}.zip
    description         Iosevka font family - SS13 stylistic variant.

    checksums           rmd160  848e1bbf613e9ac9ddf6b3884be74ef603db3b29 \
                        sha256  e7a0175db013634c0660d481f3a5c71c2df419a9f88c200c0c338083763bbf01 \
                        size    30776319
}

subport ${name}-ss14 {
    distfiles           PkgTTC-IosevkaSS14-${version}.zip
    description         Iosevka font family - SS14 stylistic variant.

    checksums           rmd160  224d8dd22c2125fef33cd32e38ad550e9379ca40 \
                        sha256  b322b7ff049b096840c1cde8a5d4352c912b750556d8d298e14617bb1211e2d4 \
                        size    30762826
}

subport ${name}-ss15 {
    distfiles           PkgTTC-IosevkaSS15-${version}.zip
    description         Iosevka font family - SS15 stylistic variant.

    checksums           rmd160  2e8f983b44cd4e4767f4dad9a12d381892ca27d2 \
                        sha256  906ba12e3d77819f8583e381fc0d063eb4b61e891ea3537c5d9bc54445a21489 \
                        size    34936409
}

subport ${name}-ss16 {
    distfiles           PkgTTC-IosevkaSS16-${version}.zip
    description         Iosevka font family - SS16 stylistic variant.

    checksums           rmd160  3af115cd16485413605bb312e78cb3ec614857cf \
                        sha256  c9895261235b831ce3eb421b9e0a85f3a1c2ff0e1e957d7aa83e57e37813cccd \
                        size    30691496
}

subport ${name}-ss17 {
    distfiles           PkgTTC-IosevkaSS17-${version}.zip
    description         Iosevka font family - SS17 stylistic variant.

    checksums           rmd160  66c2ca6c62456fbbdb20474d6d6a630a94b637ac \
                        sha256  fcd979b4c523a4dc82da368288c4758eb4fbb8c2cc9d50c9bed5bc7b132c0b63 \
                        size    34374094
}

subport ${name}-ss18 {
    distfiles           PkgTTC-IosevkaSS18-${version}.zip
    description         Iosevka font family - SS18 stylistic variant.

    checksums           rmd160  481b3e6c78a0e4c95a4c9e7c2957c478864a5fdc \
                        sha256  623f02617cbed36dffb42c143013e2e1729917fc6003caf7bbfd18ff45577058 \
                        size    31049991
}

depends_run     port:fontconfig

use_zip         yes
extract.mkdir   yes
use_configure   no
build           {}
test.run        no

destroot.violate_mtree yes

destroot {
    set fontdir ${destroot}/Library/Fonts/${subport}
    xinstall -m 0755 -d ${fontdir}

    foreach font [glob -nocomplain -directory ${worksrcpath} *.ttc] {
        xinstall -m 0644 ${font} ${fontdir}
    }
}

post-activate {
    ui_msg "Activating ${subport}: linking fonts to /Library/Fonts and updating font cache..."
    system "${prefix}/bin/fc-cache -v /Library/Fonts"
}
post-deactivate {
    ui_msg "Deactivating ${subport}: cleaning font cache for /Library/Fonts..."
    system "${prefix}/bin/fc-cache -v /Library/Fonts"
}
