# $Id$

PortSystem              1.0

name                    authforce
version                 0.9.9
description             A HTTP authentication brute forcer.
long_description        Authforce is an HTTP authentication brute forcer. \
                        Using various methods, it attempts brute force \
                        username and password pairs for a site. It has the \
                        ability to try common username and passwords, username \
                        derivations, and common username/password pairs. It is \
                        used to both test the security of your site and to \
                        prove the insecurity of HTTP authentication based on the \
                        fact that users just don?t pick good passwords.
maintainers             nomaintainer
categories              security www
platforms               darwin
homepage                http://divineinvasion.net/authforce/
master_sites            ${homepage}

checksums               md5     a5013c123172a2b9189124afeab74bed \
                        sha1    cf22ee24388d1399a5a55b32460d0c49d45d2e07 \
                        rmd160  783cc5acd3d380f9ba77e907c8e39747dcd36375

depends_lib             port:gettext \
                        port:curl \
                        port:readline

use_bzip2               yes

post-patch {
    reinplace "s|malloc.h|sys/malloc.h|g" ${worksrcpath}/configure \
                                          ${worksrcpath}/src/extract.c \
                                          ${worksrcpath}/src/methods.c \
                                          ${worksrcpath}/src/misc.c
}

configure.ldflags-append -lintl
configure.args          --mandir=${prefix}/share/man \
                        --infodir=${prefix}/share/info
