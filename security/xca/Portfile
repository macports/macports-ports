# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem                  1.0
PortGroup                   github 1.0
PortGroup                   qt5 1.0

github.setup                chris2511 xca 2.2.0 RELEASE.
github.tarball_from         releases

categories                  security crypto
platforms                   darwin
license                     Permissive
license_noconflict          openssl

maintainers                 {@lhaeger} openmaintainer

description                 X Certificate and Key management
long_description            XCA is a CA & PKI management tool that supports creating and managing X.509 certificates, \
                            certificate requests, RSA, DSA and EC private keys, Smartcards and CRLs.
homepage                    https://www.hohnstaedt.de/xca/

checksums                   rmd160  a1db52b0da77b5bea7f12b2cfcf134ab6853c188 \
                            sha256  b07ffbe5ca8e3fbb7c5ad2ef5a0f7c022b3c4a55f1dd41fab5b076992db07b61 \
                            size    1339377

qt5.depends_component       qtdeclarative \
                            qtmacextras \
                            qtmultimedia \
                            qtsvg \
                            qttools \
                            qttranslations \
                            sqlite-plugin

variant RemoteSQL description { Add support MySQL/MariaDB and PostgreSQL databases } {
    qt5.depends_component   qtdeclarative \
                            qtmacextras \
                            qtmultimedia \
                            qtsvg \
                            qttools \
                            qttranslations \
                            sqlite-plugin \
                            mysql-plugin \
                            psql-plugin
}

depends_lib-append          port:libtool \
                            path:lib/libssl.dylib:openssl

configure.cppflags-append   -L${prefix}/lib

build.target                xca.app

destroot {
    copy ${worksrcpath}/${name}-${version}/${name}.app ${destroot}${applications_dir}
}
