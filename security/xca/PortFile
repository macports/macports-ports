# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem                  1.0

name                        xca
version                     2.1.2
revision                    0

categories                  security crypto
platforms                   darwin
license                     xca

maintainers                 {@lhaeger} openmaintainer

description                 X Certificate and Key management
long_description            XCA is a CA & PKI management tool that supports creating and managing X.509 certificates, \
                            certificate requests, RSA, DSA and EC private keys, Smartcards and CRLs.
homepage                    https://www.hohnstaedt.de/xca/

master_sites                https://github.com/chris2511/xca/releases/download/RELEASE.${version}/
distname                    ${name}-${version}

checksums                   rmd160  16717ab6eb2cd33599d9606b7908551ad01bbff3 \
                            sha256  fc845470a02b0b4534b46590be307f784662071fc412fdcad605c3bce901fe05 \
                            size    1086563

depends_lib                 port:qt5-qtbase \
                            port:qt5-qtmacextras \
                            port:qt5-qttranslations \
                            port:qt5-qtdeclarative \
                            port:qt5-qtmultimedia \
                            port:qt5-qtsvg \
                            port:qt5-qttools \
                            port:qt5-sqlite-plugin \
                            port:openssl \
                            port:libtool

patchfiles                  patch-disable-codesigning.diff

configure.cppflags-append   "-I${prefix}/include -L${prefix}/lib"

build.target                xca.app

destroot.violate_mtree      yes
destroot {
    copy ${worksrcpath}/${name}-${version}/${name}.app ${destroot}${applications_dir}
}