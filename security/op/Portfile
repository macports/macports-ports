# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem 1.0

name            op
version         0.1.1

categories      security
platforms       darwin
supported_archs x86_64
maintainers     @breun openmaintainer

description     The 1Password command-line tool (op) makes your 1Password account \
                accessible entirely from the command line.

long_description A simple op signin will securely authenticate you with the 1Password service \
                and give you access to a wide range of capabilities: \
		\
		Getting usernames and passwords from items: \
		\
		> op get item OpenProxy | jq '.details.fields[] | select(.designation=="password").value' \
		"genuine-adopt-pencil-coaster" \
		\
		Creating new items and vaults: \
		\
		> op create item login \$(cat aws.json | op encode) --title="AWS" \
		{"uuid":"5hinhvejl7wtmbeorfts7ho3di","vaultUuid":"i5imjpvdivbsxo56m2ap2n66gy"} \
		\
		> op create vault devops \
		{"uuid":"ny5khay7t3lmhrp4pjsxl4w34q"} \
		\
		Working with documents: \
		\
		> op create document ./devops.pdf --vault=devops --tags=architecture \
		{"uuid":"i3rsiwjfh7aryvbu5odr4uleki","vaultUuid":"ny5khay7t3lmhrp4pjsxl4w34q"} \
		\
		If you're a team administrator, you can also manage other users and shared vaults â€” all without leaving your terminal: \
		\
		> op suspend john@acmecorp.com

homepage        https://support.1password.com/command-line-getting-started/
master_sites    https://cache.agilebits.com/dist/1P/op/pkg/v${version}/

distname	${name}_darwin_amd64_v${version}

worksrcdir	.

checksums       rmd160  2a08f2514dff6d1773a87590454f0703f0622bbb \
                sha256  95eb4cfd62a5bf1eab99d4acb24ab9229fc4dfb16a931dd7f9628f88b54c1fc7

use_zip		yes
use_configure   no

build {}

destroot {
    copy ${worksrcpath}/op ${destroot}${prefix}/bin/op
}
