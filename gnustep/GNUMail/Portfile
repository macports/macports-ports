# $Id: Portfile,v 1.1 2006/07/28 04:43:54 yves Exp $

PortSystem 1.0
PortGroup   gnustep 1.0

name		GNUMail
version		1.2.0pre2
platforms	darwin
maintainers	yves@macports.org
description	Fully featured mail application using GNUStep or Cocoa.
long_description	GNUMail.app is a fully featured mail application \
			running on multiple platforms. It uses the GNUstep \
			development framework or Apple Cocoa, which are based \
			on the OpenStep specification provided by NeXT, Inc.. \

homepage        http://www.collaboration-world.com/gnumail/
master_sites	http://www.collaboration-world.com/gnumail.data/releases/Stable/
checksums       md5 0f91fe0c32ef369ea843a2ab3909fb2b

depends_lib    port:Addresses port:Pantomime
worksrcdir     ${name}

post-patch {
    set bundlepath ${worksrcpath}/Bundles
    foreach i { Account Advanced Colors Compose Filtering Fonts \
            Import MIME Receiving Sending Viewing } {
        reinplace "s|lGNUMail|lGNUMail -lPantomime -lAddresses -lAddressView|g" \
            $bundlepath/$i/GNUmakefile
    }
}

build.args-append LINK_AGAINST_ALL_LIBS=yes    

