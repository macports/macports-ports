# $Id$

PortSystem 1.0

name                rasmol
version             2.7.1.1
revision            2
description         Molecular graphics visualisation tool
categories          science graphics
maintainers         nomaintainer
distname            RasMol_${version}
master_sites        http://www.bernstein-plus-sons.com/software/
checksums           md5 0d5c99eeda079d8cbf413944d284740b 
depends_lib         lib:libX11.6:XFree86
patchfiles          patch-Imakefile.diff
pre-patch           { reinplace "s|@PREFIX@|${prefix}|g" ${portpath}/${filesdir}/patch-lmakefile.diff  }
worksrcdir          RasMol_${version}/src
configure.cmd       xmkmf
configure.pre_args
build.target        rasmol
destroot             { cd ${workpath}/${distname}
                     file mkdir ${destroot}${prefix}/share/man/man1
                     system "cp doc/rasmol.1.gz ${destroot}${prefix}/share/man/man1"
                     system "cp src/rasmol ${destroot}${prefix}/bin"
                     file mkdir ${destroot}${prefix}/lib/rasmol
                     system "cp doc/rasmol.hlp ${destroot}${prefix}/lib/rasmol"
                     system "cp -r data  ${destroot}${prefix}/lib/rasmol"
 }
 
platform darwin 6 { depends_lib-append lib:libdl:dlcompat }

long_description \
RasMol is a molecular graphics program  intended  for  the \
visualisation  of  proteins,  nucleic  acids  and  small \
molecules.  The program is aimed at display, teaching  and \
generation of publication quality images. 
