# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/shenwei356/taxonkit 0.20.0 v
revision            0

homepage            https://bioinf.shenwei.me/taxonkit

description         A Practical and Efficient NCBI Taxonomy Toolkit
long_description    {*}${description}

categories          science
installs_libs       no
license             MIT
maintainers         {gmail.com:herby.gillot @herbygillot} \
                    openmaintainer

build.pre_args-append \
                    -o ./_bin/${name}
build.args          ./${name}

post-build {
    # generate shell completions
    file mkdir ${worksrcpath}/_completions

    foreach shell {bash fish zsh} {
        system -W ${worksrcpath} \
            "./_bin/${name} genautocomplete --shell ${shell} --file ./_completions/${name}.${shell}"
    }
}

destroot {
    xinstall -m 0755 ${worksrcpath}/_bin/${name} ${destroot}${prefix}/bin/

    xinstall -d ${destroot}${prefix}/share/bash-completion/completions
    copy ${worksrcpath}/_completions/${name}.bash \
        ${destroot}${prefix}/share/bash-completion/completions/${name}

    xinstall -d ${destroot}${prefix}/share/fish/vendor_completions.d
    copy ${worksrcpath}/_completions/${name}.fish \
        ${destroot}${prefix}/share/fish/vendor_completions.d/

    xinstall -d ${destroot}${prefix}/share/zsh/site-functions
    copy ${worksrcpath}/_completions/${name}.zsh \
        ${destroot}${prefix}/share/zsh/site-functions/_${name}
}

checksums           ${distname}${extract.suffix} \
                        rmd160  6b898de00b44031f952d9b6f1f3757b09cd9f293 \
                        sha256  eb5a6641264f84997eaa22df7c9cad735c100b434dfd62c2560aba78164f34f6 \
                        size    1537570

go.vendors          gopkg.in/yaml.v3 \
                        lock    v3.0.1 \
                        rmd160  e85ac1368fb7f9ef945b7fd7bd608a1f0d261c12 \
                        sha256  f3ea6be3f405ec25f8799773355aba54f8831d11f5315a01155bdc69b92eca7b \
                        size    91208 \
                    gopkg.in/check.v1 \
                        lock    10cb98267c6c \
                        rmd160  465dcadb97762c84da6fb5f6d8352abe10445817 \
                        sha256  98ec7bd0dc7d4bcee7dcafe02efab29f14dc392f43b227e517beef064e9b6369 \
                        size    32368 \
                    golang.org/x/sys \
                        lock    v0.6.0 \
                        rmd160  eed022d31d3cd2b2a5c7d1bad325b6667db1d831 \
                        sha256  28b3d661c0b094ccb133bb2f30a2db8fcd64be036f4fc42ee6c2ab4b00867bd3 \
                        size    1435230 \
                    golang.org/x/sync \
                        lock    6e8e738ad208 \
                        rmd160  b50eb9cb0f7b2bad48d78cc71f18b017961c1517 \
                        sha256  b60803296aa11c95c6e60320add93627ae9aa03155bd73c47a745acfcd793e95 \
                        size    17291 \
                     github.com/bits-and-blooms/bitset\
                        lock    v1.1.10 \
                        rmd160  9bb547e08d7aa4db0787459e2e985d88d34ce3a6 \
                        sha256  4b78f1ac06eb7ed1f479e871bfe0b78801faae64bedfac0ba14b8720583913e6 \
                        size    18732 \
                    github.com/ulikunitz/xz \
                        lock    v0.5.11 \
                        rmd160  9cb92430df749360c976374df6f2fcf13813aa80 \
                        sha256  4093c9405de9126b0053ddb68a0a02ec829646cba3e38e99405eb6b1d44bef94 \
                        size    4175522 \
                    github.com/twotwotwo/sorts \
                        lock    bf5c1f2b8553 \
                        rmd160  81221d359f55a5186e7f1b696f95628d8a6c83e2 \
                        sha256  530f714cc0ecceaa69bcd87e8be6fe4d4784680926b5838bc93ba96efb7e4be8 \
                        size    20277 \
                    github.com/tinylib/msgp \
                        lock    v1.1.0 \
                        rmd160  2e245ae72e0ad5ea022de816b938039a2ced309c \
                        sha256  7f34920b61f4101f381ca24d78a946d3c9044d85d8a5314789740b9a80a2d484 \
                        size    77955 \
                    github.com/suggest-go/suggest \
                        lock    3b44145ad0b0 \
                        rmd160  22261ee89f9eeda2752f6f9750ffdcbe5d446b85 \
                        sha256  f20fbb6ce05c3a4d8a9968086251c7a8a5d7ff9ed11ec1a034194999705fab42 \
                        size    17502318 \
                    github.com/stretchr/testify \
                        lock    v1.6.1 \
                        rmd160  7e5b798212a8f15cd58a63985ae0b928eede8e6b \
                        sha256  44d77d9b5c1dc08fa710eac9bb324898210660458085cdf965b78a39b1010f2a \
                        size    84248 \
                    github.com/spf13/pflag \
                        lock    v1.0.5 \
                        rmd160  2ce81608a38c6f383a35bccd24d64361df5828c9 \
                        sha256  7f41acdcba65b1fab5b9b633947a139f9915b60f94bdab486cdbe9d90c54f61e \
                        size    50815 \
                    github.com/spf13/cobra \
                        lock    v1.8.0 \
                        rmd160  d506ddb57519970c8227ded6411adb8153fc8278 \
                        sha256  f35c4dd06645b4bca315c7d7f9a245f9d8851bb5fd43331fcb2aadbd585149e9 \
                        size    189731 \
                    github.com/snowballstem/snowball \
                        lock    v2.0.0 \
                        rmd160  ae6d14e94a046f3a8b8f7deb9b3a0668db87020a \
                        sha256  3c9d48f94423254e4dffab9b492d3f73a517665bbcdcd59f9b5a316d6eff4509 \
                        size    180069 \
                    github.com/shenwei356/xopen \
                        lock    v0.3.2 \
                        rmd160  d61bc7b119eae9c2ba8628eb9261c8625f7c9431 \
                        sha256  bd3ac21f403b66054b997546e6d64990ac11040b913df7be8603920858520ef8 \
                        size    5465 \
                    github.com/shenwei356/util \
                        lock    v0.5.2 \
                        rmd160  c84b076590f90a2d956207af20c2a0618a5489cf \
                        sha256  ca66df67ea545cc8ac3b6161e08f8bea910334ea9fe2ef182a26f32f964cc32a \
                        size    19511 \
                    github.com/shenwei356/natsort \
                        lock    600d539c017d \
                        rmd160  0bb5b0be23c420e7f78ecd4a828723bf4b25a8b4 \
                        sha256  2ec5ec225c989aa55cb36f5dc934c70c4603bf16a0f14348cd11008a4dcff2f2 \
                        size    2881 \
                    github.com/shenwei356/go-logging \
                        lock    c6b9702d88ba \
                        rmd160  a2783cef9aae20774bc57487a24399ba0bc73a34 \
                        sha256  0c63959d52155df093c489ac2d57c83e9a628ebf531b1cfe8789d70f3f591787 \
                        size    36404 \
                    github.com/shenwei356/breader \
                        lock    v0.3.2 \
                        rmd160  19ed4ee111083c37cba50e4c814033f173abcbe8 \
                        sha256  fc88db9d953723faf2eec3301436fe1aaf79b599bf63d65e0f8c65b8d1855ced \
                        size    5519 \
                    github.com/shenwei356/bio \
                        lock    v0.13.6 \
                        rmd160  ee7ba11bfea39e5a22bdb737ca10acdf0eebc4e3 \
                        sha256  ae167108166299ab40ee48913c5d969b6b278686256e33270031c4430946b50c \
                        size    237302 \
                    github.com/rogpeppe/go-internal \
                        lock    v1.9.0 \
                        rmd160  acb8f644e5634bdae632cdb61ea736422aeb88f0 \
                        sha256  65b0852e5c78fa920fef2176fa17180bf1f7f32a1163baacb44c2aa480845a16 \
                        size    133682 \
                    github.com/pmezard/go-difflib \
                        lock    v1.0.0 \
                        rmd160  fc879bfbdef9e3ff50844def58404e2b5a613ab8 \
                        sha256  7cd492737641847266115f3060489a67f63581e521a8ec51efbc280c33fc991f \
                        size    11409 \
                    github.com/pkg/errors \
                        lock    v0.9.1 \
                        rmd160  dc065c655f8a24c6519b58f9d1202eb266ecda40 \
                        sha256  208d21a7da574026f68a8c9818fa7c6ede1b514ef9e72dc733b496ddcb7792a6 \
                        size    13422 \
                    github.com/philhofer/fwd \
                        lock    v1.0.0 \
                        rmd160  f5e8813781a27877b70d6e88080d519ae28889b9 \
                        sha256  d822cf6242107f59167dd46f8c314542b087a12e7715fa5a37e2e6221cc017c9 \
                        size    9223 \
                    github.com/mschoch/smat \
                        lock    90eadee771ae \
                        rmd160  ee012f9dc0f9d7d4c3375ab685933ecc53a5736c \
                        sha256  1cab3cb40858c3c47c78691b38fbc4f32dfedc8fb96cf95a2ea1404f54036ca6 \
                        size    11994 \
                    github.com/mitchellh/go-homedir \
                        lock    v1.1.0 \
                        rmd160  44b3985e40e5bbb22d11f8622c340f9ed727ea91 \
                        sha256  024c8a57316c7fbc0eb23cdbfd57f72a74b51beb83d714034d67ee9aba48100c \
                        size    3366 \
                    github.com/mattn/go-isatty \
                        lock    v0.0.12 \
                        rmd160  4f55aecbddbee6089cbac8456d2932bce2cb57e7 \
                        sha256  d4d1912998d401389e06ee1dbed06e32a8db95350416f227fbe6a59ac84f0651 \
                        size    4549 \
                    github.com/mattn/go-colorable \
                        lock    v0.1.10 \
                        rmd160  1f1712c6403eb362f26f2cddf9998c5ad5b835ab \
                        sha256  d1e3c6c0a19ff08cfb0861ef47734c476b7739453e5d0d277f57acbe7f854ebb \
                        size    9608 \
                    github.com/kr/text \
                        lock    v0.2.0 \
                        rmd160  48558c7e8ff67d510f83c66883907e95f4783163 \
                        sha256  2f2e21ac8a9d523e88cbba4039441defc4a66bfaa78811c900a88fcf28729c4c \
                        size    8702 \
                    github.com/kr/pretty \
                        lock    v0.3.1 \
                        rmd160  8c08579b4c56cdc958794e77afe3413e80aa67c3 \
                        sha256  7fcea475d6280976cf4a838e75d2b3a4105827316e588a80e49e8063d950c999 \
                        size    10232 \
                    github.com/klauspost/pgzip \
                        lock    v1.2.5 \
                        rmd160  6fe0c7919ab2e059d204500b2b2b97061fa65d77 \
                        sha256  d7a8b291e14bb9a7a1b45b7e83cfbae89933295a47516473d77dced37558ceb2 \
                        size    125942 \
                    github.com/klauspost/compress \
                        lock    v1.16.3 \
                        rmd160  d332f7823f9a534c856eb4e45a9561b5651007fc \
                        sha256  c3e427e55b8da9f7d5b7abbaaa57f0ead007e0c34ce984a73f6e67aa1d434c57 \
                        size    37731126 \
                    github.com/jtolio/gls \
                        lock    v4.20.0 \
                        rmd160  8e721b1aa6de0606caa5a2a038ddd53a0d05d7b4 \
                        sha256  6f98dcae4c326cbfb0400e6a01604511e544957ea88494e979ace881e2058cbb \
                        size    7308 \
                    github.com/inconshreveable/mousetrap \
                        lock    v1.1.0 \
                        rmd160  88f9577df93ac0f8801d8960adc7f28e38867f3e \
                        sha256  f69af10ff08c0e87f92dac3ee5172d8ed02463725b74edfc8943ef018a1a632d \
                        size    5343 \
                    github.com/gopherjs/gopherjs \
                        lock    9d188e94fb99 \
                        rmd160  ef9d5582650814a4e3bc2e236f788c66bfd28901 \
                        sha256  7407999b453c7a875c3e5b53075a6b408f9126e1f97a8d7bf548fc01507ace72 \
                        size    225650 \
                    github.com/golang/snappy \
                        lock    v0.0.1 \
                        rmd160  a10055b1a93ad290e600742c23156dbd55afe046 \
                        sha256  5ca0dcca007398f298a6386af5d4696faba962b6a625e3aa3961d212078722b8 \
                        size    62627 \
                    github.com/glycerine/goconvey \
                        lock    58a59202ab31 \
                        rmd160  9eef24b7a6eb1760023e844925186c23a16af10d \
                        sha256  a7355805ad02e6bf50514f9f7973950ddca8dd407761e0410e5388eccafdf08e \
                        size    1267366 \
                    github.com/glycerine/go-unsnap-stream \
                        lock    f9677308dec2 \
                        rmd160  c51fb90fe3dbc9ada35317bc733d70682b486bdd \
                        sha256  2ecb34dc37a0bbe32e3d78af7e39a840a4c320266b6a883e3855186cdd3ac528 \
                        size    19011 \
                    github.com/edsrzf/mmap-go \
                        lock    v1.0.0 \
                        rmd160  464e676a757346001b45b94c95d22a30a74e0688 \
                        sha256  9a7ff17a73515fb53ccc0c911a86e1310ca72c6da1474e4a56dc242179e4c885 \
                        size    5466 \
                    github.com/dsnet/compress \
                        lock    v0.0.1 \
                        rmd160  44a9ba6d99a11d15815c3600f997b48abfec5bd5 \
                        sha256  42eac045c3c85d633e26d3dfdf62ff0a2c7b970397baaa0de85f5de783489705 \
                        size    9963201 \
                    github.com/davecgh/go-spew \
                        lock    v1.1.0 \
                        rmd160  0303eae19a01f38fe314921fd965e4d09b9ef3ad \
                        sha256  810a597004388d68bb92d8aa612375419ba1080dd5fc2c66dd41b58f0ba4442c \
                        size    42348 \
                    github.com/cespare/xxhash \
                        lock    v2.1.2 \
                        rmd160  aa8f44c877aeb7a980aba19d9d84e6b20e52560d \
                        sha256  4bc66a9c435d9fa48cc9f8cb72c402a863943d594c1b1f8b5f421541c58150d2 \
                        size    11252 \
                    github.com/alldroll/cdb \
                        lock    v1.0.2 \
                        rmd160  d394b5cd9465b9e159ecccf66745c8d7e223f810 \
                        sha256  9dbd418a2fe4a99451faa4a5e98180e269c96cb449c477dbe91887acffbdb2ff \
                        size    7647 \
                    github.com/RoaringBitmap/roaring \
                        lock    v0.5.5 \
                        rmd160  87dd5414c00bb34cb38618bf8f19d0293986789d \
                        sha256  eaf8b0b23ae82d664c40ae9a75664cf3df6b7095b1c2be92c0e42369456318ef \
                        size    141656152
