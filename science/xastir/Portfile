# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           app 1.0

name                xastir
categories          science
license             GPL-2+
maintainers         {ra1nb0w @ra1nb0w} openmaintainer
description         Amateur Radio APRS tracking software
long_description    {*}${description}
homepage            http://www.xastir.org/

github.setup        Xastir Xastir 2.2.2 Release-
github.tarball_from archive
checksums           rmd160  3db74760bfc66accd4bf9302c3c222020f9d9f2e \
                    sha256  e80d1640ef2b8071984a633d45beae878c120d6012cb371405b160a06b328542 \
                    size    2246995
revision            0

use_autoconf        yes
autoconf.cmd        ./bootstrap.sh

depends_build       port:autoconf \
                    port:automake \
                    port:pkgconfig

depends_lib         port:xorg-libXp \
                    port:xpm \
                    port:xorg-libXt \
                    port:fontconfig \
                    lib:libXm:openmotif \
                    port:libgeotiff \
                    port:ImageMagick \
                    port:gdal \
                    port:pcre \
                    port:db48 \
                    port:tiff \
                    port:proj \
                    port:shapelib \
                    port:curl

patchfiles          patch-acinclude.m4.diff \
                    patch-configure.ac.diff

configure.args      --without-graphicsmagick

configure.cppflags-append \
                    -I${prefix}/include/db48 \
                    -I${prefix}/lib/proj9/include
configure.ldflags-append \
                    -L${prefix}/lib/db48 \
                    -L${prefix}/lib/proj9/lib

app.create yes
app.name Xastir
app.executable xastir
app.icon symbols/icon.png
app.retina yes
