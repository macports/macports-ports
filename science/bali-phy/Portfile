PortSystem 1.0

name                bali-phy
version             3.0-beta6
revision            6
description         Estimation of phylogeny and multiple alignment via MCMC
long_description    Estimation of phylogeny and multiple alignment via MCMC \
                    BAli-Phy that estimates multiple sequence alignments and \
		    evolutionary trees from DNA, amino acid, or codon sequences.\
		    BAli-Phy uses MCMC and Bayesian  methods to estimate \
		    evolutionary trees, positive selection, and branch lengths \
		    while averaging over alternative alignments. \
		     \
		    BAli-Phy can also estimate phylogenies from a fixed \
		    alignment (like MrBayes and BEAST) using substitution \
		    models like GTR+gamma.  BAli-Phy automatically estimates \
		    relative rates for each gene.
categories          science
platforms           darwin
maintainers         nomaintainer
homepage            http://www.bali-phy.org/

# By using a SHA, this should be completely reproduceable.
fetch.type	    git
git.url		    https://github.com/bredelings/BAli-Phy.git
git.branch	    7c46f800d533947b34142fdcf9597f14335b8c37

depends_build       port:pkgconfig port:meson port:ninja
depends_lib         port:boost path:lib/pkgconfig/cairo.pc:cairo

#configure:
configure.env-append	CC=${configure.cc} CXX=${configure.cxx}
configure.cmd	    meson
configure.args	    builddir --prefix=${prefix} --buildtype=release -Dwith-system-boost=True

#build: ${build.cmd} ${build.target} ${build.args} = ninja -C builddir
build.cmd	    ninja
build.target	    
build.args          -C builddir

#destroot: ${build.cmd} ${destroot.target} = ninja install
