# $Id: $

PortSystem      1.0
name            libnc-dap
version         3.7.0
revision        1
platforms       darwin 
maintainers     takeshi@mac.com
categories      science
description     an alternative implementation of Unidata's netCDF 3.6 API
master_sites    ftp://ftp.unidata.ucar.edu/pub/opendap/source/ \
                ftp://ftp.unidata.ucar.edu/pub/opendap/source/old/
checksums       md5 cb1c518725e1b2bb6078a691a2377eea
homepage        http://www.opendap.org/
long_description \
                The netCDF Client Library is an alternative implementation of   \
                Unidata's netCDF 3.6 API. Our version adds the capability to    \
                dereference OPeNDAP URLs. You can substitute our version of     \
                the library when linking your application and then simply pass  \
                an OPeNDAP URL in where you would normally use a file name. 
patchfiles      patch-Makefile.in
depends_lib     port:curl \
                port:gcc40 \
                port:libdap \
                port:libxml2

configure.env   FC=gfortran-dp-4.0

platform darwin 8 i386 {
    if {![variant_isset g95]} {
        depends_lib-delete      port:gcc40
        depends_lib-append      port:gcc42
        configure.env-delete    FC=gfortran-dp-4.0
        configure.env-append    FC=gfortran-dp-4.2
    }
}

variant g95 {
    depends_lib-delete      port:gcc40
    depends_lib-append      port:g95
    configure.env-delete    FC=gfortran-dp-4.0
    configure.env-append    FC=${prefix}/bin/g95 
}