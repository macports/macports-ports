# $Id$

PortSystem	1.0
PortGroup xcode 1.0

name		istumbler
version		97
categories	aqua
maintainers	nomaintainer
description	iStumbler is an Aqua GUI for finding wireless networks
long_description	iStumbler is a free, open source tool for finding \
		802.11b & 802.11g  wireless networks. iStumbler \
		combines a compact Aqua user interface  with visual \
		feedback of signal strength and encryption. \
		Use the +use_binary (default) variant as building from source \
		remains problematic.
homepage	http://www.istumbler.net/
master_sites	\
	http://www.istumbler.net/downloads/ \
	http://www.istumbler.net/archive/release${version}/downloads/

distname	${name}-${version}-src
extract.suffix	.tgz
checksums	md5 4fdb3cfde6f8012d47195571b1babfcb \
		sha1 5e630c36ee0f41f14add1066bb7981ccd3f34901 \
		rmd160 51463551690fa32dc1803b07a35113ca69ec7d4b

worksrcdir	iStumbler

xcode.target	iStumbler
xcode.configuration	Release
xcode.build.settings	\
	OTHER_CFLAGS="-I${worksrcpath}/Frameworks" \
 	OTHER_CFLAGS="-I${worksrcpath}/build" \
	SYMROOT=${worksrcpath}/build
#	FRAMEWORK_SEARCH_PATHS=${worksrcpath}/build
#	BUILT_PRODUCTS_DIR=${worksrcpath}/build
#	OTHER_LDFLAGS="-I${worksrcpath}/Frameworks" \

default_variants +use_binary

variant use_binary conflicts use_source {
	distname ${name}-${version}
	checksums	md5 23eb2b3621c2bbc0ce3884faa5117f31
	patch {}
	use_configure	no
	build {}
	destroot {
		file mkdir ${destroot}/Applications/MacPorts
		file copy ${workpath}/iStumbler.app ${destroot}/Applications/MacPorts
	}
}

variant use_source {
}
