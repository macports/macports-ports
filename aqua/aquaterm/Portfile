# $Id: Portfile,v 1.2 2004/09/30 17:09:02 rshaw Exp $
PortSystem		1.0

name			aquaterm
version			0.3.2
revision		1
categories		aqua
maintainers		rshaw@opendarwin.org
description		AquaTerm is a viewer that displays vector graphics on Mac OS X
long_description	AquaTerm is a viewer app that displays vector \
					graphics.  Other apps connect to AquaTerm using a \
					simple remote object messaging protocol.  By adding \
					"adapters" to legacy code very little coding is \
					needed to bring it to OS X.
platforms		darwin
homepage		http://aquaterm.sourceforge.net/
master_sites	sourceforge
checksums		md5 cc0d6159091705ad71c6d4713e65a47c
worksrcdir		AQT

configure		{ cd ${worksrcpath}
				  reinplace "s|/usr/local|${prefix}|" \
					  octave/Makefile \
					  plplot/README
				  reinplace "s|../../aquaterm|${prefix}/include/aquaterm|" \
					  c/README \
					  fortran/README \
					  octave/Makefile }

build.type		pbx
build.dir		${worksrcpath}/${name}
build.target
pre-build		{ system "rm -rf ${worksrcpath}/AquaTerm.app" }

destroot		{ set incPath ${destroot}${prefix}/include/${name}
				  set sharePath ${destroot}${prefix}/share/${name}
				  set appPath ${destroot}/Applications/DarwinPorts
				  cd ${worksrcpath}/include
				  xinstall -d -m 0755 ${incPath}
				  xinstall -m 0644 \
					  AQTBaseMethods.h AQTExtendedMethods.h AQTProtocol.h \
					  ${incPath}/
				  cd ${worksrcpath}
				  xinstall -d -m 0755 ${sharePath}
				  system "cp -R c fortran gnuplot octave pgplot plplot \
					  ${sharePath}/"
				  cd ${worksrcpath}/${name}/build
				  xinstall -d -m 0755 ${appPath}
				  system "ditto -v -rsrcFork AquaTerm.app \
					  ${appPath}/AquaTerm.app" }

