--- XLD/XLDController.m.orig
+++ XLD/XLDController.m
@@ -2828,7 +2828,7 @@
 		[task setTrack:track];
 	}
 	if(removeFlag && [o_warnBeforeConversion state] == NSOnState) {
-#if MAC_OS_X_VERSION_MAX_ALLOWED >= 1060
+#if MAC_OS_X_VERSION_MAX_ALLOWED >= 1060 && !defined(__ppc__)
 		__block int ret;
 		if (![NSThread isMainThread]) {
 			dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);
@@ -3365,13 +3365,7 @@
 	BOOL isDir;
 	NSFileManager *mgr = [NSFileManager defaultManager];
 	NSString *filter = ([o_limitExtension state] == NSOnState) ? [[o_extensionFilter stringValue] lowercaseString] : nil;
-#if MAC_OS_X_VERSION_MAX_ALLOWED >= 1060
 	unsigned long modifierFlags = [NSEvent modifierFlags];
-#else
-	unsigned long modifierFlags = 0;
-	UInt32 carbonModifierFlags = GetCurrentKeyModifiers();
-	if(carbonModifierFlags & cmdKey) modifierFlags |= NSCommandKeyMask;
-#endif
 	[mgr fileExistsAtPath:[queue objectAtIndex:0] isDirectory:&isDir];
 	firstDrag = YES;
 	if(([queue count] == 1) && !isDir) {
--- XLD/main.m.orig
+++ XLD/main.m
@@ -45,7 +45,7 @@
 			Method toMethod   = class_getInstanceMethod([NSBundle class],@selector(mod_infoDictionary2));
 			method_exchangeImplementations(fromMethod, toMethod);
 			XLDDarkModeSupportEnabled = 1;
-			[pref registerDefaults:@{@"NSLayerPerformanceUpdates": @(YES)}];
+			[NSDictionary dictionaryWithObject:[NSNumber numberWithBool:YES] forKey:@"NSLayerPerformanceUpdates"];
 		}
 #if MAC_OS_X_VERSION_MAX_ALLOWED >= 101400
 		else {
