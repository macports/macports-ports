# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.1
PortGroup           github 1.0
PortGroup           qt5 1.0

github.setup        Gnurou tagainijisho 1.2.2
license             GPL-3+
categories          aqua education japanese
platforms           darwin
maintainers         nomaintainer

description         A free Japanese dictionary and study assistant

long_description    Tagaini Jisho is a free, open-source Japanese \
                    dictionary and kanji lookup tool that is available \
                    for Windows, Mac OS X and Linux and aims at \
                    becoming your Japanese study assistant. It allows \
                    you to quickly search for entries and mark those \
                    that you wish to study, along with tags and \
                    personal notes. \
                    It also let you train entries you are studying \
                    and follows your progression in remembering them. \
                    Finally, it makes it easy to review entries you \
                    did not remember by listing them on screen \
                    or printing them on a small booklet.

homepage            http://www.tagaini.net/
github.tarball_from releases

checksums           rmd160  83a9ecc7f1d5b5ba0ec6871c66a79e2590bb14e0 \
                    sha256  10fa6aa3a2e0eea0f4456236ac3020db73c76f65cb31a76ad74a107b2d739003 \
                    size    32366512

# Needed for Qt5LinguistTools
depends_lib-append  port:qt5-qttools

patchfiles          patch-CMakeLists.txt.diff \
                    patch-gui-CMakeLists.txt.diff \
                    patch-pack-CMakeLists.txt.diff

configure.pre_args  -DCMAKE_INSTALL_PREFIX=${applications_dir}

post-destroot {
#    file copy ${cmake.build_dir}/src/gui/Tagaini\ Jisho.app \
#        ${destroot}${applications_dir}/Tagaini\ Jisho.app
    file copy ${filespath}/qt.conf \
        ${destroot}${applications_dir}/Tagaini\ Jisho.app/Contents/Resources/
}
#destroot {
#    file copy ${cmake.build_dir}/src/gui/Tagaini\ Jisho.app \
#        ${destroot}${applications_dir}/Tagaini\ Jisho.app
#    file copy ${filespath}/qt.conf \
#        ${destroot}${applications_dir}/Tagaini\ Jisho.app/Contents/Resources/
#}
