# $Id$

PortSystem 1.0

name			Growl
set base_version	1.1
version			${base_version}
categories		aqua
platforms		darwin
maintainers		boeyms openmaintainer
description		global notification system for Mac OS X
long_description	Growl is a global notification system for Mac OS X. Any \
				application can send a notification to Growl, which will \
				display an attractive message on your screen.

homepage		http://growl.info/

# At present, the only working sources are in an SVN repository; will switch
# back to a tarball once a working one is available.

master_sites	${homepage}files/source/
checksums		md5 97a239744bb00aa80cd5a15d178ef620 \
				sha1 15e880ea4621079447bbd7e493856b810c57c6c0 \
				rmd160 fe96add9e757ca941d48c002f5bed6b9a66771dd
use_bzip2		yes
worksrcdir		${distname}-source
distname		${distname}-src

#fetch.type		svn
#svn.url			http://src.growl.info/growl/branches/growl-${base_version}
#svn.tag			4293
#worksrcdir		growl-${base_version}
#depends_build	bin:svn:subversion

# The following patch selection makes the source build for a single
# architecture, rather than as universal binaries as the distributed source is
# configured to do.  This probably plays havoc with the MacPorts +universal
# variant, so I'll need to think further about this.
patchfiles		patch-Growl.xcodeproj__project.pbxproj.${os.arch}.diff
use_configure		no
build.target		growl
destroot.destdir	PREFIX=${destroot}

# The old behaviour of automatically installing the contributed extras in the
# source distribution has been disabled for now, as it is not apparent that
# every Growl user will want these.  They should probably go into other ports,
# in any case.

variant universal {
	patchfiles-delete \
		patch-Growl.xcodeproj__project.pbxproj.${os.arch}.diff
}

