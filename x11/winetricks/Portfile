# $Id$

PortSystem              1.0

name                    winetricks
version                 20081012
categories              x11
maintainers             ryandesign
homepage                http://www.kegel.com/wine/
platforms               darwin
distname                ${name}
dist_subdir             ${name}/${version}
extract.suffix
extract.mkdir           yes
use_configure           no
universal_variant       no
use_parallel_build      no

description \
    downloads and installs various redistributable runtime libraries

long_description \
    ${name} can help you prepare your system for Windows applications \
    that mistakenly assume all users' systems have all the needed \
    redistributable runtime libraries or fonts.

master_sites \
    http://distfiles.macports.org/${dist_subdir} \
    ${homepage}

checksums \
    md5     3cf1ca95334bc3c7c4c66d2f93344a3b \
    sha1    abb58588fea50932d05950e1614185483e4ef535 \
    rmd160  3c31fd7ed658b30c2747976c097b3d531589401a

patchfiles \
    patch-x11prefix.diff

depends_run \
    path:${prefix}/bin/wine:wine \
    port:cabextract \
    port:openssl \
    bin:curl:curl

extract {
    copy ${distpath}/${name} ${worksrcpath}
}

build {
    reinplace "s%@X11PREFIX@%${x11prefix}%" ${worksrcpath}/${name}
}

destroot {
    xinstall -m 755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/${name}
}


livecheck.check         regex
livecheck.url           [lindex ${master_sites} 1]${name}
livecheck.regex         {Winetricks version (\d+)}
