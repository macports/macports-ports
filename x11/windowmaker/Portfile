# $Id: Portfile,v 1.14 2005/04/11 16:07:39 olegb Exp $
PortSystem 1.0
name		windowmaker
version		0.91.0
description	Window Maker is a X11 window manager supporting GNUstep
long_description        Window Maker is an X11 window manager originally \
                        designed to provide integration support for the \
                        GNUstep Desktop Environment. In every way possible, \
                        it reproduces the elegant look and feel of the \
                        NEXTSTEP\[tm\] user interface. It is fast, feature \
                        rich, easy to configure, and easy to use. \
                        It is also free software, with contributions being \
                        made by programmers from around the world.
maintainers	olegb@opendarwin.org
categories	x11-wm x11
platforms	darwin freebsd
homepage	http://www.windowmaker.org/
distname        WindowMaker-${version}
master_sites	ftp://ftp.windowmaker.org/pub/source/release/ \
 		ftp://ftp.goldweb.com.au/pub/WindowMaker/source/release/ \
 		ftp://ftp.kddlabs.co.jp/X11/window_managers/windowmaker/source/release/ \
 		ftp://ftp.ameth.org/pub/mirrors/ftp.windowmaker.org/source/release/ \
 		ftp://ftp.minet.net/pub/windowmaker/source/release/ \
 		ftp://gd.tuwien.ac.at/hci/windowmaker/source/release/ \
 		ftp://ftp.dti.ad.jp/pub/X/WindowMaker/source/release/ \
 		ftp://ftp.chg.ru/pub/X11/windowmanagers/windowmaker/source/release/
checksums	md5 9d5e583e6cce5b4d16bb686b0c26c5dc
depends_lib	lib:libX11.6:XFree86 lib:libjpeg.62:jpeg lib:libpng.3:libpng \
		lib:libtiff.3:tiff lib:libXft.2.1.2:Xft2
use_bzip2 	yes
configure.args  --disable-locale --disable-debug --mandir=${prefix}/share/man

post-destroot   { file delete -force ${destroot}${prefix}/share/WindowMaker/Icons/defaultAppIcon.tiff }


variant full {
    depends_lib-append	lib:libungif.4:libungif
    configure.env	LINGUAS="bg cs da de el es et fi fr gl hr hu it ja \
	                ko ms nl no pl pt ro ru sk sv tr zh_CN" \
			LIBS="-L${prefix}/lib -lintl -L/usr/X11R6/lib -lX11"
    patchfiles		patch-WINGs-Examples-Makefile.in patch-util-Makefile.in

    configure.args-delete 	--disable-locale
    configure.args-append      	--with-nlsdir=${prefix}/share/locale \
                		--enable-gnome --mandir=${prefix}/share/man
}
