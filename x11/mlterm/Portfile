# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                mlterm
version             3.8.2
categories          x11
platforms           darwin
maintainers         nomaintainer
license             BSD

description         Multi-lingual X11 terminal emulator

long_description    mlterm is a multi-lingual terminal emulator written from \
                    scratch, which supports various character sets and \
                    encodings in the world and complex characters such as \
                    double width for East Asian, combining for Thai, \
                    Vietnamese, and so on, and bi-direction for Arabic and \
                    Hebrew. Indic scripts in ISCII encoding are \
                    experimentally supported using libind library. It also \
                    supports various unique feature such as anti-alias using \
                    FreeType, multiple XIM, multiple windows, scrollbar API, \
                    scroll by mouse wheel, automatic selection of encoding, \
                    daemon mode, and so on.

homepage            http://mlterm.sourceforge.net/
master_sites        sourceforge:project/mlterm/01release/mlterm-${version}

checksums           rmd160  f7d4fd18d290108eb828370f782590cbf285dab8 \
                    sha256  30278fc4b43bf66eebd8ff728f943674554e7593a3989d0f3ea68c4b34270399

depends_build       port:pkgconfig

depends_lib         port:gtk2 \
                    port:xorg-libsm \
                    port:Xft2

configure.args      --with-gtk=2.0 \
                    --with-imagelib=gdk-pixbuf \
                    --with-type-engines=xft

post-destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
    file copy {*}[glob ${worksrcpath}/doc/*] \
        ${destroot}${prefix}/share/doc/${name}
}

variant bidi description {Enable bidirectional support} {
    depends_lib-append      port:fribidi
    configure.args-append   --enable-fribidi
}

livecheck.regex     /${name}-(\[0-9.\]+)${extract.suffix}
