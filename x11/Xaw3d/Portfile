# $Id$

PortSystem       1.0
name             Xaw3d
version          1.5E
revision         1
categories       x11
maintainers      nomaintainer
description      The Three-D Athena Toolkit
long_description \
    This release of Xaw3d is based on X.Org's X11R6.3 Athena \
    toolkit, with bits and pieces thrown in from other sources. \
    It is intended to be a general-purpose replacement for the \
    Athena (Xaw) toolkit. In general, you should be able to link \
    almost any Athena-based application to this Xaw3d Athena \
    toolkit, for a three-dimensional appearance on most of the \
    widgets. On systems with shared libraries, you might be able \
    replace your shared libXaw.* with libXaw3d.* to obtain the \
    appearance without even relinking, but the odds of this \
    working is slim, and not recommended.
homepage         http://www.visi.com/~hawkeyd/xaw3d.html
platforms        darwin
master_sites     freebsd \
                 ftp://ftp.visi.com/users/hawkeyd/X/
checksums        md5 29ecfdcd6bcf47f62ecfd672d31269a1
depends_lib      lib:libX11.6:XFree86
worksrcdir       xc/lib/${name}
patch {
    reinplace "s|XCOMM EXTRA_INCLUDES|EXTRA_INCLUDES|" "${worksrcpath}/Imakefile"
    file mkdir ${worksrcpath}/X11
    system "ln -fs .. ${worksrcpath}/X11/Xaw3d"
}
use_xmkmf        yes

# The Imakefile default is to install everything into /usr/X11R6/lib,
# which prevents multiple MacPorts installs on the same system.  Have
# it install the entire package into ${prefix} instead.
build.target-append	SHLIBGLOBALSFLAGS=-L/usr/X11R6/lib \
			INCDIR=${prefix}/include \
			SHLIBDIR=${prefix}/lib \
			USRLIBDIR=${prefix}/lib

destroot.destdir-append	INCDIR=${prefix}/include \
			SHLIBDIR=${prefix}/lib \
			USRLIBDIR=${prefix}/lib
