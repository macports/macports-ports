# $Id: Portfile,v 1.8 2004/05/23 05:34:15 pguyot Exp $

PortSystem			1.0
name				lablgtk
version				1.2.6
categories			x11
maintainers			pguyot@kallisys.net
description			Objective Caml interface to gtk+
long_description	LablGTK is is an Objective Caml interface to gtk+. \
					It uses the rich type system of Objective Caml 3 to provide a \
					strongly typed, yet very comfortable, object-oriented interface to \
					gtk+. This is not that easy if you know the dynamic typing approach \
					taken by gtk+.
homepage			http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/lablgtk.html
platforms			darwin
master_sites		http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/dist/
checksums			md5 7f349d9755ddb3a33fa915f5f4ecedb3
depends_lib			bin:camlp4:ocaml lib:libgtk.1:gtk1
configure {
	#weird weird build process
	cd ${worksrcpath}
	system "make configure \
		USE_DOTOPT=1 \
		INSTALLDIR=${destroot}${prefix}/lib/ocaml/lablgtk \
		BINDIR=${destroot}${prefix}/bin \
		DLLDIR=${destroot}${prefix}/lib/ocaml/stublibs"
	system "make"
}
build.target	opt
post-destroot { 
	system "ranlib ${destroot}/${prefix}/lib/ocaml/lablgtk/lablgtk.a"
	system "ranlib ${destroot}/${prefix}/lib/ocaml/lablgtk/liblablgtk.a"
}
