# $Id$

PortSystem      1.0
name            urw-fonts
version         1.0.7pre42
categories      x11 fonts
maintainers     takanori@macports.org
description     Cyrillized free URW fonts
long_description \
                These fonts were made from the free URW fonts distributed with ghostcript. \
                There are NO changes in the latin part of them (I hope). \
                Cyrillic glyphs were added by copying suitable latin ones \
                and painting oulines of unique cyrillic glyphs in same style as the others.
platforms       darwin
homepage        ftp://ftp.gnome.ru/fonts/urw/release/
master_sites    ftp://ftp.gnome.ru/fonts/urw/release/
distfiles       ${name}-${version}.tar.bz2
depends_run     port:fontconfig

checksums       md5 362123026b6bae624bdcf8b366ae7978 \
                sha1 6ccc98ce13711f409c61f6f86dc6fc7cf151cec2 \
                rmd160 6d820bd225b157f1f59bef93535d6cb976ef87b9

use_bzip2       yes
extract.dir     ${worksrcpath}

pre-extract {
    file mkdir ${worksrcpath}
}

use_configure   no

build {}

destroot {
    set fontsdir ${destroot}${prefix}/share/fonts/${name}
    xinstall -d -m 755 ${fontsdir}
    foreach f {*.afm *.pfb *.pfm fonts.*} {
        eval xinstall -m 644 [glob ${worksrcpath}/${f}] ${fontsdir}
    }
}
post-destroot {
    xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${worksrcpath} COPYING ChangeLog README README.tweaks TODO ${destroot}${prefix}/share/doc/${name}
}
post-activate {
    #though this approach is not so scalable.
    system "${prefix}/bin/fc-cache -fv ${prefix}/share/fonts"
}

livecheck.check md5
livecheck.md5   00ff685cfde3e0ea3623bd4e39d236a2
