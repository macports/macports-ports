# $Id$

PortSystem      1.0

name            wxgtk
conflicts       wxWidgets wxWidgets-python
version         2.8.11
revision        1
categories      x11
platforms       darwin
maintainers     nomaintainer

description     The wxWidgets GUI toolkit with GTK+ bindings
long_description    \
    A C++ package for platform independent software development

homepage        http://wxwidgets.org/
master_sites    sourceforge:wxwindows
distname        wxGTK-${version}

checksums       md5     6040933d200037f90f6aa1c5169e7ec6 \
                sha1    e979d9d2b1ee5bd10e90fd00b02f3306327c661a \
                rmd160  8028caed3be9ff5793dc7eab015d88d6c945f66d

use_bzip2       yes

depends_lib     port:gtk2 \
                port:tiff \
                port:jpeg \
                port:libpng \
                port:freetype \
                port:zlib

patchfiles      patch-Makefile.in

# g++-4.2: -E, -S, -save-temps and -M options are not allowed with multiple -arch flags
universal_variant no

configure.args  --with-gtk --with-libpng --with-libjpeg --with-libtiff \
                --with-freetype --with-zlib

post-destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
    eval xinstall -m 644 [glob ${worksrcpath}/*.txt] \
        ${destroot}${prefix}/share/doc/${name}
}

variant opengl {
    depends_lib-append      port:mesa
    configure.args-append   --with-opengl
}
