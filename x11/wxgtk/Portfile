# $Id: Portfile,v 1.2 2003/08/05 09:29:45 jkh Exp $

PortSystem 1.0
name		wxgtk
version		2.4.0
revision	0
categories	x11
maintainers	jpm@opendarwin.org
description	The wxWindows GUI toolkit with GTK+ bindings
long_description	\
	A C++ package for platform independent software development
homepage	http://wxwindows.org/
platforms	darwin
master_sites	\
	http://unc.dl.sourceforge.net/sourceforge/wxwindows/ \
	http://telia.dl.sourceforge.net/sourceforge/wxwindows/ \
	http://easynews.dl.sourceforge.net/sourceforge/wxwindows/ \
	http://umn.dl.sourceforge.net/sourceforge/wxwindows/ \
	http://twtelecom.dl.sourceforge.net/sourceforge/wxwindows/ \
	http://belnet.dl.sourceforge.net/sourceforge/wxwindows/ \
	http://switch.dl.sourceforge.net/sourceforge/wxwindows/ \
	http://cesnet.dl.sourceforge.net/sourceforge/wxwindows/
distname	wxGTK-${version}
checksums	md5 b51cbef5b29ede3f56121e3d142dbc76
use_bzip2	yes
depends_lib	lib:libgtk.1:gtk lib:libtiff:tiff lib:libjpeg:jpeg \
	lib:libpng:libpng lib:libfreetype.6:freetype
configure.env \
	LDFLAGS="-L${prefix}/lib" \
	CPPFLAGS="-no-cpp-precomp -I${prefix}/include -I/usr/X11R6/include"
configure.args	--with-gtk --with-libpng --with-libjpeg --with-libtiff \
	--with-freetype
build.target	
destroot.vars	prefix=${destroot}${prefix}

variant darwin {
	patchfiles	darwin-shared-ld-sh
	post-patch {
		system "chmod 755 distrib/mac/shared-ld-sh"
	}
}