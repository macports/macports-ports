# $Id: Portfile,v 1.2 2005/07/11 08:56:48 mww Exp $

PortSystem 1.0
name            dspam
version         3.4.8
revision        1
categories      mail net
maintainers     michaelm@opendarwin.org
description     scalable, opensource statistical anti-spam filter
long_description opensource anti-spam filter with multiple algorithms and \
                 useful admin tools and cgi quaranteen interface. 

homepage        http://www.nuclearelephant.com/projects/dspam/index.shtml
platforms       darwin freebsd
master_sites    http://www.nuclearelephant.com/projects/dspam/sources/

distname        ${name}-${version}
checksums       md5 b6930c31fe0940b8ad6d27324f8bab3e 

default_variants +postgres

configure.args  --sysconfdir='${prefix}/etc' \
                  --mandir='${prefix}/share/man' \
                  --enable-daemon 
                  


variant sqlite conflicts postgres {
                depends_lib     port:sqlite3
                configure.args-append --with-sqlite-libaries=${prefix}/lib
}
variant postgres conflicts sqlite { 
                depends_lib     port:postgresql8
                configure.args-append --with-storage-driver=pgsql_drv \
                                      --with-pgsql-includes=${prefix}/include/pgsql8 \
                                      --with-pgsql-libraries=${prefix}/lib/pgsql8 
}
