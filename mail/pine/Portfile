# $Id: Portfile,v 1.14 2004/04/27 18:36:00 matt Exp $

PortSystem 1.0
name		pine
version		4.58
revision	1
categories	mail
maintainers	sean@fuzzymagic.com
description	Pine - a Program for Internet News and Email
homepage	http://www.washington.edu/pine/
platforms	darwin

long_description Pine is a tool for reading, sending, and managing \
		 electronic messages that was designed with novice \
		 users in mind.

master_sites	ftp://ftp.cac.washington.edu/pine/ \
		ftp://ftp.cac.washington.edu/pine/old/
checksums   md5 6135222a12f06b2dfceea5c1b736891e
distname	${portname}${portversion}

use_bzip2	yes

configure	{}

build.cmd	sh ${worksrcpath}/build
build.target	osx

variant ssl_plain	{ build.args SSLTYPE=unix }

set inst	"install -o root -m 755"
set docinst	"install -o root -m 644"

destroot	{ system "${inst} -d ${destroot}${prefix}/bin"
		  system "${inst} -d ${destroot}${prefix}/share/man/man1"
		  system "${inst} -d ${destroot}${prefix}/share/doc/${portname}-${portversion}"
		  system "${inst} -d ${destroot}${prefix}/etc"
		  system "${inst} ${worksrcpath}/bin/pine ${destroot}${prefix}/bin"
		  system "${inst} ${worksrcpath}/bin/pico ${destroot}${prefix}/bin"
		  system "${inst} ${worksrcpath}/bin/pilot ${destroot}${prefix}/bin"
		  system "${inst} ${worksrcpath}/bin/rpdump ${destroot}${prefix}/bin"
		  system "${inst} ${worksrcpath}/bin/rpload ${destroot}${prefix}/bin"
		  system "${docinst} ${worksrcpath}/doc/*.1 ${destroot}${prefix}/share/man/man1"
		  system "${docinst} ${worksrcpath}/doc/tech-notes/*.html ${destroot}${prefix}/share/doc/${portname}-${portversion}"
		  system "${destroot}${prefix}/bin/pine -conf > ${destroot}${prefix}/etc/pine.conf" }
