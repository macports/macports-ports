# $Id$

PortSystem 1.0

name		fetchmail
version		6.3.5
categories	mail
platforms	darwin
maintainers	pmq@macports.org

description	Batch mail retrieval utility for IMAP, POP2, POP3, \
		APOP, KPOP, ETRN, or ODMR
long_description \
    Fetchmail is a full-featured IMAP, POP2, POP3, \
    APOP, KPOP, ETRN, ODMR client with easy \
    configuration, daemon mode, forwarding via SMTP \
    or local MDA, and superior reply handling.  It \
    is used to handle intermittent email connections \
    by acting as a coupling that seamlessly batch \
    forwards fetched mail from your mail server to \
    your local delivery system, allowing you to read \
    your it with your favourite mail user agent. \
    Fetchmail also includes useful spam filtering \
    and multi-user functions.  \
    A typical use of fetchmail is to connect to your \
    ISP's POP3 server, downloading your mail into \
    the INBOX on your local computer.  You may then \
    read the mail, offline if you want, using Pine, \
    mutt, or any standard mail user agent.   \

homepage	http://fetchmail.berlios.de
master_sites	http://download2.berlios.de/${name} \
		http://download.berlios.de/${name}
use_bzip2	yes

checksums	sha1 e009d904454f7eb0744f3db468bcaf2f8fd2b443 \
  		rmd160 3032622b8e3d2171bc7d94357414ccc69bfa9f0d

depends_lib	port:gettext port:py-tkinter
# depends_run	path:/Library/StartupItems/DarwinPortsStartup:DarwinPortsStartup

configure.env	CFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"
configure.args	--mandir=${prefix}/share/man \
		--without-ssl --with-kerberos5 --with-gssapi

variant ssl {
    depends_lib-append		port:openssl
    configure.args-delete	--without-ssl
    configure.args-append	--with-ssl
}
