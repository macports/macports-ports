# $Id: Portfile,v 1.23 2003/10/22 19:40:59 fkr Exp $

PortSystem 1.0
name		mutt
version		1.4.1
categories	mail
maintainers	eric@opendarwin.org
description	Mongrel of Mail User Agents (part Elm, Pine, Mush, mh, etc)
homepage	http://www.mutt.org/
platforms	darwin

long_description Mutt -- "The Mongrel of Mail User Agents" (part Elm, part \
		 Pine, part mh, part slrn, part everything else) is an \
		 interactive screen-oriented mailer program that supersedes \
		 Elm, Pine, mail and mailx.  Features include color support, \
		 message threading, MIME support (including RFC1522 support \
		 for encoded headers), customizable key bindings, POP3, \
		 Delivery Status Notification (DSN) support, and PGP/MIME.

master_sites	ftp://ftp.mutt.org/${portname}/

distname	${portname}-${portversion}i
checksums	md5 fb5418135c5be2638964eef2f654f847
patchfiles	patch-configure.in

worksrcdir	${portname}-${portversion}

configure.cmd	./prepare
configure.args	--with-libiconv-prefix=${prefix} --disable-warnings

depends_lib	lib:libiconv.2:libiconv lib:libintl.1:gettext

variant pop	{ configure.args-append --enable-pop }
variant imap	{ configure.args-append --enable-imap }
variant ssl	{ configure.args-append --with-ssl }

variant compress { configure.args-append --enable-compressed
		     patch_sites http://www.spinnaker.de/mutt/compressed/
		     patchfiles-append patch-1.4.1.rr.compressed.1.gz
		     patch.args	-p1
		     checksums \
		     mutt-1.4.1.tar.gz md5 fb5418135c5be2638964eef2f654f847 \
		     patch-1.4.1.rr.compressed.1.gz md5 b50484f8b12328c3ee69222a3eb1da11 }

variant nntp	{ configure.args-append --enable-nntp
		  patch_sites http://www.mutt.org.ua/download/mutt-1.4.1/
		  patchfiles-append patch-1.4.1.vvv.nntp.gz
		  patch.args -p1
		  checksums \
		  mutt-1.4.1.tar.gz md5 fb5418135c5be2638964eef2f654f847 \
		  patch-1.4.1.vvv.nntp.gz md5 447b199826b629ab9318548a34e01b8f }
