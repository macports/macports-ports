# $Id$

PortSystem 1.0

name			imapfilter
version			2.0.2
categories		mail
platforms		darwin
maintainers		mww@macports.org
description		IMAP message processor/filter
long_description	IMAPFilter connects to remote IMAP mail servers and \
				processes messages according to defined filters (rules). It is \
				intended to be executed before a user accesses his/her \
				mailboxes.

homepage		http://imapfilter.hellug.gr/
master_sites	${homepage}/source/
checksums		sha1 d77397e8bb236d54f642f4b097eb4d1b7a49ab88
use_bzip2		yes

depends_lib		port:lua port:openssl port:pcre

configure.pre_args	-d \\\${DEST}${prefix}
configure.args		-m \\\${DEST}${prefix}/share/man

build.args		LIBDIRS="-L${prefix}/lib" INCDIRS="-I${prefix}/include" \
			LIBS="-lm -llua -lssl -lcrypto -lpcre"

destroot.destdir	DEST=${destroot}

platform darwin 8 { build.args-append	CC=/usr/bin/gcc-4.0 }

livecheck.check	regex
livecheck.url	${homepage}
livecheck.regex	imapfilter-(\[0-9\\.\]+)\\.

