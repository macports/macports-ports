# $Id: Portfile,v 1.10 2004/06/21 21:08:42 toby Exp $

PortSystem 1.0
name		xemacs
version		21.5.17
categories	editors
maintainers	jkh@opendarwin.org
description	The XEmacs editor, based on GNU Emacs
long_description	\
	GNU Emacs is a self-documenting, customizable, extensible 	\
	real-time display editor. Users new to Emacs will be able to 	\
	use basic features fairly rapidly by studying the tutorial and 	\
	using the self-documentation features. Emacs also has an 	\
	extensive interactive manual browser. It is easily extensible 	\
	since its editing commands are written in Lisp. XEmacs adds 	\
	many extensions to GNU Emacs to take particilar advantage of 	\
	the X Window System.
platforms	darwin
homepage	http://www.xemacs.org
master_sites	ftp://ftp.us.xemacs.org/pub/xemacs/xemacs-21.5 \
		http://ftp.us.xemacs.org/ftp/pub/xemacs/xemacs-21.5 \
		ftp://ibiblio.org/pub/packages/editors/xemacs/xemacs-21.5 \
		http://ibiblio.org/pub/packages/editors/xemacs/xemacs-21.5 \
		http://mirrors.mix5.com/xemacs/xemacs-21.5 \
		http://www.binarycode.org/xemacs/xemacs-21.5 \
		http://www.online-mirror.org/xemacs/xemacs-21.5 \
		http://xemacs.software-archive.net/xemacs-21.5
#use_bzip2	yes
configure.post_args	--pdump
checksums	${name}-${version}${extract.suffix} \
			md5 45f619328fa8ce0e7f38ade44601e3df
destroot.args	prefix=${destroot}/${prefix}

# Warning: This is highly version dependent.  If you update the version
# of this port, you will almost certainly have to adjust the values below.
variant sumo {
	set s_version 		2004-02-02
	distfiles-append 	${name}-sumo-${s_version}${extract.suffix}
	master_sites-append	\
		ftp://ftp.us.xemacs.org/pub/xemacs/packages \
		http://ftp.us.xemacs.org/ftp/pub/xemacs/packages \
		ftp://ibiblio.org/pub/packages/editors/xemacs/packages \
		http://ibiblio.org/pub/packages/editors/xemacs/packages \
		http://mirrors.mix5.com/xemacs/packages \
		http://www.binarycode.org/xemacs/packages \
		http://www.online-mirror.org/xemacs/packages \
		http://xemacs.software-archive.net/packages
	checksums-append 	${name}-sumo-${s_version}${extract.suffix} \
					md5 88f222c6d4a15475c991f56a3467078c
	post-destroot {
		ui_info "Installing sumo distribution into destroot"
		system "tar -cpf - -C ${worksrcpath}/.. xemacs-packages | tar -xpf - -C ${destroot}${prefix}/lib/${name}-21.5-b17"
	}
}
