# $Id$

PortSystem 1.0

name            efte
version         0.96
revision	2
categories      editors
platforms       darwin
maintainers     reiffert@macports.org openmaintainer
description     configurable programmers editor
long_description \
    eFTE is a lightweight, extendable, folding text editor \
    geared toward the programmer. eFTE is a fork of FTE with goals of \
    taking FTE to the next step, hence, Enhanced FTE.

homepage        http://efte.sourceforge.net
master_sites    http://downloads.sourceforge.net/sourceforge/efte/
checksums       efte-${version}.tar.gz md5 ae60a3056e73d4655569f455e4c6283e
depends_build   bin:cmake:cmake \
		lib:libX11:XFree86

configure.args  -DCMAKE_BUIL_TYPE=Release \
                -DCMAKE_INSTALL_PREFIX:PATH=${prefix} \
                -DUSE_GPM=OFF -DBUILD_CONSOLE=ON -DBUILD_X=ON

configure {
    system "cd ${worksrcpath} && ${configure.env} cmake ${configure.args} ${worksrcpath}"
}

variant no_x11 description {Does not build the X11 variant.} {
    depends_build-delete    lib:libX11:XFree86
    configure.args-append   "-DBUILD_X=OFF"
    configure.args-delete   "-DBUILD_X=ON"
}

post-destroot {
    system "cd ${destroot}${prefix}/share/efte && ../../bin/cefte config/mymain.fte system.fterc"
}
