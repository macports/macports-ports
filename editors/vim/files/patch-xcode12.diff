Upstream: https://github.com/vim/vim/commit/bd7f7c123db58dd7f50f4d1391577686d2f1bcc6

diff --git src/auto/configure src/auto/configure
index 9c9a719d81a..41b29c2623f 100755
--- src/auto/configure
+++ src/auto/configure
@@ -12106,7 +12106,7 @@ if test "x$olibs" = "x$LIBS"; then
 $as_echo_n "checking for tgetent()... " >&6; }
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
-
+int tgetent(char *, const char *);
 int
 main ()
 {
diff --git src/configure.ac src/configure.ac
index 19ce4c7a5f3..598d73c8dfc 100644
--- src/configure.ac
+++ src/configure.ac
@@ -3510,7 +3510,7 @@ fi
 
 if test "x$olibs" = "x$LIBS"; then
   AC_MSG_CHECKING([for tgetent()])
-  AC_TRY_LINK([],
+  AC_TRY_LINK([int tgetent(char *, const char *);],
       [char s[10000]; int res = tgetent(s, "thisterminaldoesnotexist");],
 	AC_MSG_RESULT(yes),
 	AC_MSG_ERROR([NOT FOUND!
